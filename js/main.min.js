!function(){"use strict";function t(t,e,a){t.otherwise("/"),a.state("login",{url:"",views:{"content@":{templateUrl:"html/login/login.index.html",controller:"LoginController",controllerAs:"login"}}}).state("app",{url:"/content",views:{menu:{templateUrl:"html/menu/menu.index.html",controller:"MenuController",controllerAs:"menuData"},"content@":{templateUrl:"html/content/content.index.html",controller:"Contentcontroller",controllerAs:"content"}}})}angular.module("app",[]);angular.module("app",["ui.router","ngAnimate","ngResource","app.api","app.global","app.menu","app.login","app.main","app.utility","app.alltodo","app.next","app.today","app.content","app.archive"]).constant("sitename","applocal").constant("apibase","http://localhost:3000").constant("apiversion","/v1.0").config(t),t.$inject=["$urlRouterProvider","$httpProvider","$stateProvider"]}(),function(){"use strict";function t(t,e){return t(e+"/userlogin",{},{get:{method:"GET",isArray:!0}})}function e(){return{isError:function(t){return 1==t?!0:!1}}}function a(){var t;return{get:function(){return t=localStorage.getItem("id_token")},set:function(e){return localStorage.setItem("id_token",e),t=e}}}function o(t,e){return t(e+"/userlogin")}function n(t,e){return t(e+"/mainmenu",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function r(t,e){return t(e+"/project",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function l(t,e){return t(e+"/labels",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function i(t,e){return t(e+"/filters",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function s(t,e){var a=function(t){return t=angular.fromJson(t),t.dateNum=new Date(t.dateNum),t};return t(e+"/task/:id",{id:"@id"},{get:{method:"GET",transformResponse:a},save:{method:"POST"},update:{method:"PUT"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}})}function u(){var t=[],e=function(e){t=[],t.push(e)},a=function(){return t};return{addIdData:e,getIdData:a}}angular.module("app.api",[]),angular.module("app.api").factory("Login",t),t.$inject=["$resource","apibase"],angular.module("app.api").factory("Statuscode",e),angular.module("app.api").factory("Token",a),angular.module("app.api").factory("User",o),o.$inject=["$resource","apibase"],angular.module("app.api").factory("Menulist",n),n.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlist",r),r.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlabel",l),l.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectfilter",i),i.$inject=["$resource","apibase"],angular.module("app.api").factory("Alltasks",s),s.$inject=["$resource","apibase"],angular.module("app.api").service("isId",u)}(),function(){"use strict";angular.module("app.global",[]).filter("pagination",function(){return function(t,e){return e=+e,t.slice(e)}})}(),function(){"use strict";function t(t){}function e(){function t(t,e,a){e.on("click",function(){$(".wrapper").toggleClass("panelAnimates"),e.find("span").html("Open"==$(".closeBtn span").text()?"Close":"Open")})}var e={link:t,restrict:"A"};return e}angular.module("app.content",[]).controller("Contentcontroller",t).directive("toggleElm",e),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,a){var o=this;o.submitLogin=function(){o.userlogin={},o.userlogin={username:o.username,password:o.password};var e=[];e=a.get(o.userlogin,function(){1==e.length&&"undefined"!=o.password&&e[0].password==o.password?t.go("app"):o.errorData="Please check username / password."})}}angular.module("app.login",[]).controller("LoginController",t),t.$inject=["$state","statuscode","Login"]}(),function(){"use strict";function t(){}angular.module("app.main",[]).controller("MainController",t)}(),function(){"use strict";function t(t,e,a,o,n){var r=this;r.menuList=t.query(),r.projectList=e.query(),r.projectLabel=a.query(),r.projectFilter=o.query()}function e(){function t(t,e,a){e.on("click",function(){var t=$(".content .closeBtn").find("span");$(".wrapper").toggleClass("panelAnimates"),t.html("Close"==t.text()?"Open":"Close")})}var e={link:t,restrict:"A"};return e}angular.module("app.menu",[]).controller("MenuController",t).directive("elmPanel",e),t.$inject=["Menulist","Projectlist","Projectlabel","Projectfilter","$stateParams"]}(),function(){"use strict";function t(){var t=this;t.time=new Date}angular.module("app.utility",[]).controller("UtilitiesController",t)}(),function(){"use strict";function t(t){t.state("app.all",{url:"/alltask/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{params:["id"],templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var o=this;o.numberCurrent=0,o.pageSize=3,o.allTasks=t.query(),o.numberOfPages=function(){return Math.ceil(o.allTasks.length/o.pageSize)},o.removeTask=function(e){t["delete"]({},{id:e.id},function(){o.allTasks=t.query()})},o.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.alltodo",["app.alltodo.create","app.alltodo.edit"]).config(t).controller("AlltaskController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.archive",{url:"/archive",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.archived/archived.index.html",controller:"controllerArchive",controllerAs:"archived"}}})}function e(){}angular.module("app.archive",[]).config(t).controller("controllerArchive",e),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.state("app.next",{url:"/next/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.taskSeven/seven.index.html",controller:"controllerNextDays",controllerAs:"nextSeven"}}})}function e(t,e,a){var o=this;o.todayDate=moment().format("L"),o.weekDate=moment().weekday(7).format("L"),o.nextSevenEvents=t.query({},function(){var t=[];angular.forEach(o.nextSevenEvents,function(e,a){moment(e.dateNum).format("L")>=o.todayDate&&moment(e.dateNum).format("L")<=o.weekDate&&t.push(e)}),o.nextSevenEvents=t}),o.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},o.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.next",[]).config(t).controller("controllerNextDays",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.today",{url:"/today",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.today/today.index.html",controller:"TodayController",controllerAs:"today"}}})}function e(t,e,a){var o=this;o.todayDate=moment().format("L"),o.todoTasks=t.query({},function(){var t=[];angular.forEach(o.todoTasks,function(e,a){o.todayDate==moment(e.dateNum).format("L")&&t.push(e)}),o.todoTasks=t}),o.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},o.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.today",[]).config(t).controller("TodayController",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t){t.state("app.create",{url:"/alltask/create",views:{"overlay@":{templateUrl:"/html/main/main.all/create.all/create.all.html",controller:"CreatetodoController",controllerAs:"createTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var o=this;o.submitted=!1,o.priority=e.query(),o.user=a.query({},function(){var t=[];angular.forEach(o.user,function(e,a){t.push(o.user[a].name)}),o.user=t}),o.createTask=function(){o.formAddTasks.$valid?(o.data={},o.data={project:o.project,label:o.label,name:o.name,dateNum:o.dateNum,headerComment:o.headerComment,comment:o.comment,done:o.done},console.log(o.data.done),t.save(o.data),$("form").find("input").val(""),$("p.msg-error").removeClass("msg-error")):($("form").find("p").addClass("msg-error"),o.submitted=!0)},o.resetVal=function(){$("form").find("input").val("")}}angular.module("app.alltodo.create",["app.alltodo"]).config(t).controller("CreatetodoController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","Projectlabel","User"]}(),function(){"use strict";function t(t){t.state("app.edit",{url:"/alltask/edit",views:{"overlay@":{templateUrl:"/html/main/main.all/edit.all/edit.all.html",controller:"EdittodoController",controllerAs:"editTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var o=this,n=t.getIdData();o.idEdit=n[0],o.task=e.get({},{id:n[0]}),o.editTask=function(){o.newTask={id:n[0],project:o.task.project,label:o.task.label,name:o.task.name,dateNum:o.task.dateNum,headerComment:o.task.headerComment,comment:o.task.comment,done:o.task.done},o.newTask.dateNum=new Date(o.task.dateNum),e.update(o.newTask),a.go("app.all")},o.cancelEdit=function(){a.go("app.all")}}angular.module("app.alltodo.edit",["app.alltodo"]).config(t).controller("EdittodoController",e),t.$inject=["$stateProvider"],e.$inject=["isId","Alltasks","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJnbG9iYWwuanMiLCJmaWx0ZXJzLmpzIiwiY29udGVudC9jb250ZW50Q29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luQ29udHJvbGxlci5qcyIsIm1haW4vbWFpbkNvbnRyb2xsZXIuanMiLCJtZW51L21lbnVDb250cm9sbGVyLmpzIiwidXRpbGl0aWVzL3V0aWxpdGllc0NvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2FsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYXJjaGl2ZWQvYXJjaGl2ZWRDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbkNvbnRyb2xsZXIuanMiLCJtYWluL21haW4udG9kYXkvdG9kYXlDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLmFsbC9jcmVhdGUuYWxsL2NyZWF0ZWFsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2VkaXQuYWxsL2VkaXRhbGxDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJjb250ZW50QCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm1lbnUiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCIkaW5qZWN0IiwiTG9naW4iLCIkcmVzb3VyY2UiLCJhcGliYXNlIiwiZ2V0IiwibWV0aG9kIiwiaXNBcnJheSIsIlN0YXR1c2NvZGUiLCJpc0Vycm9yIiwidmFsdWUiLCJUb2tlbiIsImtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXQiLCJ2YWwiLCJzZXRJdGVtIiwiVXNlciIsIk1lbnVsaXN0Iiwic2F2ZSIsInF1ZXJ5IiwiZGVsZXRlIiwiUHJvamVjdGxpc3QiLCJQcm9qZWN0bGFiZWwiLCJQcm9qZWN0ZmlsdGVyIiwiQWxsdGFza3MiLCJkYXRlSnNvbiIsImZyb21Kc29uIiwiZGF0ZU51bSIsIkRhdGUiLCJpZCIsInRyYW5zZm9ybVJlc3BvbnNlIiwidXBkYXRlIiwicmVtb3ZlIiwiaXNJZCIsImlzSWRzIiwiYWRkSWREYXRhIiwibmV3SUQiLCJwdXNoIiwiZ2V0SWREYXRhIiwiZmFjdG9yeSIsInNlcnZpY2UiLCJmaWx0ZXIiLCJpbnB1dCIsInN0YXJ0Iiwic2xpY2UiLCJDb250ZW50Y29udHJvbGxlciIsIiRzY29wZSIsInRvZ2dsZUVsbSIsImxpbmsiLCJzY29wZSIsImVsZW0iLCJhdHRycyIsIm9uIiwiJCIsInRvZ2dsZUNsYXNzIiwiZmluZCIsImh0bWwiLCJ0ZXh0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJMb2dpbkNvbnRyb2xsZXIiLCIkc3RhdGUiLCJzdGF0dXNjb2RlIiwibG9naW5Db250cm9sbGVyIiwidGhpcyIsInN1Ym1pdExvZ2luIiwidXNlcmxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvZ2luUmVzdWx0IiwibGVuZ3RoIiwiZ28iLCJlcnJvckRhdGEiLCJNYWluQ29udHJvbGxlciIsIk1lbnVDb250cm9sbGVyIiwiJHN0YXRlUGFyYW1zIiwibWVudUxpc3QiLCJwcm9qZWN0TGlzdCIsInByb2plY3RMYWJlbCIsInByb2plY3RGaWx0ZXIiLCJlbG1QYW5lbCIsIiR0ZXh0VGFyZ2V0IiwiVXRpbGl0aWVzQ29udHJvbGxlciIsInRpbWUiLCJ1dGlsaXRpZXNAYXBwIiwibWFpbkBhcHAiLCJwYXJhbXMiLCJBbGx0YXNrQ29udHJvbGxlciIsIm51bWJlckN1cnJlbnQiLCJwYWdlU2l6ZSIsImFsbFRhc2tzIiwibnVtYmVyT2ZQYWdlcyIsIk1hdGgiLCJjZWlsIiwicmVtb3ZlVGFzayIsInRhc2siLCJlZGl0VGFzayIsImNvbnRyb2xsZXJBcmNoaXZlIiwiY29udHJvbGxlck5leHREYXlzIiwidG9kYXlEYXRlIiwibW9tZW50IiwiZm9ybWF0Iiwid2Vla0RhdGUiLCJ3ZWVrZGF5IiwibmV4dFNldmVuRXZlbnRzIiwiYXJyYXlQb3MiLCJmb3JFYWNoIiwiVG9kYXlDb250cm9sbGVyIiwidG9kb1Rhc2tzIiwib3ZlcmxheUAiLCJDcmVhdGV0b2RvQ29udHJvbGxlciIsInN1Ym1pdHRlZCIsInByaW9yaXR5IiwidXNlciIsInVzZXJEYXRhIiwibmFtZSIsImNyZWF0ZVRhc2siLCJmb3JtQWRkVGFza3MiLCIkdmFsaWQiLCJkYXRhIiwicHJvamVjdCIsImxhYmVsIiwiaGVhZGVyQ29tbWVudCIsImNvbW1lbnQiLCJkb25lIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJyZXNldFZhbCIsIkVkaXR0b2RvQ29udHJvbGxlciIsImVkaXRJZCIsImlkRWRpdCIsIm5ld1Rhc2siLCJjYW5jZWxFZGl0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVBLFlBMEJBLFNBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFVBQUEsS0FFQUQsRUFDQUUsTUFBQSxTQUNBQyxJQUFBLEdBQ0FDLE9BQ0FDLFlBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsa0JBQ0FDLGFBQUEsWUFJQU4sTUFBQSxPQUNBQyxJQUFBLFdBQ0FDLE9BQ0FLLE1BQ0FILFlBQUEsNEJBQ0FDLFdBQUEsaUJBQ0FDLGFBQUEsWUFFQUgsWUFDQUMsWUFBQSxrQ0FDQUMsV0FBQSxvQkFDQUMsYUFBQSxjQWxEQUUsUUFBQUMsT0FBQSxTQUNBRCxTQUFBQyxPQUFBLE9BQ0EsWUFDQSxZQUNBLGFBQ0EsVUFDQSxhQUNBLFdBQ0EsWUFDQSxXQUNBLGNBQ0EsY0FDQSxXQUNBLFlBQ0EsY0FDQSxnQkFHQUMsU0FBQSxXQUFBLFlBQ0FBLFNBQUEsVUFBQSx5QkFDQUEsU0FBQSxhQUFBLFNBRUFmLE9BQUFBLEdBcUNDQSxFQUFPZ0IsU0FBVyxxQkFBc0IsZ0JBQWlCLHFCQy9EMUQsV0FFQSxZQUtBLFNBQUFDLEdBQUFDLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQUMsRUFBQSxpQkFFQUMsS0FBQUMsT0FBQSxNQUFBQyxTQUFBLEtBS0EsUUFB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Z0IsV2EvcUI3RCxXQUVBLFlBUUEsU0FBQWhCLEdBQUFHLEdBRUFBLEVBQ0FFLE1BQUEsWUFFQUMsSUFBQSxnQkFDQUMsT0FFQXVILFlBQ0FySCxZQUFBLDZDQUNBQyxXQUFBLHFCQUNBQyxhQUFBLFlBR0EyRixZQUNBN0YsWUFBQSxvQ0FDQUMsV0FBQSxvQkFDQUMsYUFBQSxXQU9BLFFBQUF3SSxHQUFBakcsRUFBQVQsRUFBQXFDLEdBRUEsR0FBQXFFLEdBQUFsRSxLQUNBbUUsRUFBQWxHLEVBQUFLLFdBRUE0RixHQUFBRSxPQUFBRCxFQUFBLEdBQ0FELEVBQUFuQyxLQUFBdkUsRUFBQXJCLFFBQUEwQixHQUFBc0csRUFBQSxLQUVBRCxFQUFBbEMsU0FBQSxXQUVBa0MsRUFBQUcsU0FFQXhHLEdBQUFzRyxFQUFBLEdBQ0FYLFFBQUFVLEVBQUFuQyxLQUFBeUIsUUFDQUMsTUFBQVMsRUFBQW5DLEtBQUEwQixNQUNBTixLQUFBZSxFQUFBbkMsS0FBQW9CLEtBQ0F4RixRQUFBdUcsRUFBQW5DLEtBQUFwRSxRQUNBK0YsY0FBQVEsRUFBQW5DLEtBQUEyQixjQUNBQyxRQUFBTyxFQUFBbkMsS0FBQTRCLFFBQ0FDLEtBQUFNLEVBQUFuQyxLQUFBNkIsTUFJQU0sRUFBQUcsUUFBQTFHLFFBQUEsR0FBQUMsTUFBQXNHLEVBQUFuQyxLQUFBcEUsU0FDQUgsRUFBQU8sT0FBQW1HLEVBQUFHLFNBQ0F4RSxFQUFBVSxHQUFBLFlBSUEyRCxFQUFBSSxXQUFBLFdBQ0F6RSxFQUFBVSxHQUFBLFlBNURBM0UsUUFBQUMsT0FBQSxvQkFDQSxnQkFFQWQsT0FBQUEsR0FDQVUsV0FBQSxxQkFBQXlJLEdiMHNCQ25KLEVBQU9nQixTQUFXLGtCQW9DbEJtSSxFQUFtQm5JLFNBQVcsT0FBUSxXQUFZIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtdKTtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xuXHRcdCd1aS5yb3V0ZXInLFxuXHRcdCduZ0FuaW1hdGUnLFxuXHRcdCduZ1Jlc291cmNlJyxcblx0XHQnYXBwLmFwaScsXG5cdFx0J2FwcC5nbG9iYWwnLFxuXHRcdCdhcHAubWVudScsXG5cdFx0J2FwcC5sb2dpbicsXG5cdFx0J2FwcC5tYWluJyxcblx0XHQnYXBwLnV0aWxpdHknLFxuXHRcdCdhcHAuYWxsdG9kbycsXG5cdFx0J2FwcC5uZXh0Jyxcblx0XHQnYXBwLnRvZGF5Jyxcblx0XHQnYXBwLmNvbnRlbnQnLFxuXHRcdCdhcHAuYXJjaGl2ZSdcblx0XSlcblxuXHQuY29uc3RhbnQoJ3NpdGVuYW1lJywgJ2FwcGxvY2FsJylcblx0LmNvbnN0YW50KCdhcGliYXNlJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpXG5cdC5jb25zdGFudCgnYXBpdmVyc2lvbicsICcvdjEuMCcpXG5cblx0LmNvbmZpZyhjb25maWcpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZygkdXJsUm91dGVyUHJvdmlkZXIsICRodHRwUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyKSB7XG5cblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdsb2dpbicsIHtcblx0XHRcdFx0dXJsOicnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9sb2dpbi9sb2dpbi5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbG9naW4nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LnN0YXRlKCdhcHAnLCB7XG5cdFx0XHRcdHVybDogJy9jb250ZW50Jyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnbWVudSc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tZW51L21lbnUuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTWVudUNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbWVudURhdGEnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvY29udGVudC9jb250ZW50LmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NvbnRlbnRjb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NvbnRlbnQnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdC8vand0SW50ZXJjZXB0b3JQcm92aWRlci50b2tlbkdldHRlci5wdXNoKCdqd3RJbnRlcmNlcHRvcicpO1xuXHRcdC8vJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnYXV0aEludGVyY2VwdG9yJyk7XG5cblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJywgW10pO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnTG9naW4nLCBMb2dpbik7XG5cdGZ1bmN0aW9uIExvZ2luKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvdXNlcmxvZ2luJywge30sXG5cdFx0e1xuXHRcdFx0J2dldCc6IHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6IHRydWV9XG5cdFx0fSk7XG5cdH1cblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFwaScpLmZhY3RvcnkoJ1N0YXR1c2NvZGUnLCBTdGF0dXNjb2RlKTtcblx0ZnVuY3Rpb24gU3RhdHVzY29kZSgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aXNFcnJvcjogZnVuY3Rpb24odmFsdWUpIHsgXG5cdFx0XHRcdHJldHVybiAodmFsdWUgPT0gMSkgPyB0cnVlIDogZmFsc2U7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnVG9rZW4nLCBUb2tlbik7XG5cdGZ1bmN0aW9uIFRva2VuKCkge1xuXHRcdHZhciBrZXk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpZF90b2tlbicpO1xuXHRcdFx0XHRyZXR1cm4ga2V5O1xuXHRcdFx0fSxcblx0XHRcdHNldDogZnVuY3Rpb24odmFsKSB7XG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIHZhbCk7XG5cdFx0XHRcdGtleSA9IHZhbDtcblx0XHRcdFx0cmV0dXJuIGtleTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdVc2VyJywgVXNlcik7XG5cdGZ1bmN0aW9uIFVzZXIoICRyZXNvdXJjZSwgYXBpYmFzZSApIHtcblx0XHRyZXR1cm4gJHJlc291cmNlKGFwaWJhc2UgKyAnL3VzZXJsb2dpbicpO1xuXHR9IFxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnTWVudWxpc3QnLCBNZW51bGlzdCk7XG5cdGZ1bmN0aW9uIE1lbnVsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbWFpbm1lbnUnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdQcm9qZWN0bGlzdCcsIFByb2plY3RsaXN0KTtcblx0ZnVuY3Rpb24gUHJvamVjdGxpc3QoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy9wcm9qZWN0Jywge30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCd9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J2RlbGV0ZSc6IHttZXRob2Q6J0RFTEVURSd9XG5cblx0XHR9KTtcblx0fVxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGxhYmVsJywgUHJvamVjdGxhYmVsKTtcblx0ZnVuY3Rpb24gUHJvamVjdGxhYmVsKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbGFiZWxzJywge30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCd9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J2RlbGV0ZSc6IHttZXRob2Q6J0RFTEVURSd9XG5cblx0XHR9KTtcblx0fVxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGZpbHRlcicsIFByb2plY3RmaWx0ZXIpO1xuXHRmdW5jdGlvbiBQcm9qZWN0ZmlsdGVyKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvZmlsdGVycycsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFwaScpLmZhY3RvcnkoJ0FsbHRhc2tzJywgQWxsdGFza3MpO1xuXHRmdW5jdGlvbiBBbGx0YXNrcygkcmVzb3VyY2UsIGFwaWJhc2UpIHtcblxuXHRcdHZhciBkYXRlSnNvbiA9IGZ1bmN0aW9uICggQWxsdGFza3MgKSB7XG5cdFx0XHRBbGx0YXNrcyA9IGFuZ3VsYXIuZnJvbUpzb24oQWxsdGFza3MpO1xuXHRcdFx0QWxsdGFza3MuZGF0ZU51bSA9IG5ldyBEYXRlIChBbGx0YXNrcy5kYXRlTnVtKTtcblx0XHRcdHJldHVybiBBbGx0YXNrcztcdFxuXHRcdH07XG5cblx0XHRyZXR1cm4gJHJlc291cmNlKGFwaWJhc2UgKyAnL3Rhc2svOmlkJywge2lkOidAaWQnfSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJywgdHJhbnNmb3JtUmVzcG9uc2U6IGRhdGVKc29uIH0sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCd1cGRhdGUnOiB7bWV0aG9kOidQVVQnIH0sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQncmVtb3ZlJzoge21ldGhvZDonREVMRVRFJ30sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFwaScpLnNlcnZpY2UoJ2lzSWQnLCBpc0lkKTtcblx0ZnVuY3Rpb24gaXNJZCAoKSB7XG5cblx0XHR2YXIgaXNJZHMgPSBbXTtcblxuXHRcdHZhciBhZGRJZERhdGEgPSBmdW5jdGlvbiAobmV3SUQpIHtcblx0XHRcdGlzSWRzID0gW107XG5cdFx0XHRpc0lkcy5wdXNoKG5ld0lEKTtcblx0XHR9O1xuXG5cdFx0dmFyIGdldElkRGF0YSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBpc0lkcztcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGFkZElkRGF0YTogYWRkSWREYXRhLFxuXHRcdFx0Z2V0SWREYXRhOiBnZXRJZERhdGFcblxuXHRcdH07XG5cblx0fVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmdsb2JhbCcsW10pXG5cblx0XHQuZmlsdGVyKCdwYWdpbmF0aW9uJywgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCBpbnB1dCwgc3RhcnQgKSB7XG5cblx0XHRcdFx0c3RhcnQgPSArc3RhcnQ7XG5cdFx0XHRcdHJldHVybiBpbnB1dC5zbGljZShzdGFydCk7XG5cblx0XHRcdH07XG5cdFx0fSk7XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250ZW50JywgW10pXG5cdC5jb250cm9sbGVyKCdDb250ZW50Y29udHJvbGxlcicsIENvbnRlbnRjb250cm9sbGVyKVxuXHQuZGlyZWN0aXZlKCd0b2dnbGVFbG0nLCB0b2dnbGVFbG0pO1xuXG5cdGZ1bmN0aW9uIENvbnRlbnRjb250cm9sbGVyICggJHNjb3BlICkge31cblxuXHRmdW5jdGlvbiB0b2dnbGVFbG0gKCkge1xuXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdGxpbms6IGxpbmssXG5cdFx0XHRyZXN0cmljdDogJ0EnXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcblxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cblx0XHRcdGVsZW0ub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblxuXHQgICAgICAgICAgICAkKCcud3JhcHBlcicpLnRvZ2dsZUNsYXNzKCdwYW5lbEFuaW1hdGVzJyk7XG5cdCAgICAgICAgICAgIGVsZW0uZmluZCgnc3BhbicpLmh0bWwoJCgnLmNsb3NlQnRuIHNwYW4nKS50ZXh0KCkgPT0gJ09wZW4nID8gJ0Nsb3NlJyA6ICdPcGVuJyk7XG5cblx0ICAgICAgICB9KTtcblxuXHRcdH1cblxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5sb2dpbicsW10pXG5cdC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlciAoICRzdGF0ZSwgc3RhdHVzY29kZSwgTG9naW4gKSB7IFxuXG5cdFx0dmFyIGxvZ2luQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0XG5cdFx0bG9naW5Db250cm9sbGVyLnN1Ym1pdExvZ2luID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdGxvZ2luQ29udHJvbGxlci51c2VybG9naW4gPSB7fTtcblx0XHRcdGxvZ2luQ29udHJvbGxlci51c2VybG9naW4gPSB7XG5cdFx0XHRcdHVzZXJuYW1lOiBsb2dpbkNvbnRyb2xsZXIudXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBsb2dpbkNvbnRyb2xsZXIucGFzc3dvcmRcblx0XHRcdH1cblxuXHRcdFx0dmFyIGxvZ2luUmVzdWx0ID0gW107XG5cdFx0XHRsb2dpblJlc3VsdCA9IExvZ2luLmdldChsb2dpbkNvbnRyb2xsZXIudXNlcmxvZ2luLCBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQobG9naW5SZXN1bHQubGVuZ3RoID09IDEgJiYgKCBsb2dpbkNvbnRyb2xsZXIucGFzc3dvcmQgIT0gJ3VuZGVmaW5lZCcgJiYgbG9naW5SZXN1bHRbMF0ucGFzc3dvcmQgPT0gbG9naW5Db250cm9sbGVyLnBhc3N3b3JkKSApID8gJHN0YXRlLmdvKCdhcHAnKSA6IGxvZ2luQ29udHJvbGxlci5lcnJvckRhdGEgPSAnUGxlYXNlIGNoZWNrIHVzZXJuYW1lIC8gcGFzc3dvcmQuJztcblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdH1cblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAubWFpbicsW10pXG5cdC8vLmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyKTtcblxuLypcblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5hbGwnLCB7XG5cdFx0XHRcdHVybDonL2FsbFRhc2tzJyxcblx0XHRcdFx0YWJzdHJhY3Q6IGZhbHNlLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdVdGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ01haW5Db250cm9sbGVyJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuKi9cblx0ZnVuY3Rpb24gTWFpbkNvbnRyb2xsZXIoKSB7fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAubWVudScsW10pXG5cdC5jb250cm9sbGVyKCdNZW51Q29udHJvbGxlcicsIE1lbnVDb250cm9sbGVyKVxuXHQuZGlyZWN0aXZlKCdlbG1QYW5lbCcsIGVsbVBhbmVsKTtcblxuXHRmdW5jdGlvbiBNZW51Q29udHJvbGxlciggTWVudWxpc3QsIFByb2plY3RsaXN0LCBQcm9qZWN0bGFiZWwsIFByb2plY3RmaWx0ZXIsICRzdGF0ZVBhcmFtcyApIHtcblxuXHRcdHZhciBNZW51Q29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRNZW51Q29udHJvbGxlci5tZW51TGlzdCA9IE1lbnVsaXN0LnF1ZXJ5KCk7XG5cdFx0TWVudUNvbnRyb2xsZXIucHJvamVjdExpc3QgPSBQcm9qZWN0bGlzdC5xdWVyeSgpO1xuXHRcdE1lbnVDb250cm9sbGVyLnByb2plY3RMYWJlbCA9IFByb2plY3RsYWJlbC5xdWVyeSgpO1xuXHRcdE1lbnVDb250cm9sbGVyLnByb2plY3RGaWx0ZXIgPSBQcm9qZWN0ZmlsdGVyLnF1ZXJ5KCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGVsbVBhbmVsKCkge1xuXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdGxpbms6IGxpbmssXG5cdFx0XHRyZXN0cmljdDogJ0EnXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XG5cblx0XHRmdW5jdGlvbiBsaW5rICAoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cblx0XHRcdGVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyICR0ZXh0VGFyZ2V0ID0gJCgnLmNvbnRlbnQgLmNsb3NlQnRuJykuZmluZCgnc3BhbicpO1xuXHRcdFx0XHQkKCcud3JhcHBlcicpLnRvZ2dsZUNsYXNzKCdwYW5lbEFuaW1hdGVzJyk7XG5cdFx0XHRcdCR0ZXh0VGFyZ2V0Lmh0bWwoICR0ZXh0VGFyZ2V0LnRleHQoKSA9PSAnQ2xvc2UnID8gJ09wZW4nIDogJ0Nsb3NlJyk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC51dGlsaXR5JyxbXSlcblx0LmNvbnRyb2xsZXIoJ1V0aWxpdGllc0NvbnRyb2xsZXInLCBVdGlsaXRpZXNDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBVdGlsaXRpZXNDb250cm9sbGVyKCkge1xuXHRcdFxuXHRcdHZhciBVdGlsaXRpZXNDb250cm9sbGVyID0gdGhpcztcblx0XHRVdGlsaXRpZXNDb250cm9sbGVyLnRpbWUgPSBuZXcgRGF0ZSgpO1xuXHRcdFxuXHR9IFxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYWxsdG9kbycsIFtcblx0XHQnYXBwLmFsbHRvZG8uY3JlYXRlJyxcblx0XHQnYXBwLmFsbHRvZG8uZWRpdCdcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdBbGx0YXNrQ29udHJvbGxlcicsIEFsbHRhc2tDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5hbGwnLCB7XG5cdFx0XHRcdHVybDonL2FsbHRhc2svOmlkJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1V0aWxpdGllc0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndXRpbGl0aWVzJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0cGFyYW1zOlsnaWQnXSxcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYWxsL2FsbC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGx0YXNrQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RvJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBBbGx0YXNrQ29udHJvbGxlciAoIEFsbHRhc2tzLCAkc3RhdGUsIGlzSWQgKSB7XG5cblx0XHR2YXIgQWxsdGFza0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdFx0QWxsdGFza0NvbnRyb2xsZXIubnVtYmVyQ3VycmVudCA9IDA7XG5cdFx0XG5cdFx0QWxsdGFza0NvbnRyb2xsZXIucGFnZVNpemUgPSAzO1xuXHRcdEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcblx0XHRBbGx0YXNrQ29udHJvbGxlci5udW1iZXJPZlBhZ2VzID0gIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBNYXRoLmNlaWwoQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MubGVuZ3RoIC8gQWxsdGFza0NvbnRyb2xsZXIucGFnZVNpemUpO1xuXHRcdH07XG5cblx0XHRBbGx0YXNrQ29udHJvbGxlci5yZW1vdmVUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdEFsbHRhc2tzLmRlbGV0ZSh7fSwgeydpZCc6IHRhc2suaWR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQgICAgQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0XHRcblx0XHRBbGx0YXNrQ29udHJvbGxlci5lZGl0VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRpc0lkLmFkZElkRGF0YSh0YXNrLmlkKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmVkaXQnKTtcblx0XHR9O1xuXHRcdFxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFyY2hpdmUnLFtdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJBcmNoaXZlJywgY29udHJvbGxlckFyY2hpdmUpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG5cdFx0XG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmFyY2hpdmUnLCB7XG5cdFx0XHRcdHVybDogJy9hcmNoaXZlJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndXRpbGl0aWVzJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5hcmNoaXZlZC9hcmNoaXZlZC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRjb250cm9sbGVyOiAnY29udHJvbGxlckFyY2hpdmUnLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2FyY2hpdmVkJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjb250cm9sbGVyQXJjaGl2ZSgpIHt9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5uZXh0JyxbXSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdjb250cm9sbGVyTmV4dERheXMnLCBjb250cm9sbGVyTmV4dERheXMpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAubmV4dCcsIHtcblx0XHRcdFx0dXJsOicvbmV4dC86aWQnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbi5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdjb250cm9sbGVyTmV4dERheXMnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbmV4dFNldmVuJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjb250cm9sbGVyTmV4dERheXMgKCBBbGx0YXNrcywgJHN0YXRlLCBpc0lkICkge1xuXG5cdFx0dmFyIGNvbnRyb2xsZXJOZXh0RGF5cyA9IHRoaXM7XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMudG9kYXlEYXRlID0gbW9tZW50KCkuZm9ybWF0KCdMJyk7XG5cdFx0Y29udHJvbGxlck5leHREYXlzLndlZWtEYXRlID0gbW9tZW50KCkud2Vla2RheSg3KS5mb3JtYXQoJ0wnKTtcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5uZXh0U2V2ZW5FdmVudHMgPSBBbGx0YXNrcy5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBhcnJheVBvcyA9IFtdO1xuXG5cdFx0XHRhbmd1bGFyLmZvckVhY2goY29udHJvbGxlck5leHREYXlzLm5leHRTZXZlbkV2ZW50cywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcblxuXHRcdFx0XHRpZiAoIG1vbWVudCh2YWx1ZS5kYXRlTnVtKS5mb3JtYXQoJ0wnKSA+PSBjb250cm9sbGVyTmV4dERheXMudG9kYXlEYXRlICYmIG1vbWVudCh2YWx1ZS5kYXRlTnVtKS5mb3JtYXQoJ0wnKSA8PSBjb250cm9sbGVyTmV4dERheXMud2Vla0RhdGUgKSB7XG5cdFx0XHRcdFx0YXJyYXlQb3MucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29udHJvbGxlck5leHREYXlzLm5leHRTZXZlbkV2ZW50cyA9IGFycmF5UG9zO1xuXG5cdFx0fSk7XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMucmVtb3ZlVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRBbGx0YXNrcy5kZWxldGUoe30sIHsnaWQnOiB0YXNrLmlkfSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0ICAgIEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMuZWRpdFRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0aXNJZC5hZGRJZERhdGEodGFzay5pZCk7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5lZGl0Jyk7XG5cdFx0fTtcblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAudG9kYXknLFtdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ1RvZGF5Q29udHJvbGxlcicsIFRvZGF5Q29udHJvbGxlcik7XG5cdC8vLmZpbHRlcignZmlsdGVyVG9kYXlFdmVudHMnLCBmaWx0ZXJUb2RheUV2ZW50cyk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC50b2RheScsIHtcblx0XHRcdFx0dXJsOicvdG9kYXknLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLnRvZGF5L3RvZGF5LmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1RvZGF5Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RheSdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gVG9kYXlDb250cm9sbGVyKCBBbGx0YXNrcywgJHN0YXRlLCBpc0lkICkge1xuXG5cdFx0dmFyIFRvZGF5Q29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRUb2RheUNvbnRyb2xsZXIudG9kYXlEYXRlID0gbW9tZW50KCkuZm9ybWF0KCdMJyk7XG5cblx0XHRUb2RheUNvbnRyb2xsZXIudG9kb1Rhc2tzID0gQWxsdGFza3MucXVlcnkoe30sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgYXJyYXlQb3MgPSBbXTtcblx0XHRcdFx0XG5cdFx0XHRhbmd1bGFyLmZvckVhY2goVG9kYXlDb250cm9sbGVyLnRvZG9UYXNrcywgZnVuY3Rpb24odmFsdWUsIGtleSl7XG5cblx0XHRcdFx0aWYgKCBUb2RheUNvbnRyb2xsZXIudG9kYXlEYXRlID09IG1vbWVudCh2YWx1ZS5kYXRlTnVtKS5mb3JtYXQoJ0wnKSApIHtcblx0XHRcdFx0XHRhcnJheVBvcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9KTtcblxuXHRcdFx0VG9kYXlDb250cm9sbGVyLnRvZG9UYXNrcyA9IGFycmF5UG9zO1xuXG5cdFx0fSk7XG5cdFx0VG9kYXlDb250cm9sbGVyLnJlbW92ZVRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0QWxsdGFza3MuZGVsZXRlKHt9LCB7J2lkJzogdGFzay5pZH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdCAgICBBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdFRvZGF5Q29udHJvbGxlci5lZGl0VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRpc0lkLmFkZElkRGF0YSh0YXNrLmlkKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmVkaXQnKTtcblx0XHR9O1xuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvLmNyZWF0ZScsW1xuXHRcdCdhcHAuYWxsdG9kbydcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdDcmVhdGV0b2RvQ29udHJvbGxlcicsIENyZWF0ZXRvZG9Db250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5jcmVhdGUnLCB7XG5cblx0XHRcdFx0dXJsOiAnL2FsbHRhc2svY3JlYXRlJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnb3ZlcmxheUAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9odG1sL21haW4vbWFpbi5hbGwvY3JlYXRlLmFsbC9jcmVhdGUuYWxsLmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NyZWF0ZXRvZG9Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NyZWF0ZVRvZG8nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFsbC9hbGwuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsdGFza0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndG9kbydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBDcmVhdGV0b2RvQ29udHJvbGxlciAoIEFsbHRhc2tzLCBQcm9qZWN0bGFiZWwsIFVzZXIpIHtcblxuXHRcdHZhciBDcmVhdGV0b2RvQ29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5zdWJtaXR0ZWQgPSBmYWxzZTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnByaW9yaXR5ID0gUHJvamVjdGxhYmVsLnF1ZXJ5KCk7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyID0gVXNlci5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB1c2VyRGF0YSA9IFtdO1xuXG5cdFx0XHRhbmd1bGFyLmZvckVhY2goQ3JlYXRldG9kb0NvbnRyb2xsZXIudXNlciwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXG5cdFx0XHRcdHVzZXJEYXRhLnB1c2goQ3JlYXRldG9kb0NvbnRyb2xsZXIudXNlcltrZXldLm5hbWUpO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIudXNlciA9IHVzZXJEYXRhO1xuXHRcdFx0XG5cdFx0fSk7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5jcmVhdGVUYXNrID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRpZiAoQ3JlYXRldG9kb0NvbnRyb2xsZXIuZm9ybUFkZFRhc2tzLiR2YWxpZCkge1xuXG5cdFx0XHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEgPSB7fTtcblxuXHRcdFx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRhID0ge1xuXG5cdFx0XHRcdFx0cHJvamVjdDogQ3JlYXRldG9kb0NvbnRyb2xsZXIucHJvamVjdCxcblx0XHRcdFx0XHRsYWJlbDogQ3JlYXRldG9kb0NvbnRyb2xsZXIubGFiZWwsXG5cdFx0XHRcdFx0bmFtZTogQ3JlYXRldG9kb0NvbnRyb2xsZXIubmFtZSxcblx0XHRcdFx0XHRkYXRlTnVtOiBDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRlTnVtLFxuXHRcdFx0XHRcdGhlYWRlckNvbW1lbnQ6IENyZWF0ZXRvZG9Db250cm9sbGVyLmhlYWRlckNvbW1lbnQsXG5cdFx0XHRcdFx0Y29tbWVudDogQ3JlYXRldG9kb0NvbnRyb2xsZXIuY29tbWVudCxcblx0XHRcdFx0XHRkb25lOiBDcmVhdGV0b2RvQ29udHJvbGxlci5kb25lXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Y29uc29sZS5sb2coQ3JlYXRldG9kb0NvbnRyb2xsZXIuZGF0YS5kb25lKTtcblxuXHRcdFx0XHRBbGx0YXNrcy5zYXZlKENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEpO1xuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXHRcdFx0XHQkKCdwLm1zZy1lcnJvcicpLnJlbW92ZUNsYXNzKCdtc2ctZXJyb3InKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgncCcpLmFkZENsYXNzKCdtc2ctZXJyb3InKTtcblx0XHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIuc3VibWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIucmVzZXRWYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQoJ2Zvcm0nKS5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XG5cdFx0fTtcblxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFsbHRvZG8uZWRpdCcsW1xuXHRcdCdhcHAuYWxsdG9kbydcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdFZGl0dG9kb0NvbnRyb2xsZXInLCBFZGl0dG9kb0NvbnRyb2xsZXIgKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5lZGl0Jywge1xuXG5cdFx0XHRcdHVybDogJy9hbGx0YXNrL2VkaXQnLFxuXHRcdFx0XHR2aWV3czoge1xuXG5cdFx0XHRcdFx0J292ZXJsYXlAJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvaHRtbC9tYWluL21haW4uYWxsL2VkaXQuYWxsL2VkaXQuYWxsLmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0VkaXR0b2RvQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdlZGl0VG9kbydcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5hbGwvYWxsLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FsbHRhc2tDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3RvZG8nXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gRWRpdHRvZG9Db250cm9sbGVyICggaXNJZCwgQWxsdGFza3MsICRzdGF0ZSApIHtcblxuXHRcdHZhciBFZGl0dG9kb0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdHZhciBlZGl0SWQgPSBpc0lkLmdldElkRGF0YSgpO1xuXG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLmlkRWRpdCA9IGVkaXRJZFswXTtcblx0XHRFZGl0dG9kb0NvbnRyb2xsZXIudGFzayA9IEFsbHRhc2tzLmdldCh7fSx7J2lkJzogZWRpdElkWzBdfSk7XG5cblx0XHRFZGl0dG9kb0NvbnRyb2xsZXIuZWRpdFRhc2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdFxuXHRcdFx0RWRpdHRvZG9Db250cm9sbGVyLm5ld1Rhc2sgPSB7XG5cblx0XHRcdFx0aWQ6IGVkaXRJZFswXSxcblx0XHRcdFx0cHJvamVjdDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2sucHJvamVjdCxcblx0XHRcdFx0bGFiZWw6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmxhYmVsLFxuXHRcdFx0XHRuYW1lOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5uYW1lLFxuXHRcdFx0XHRkYXRlTnVtOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5kYXRlTnVtLFxuXHRcdFx0XHRoZWFkZXJDb21tZW50OiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5oZWFkZXJDb21tZW50LFxuXHRcdFx0XHRjb21tZW50OiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5jb21tZW50LFxuXHRcdFx0XHRkb25lOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5kb25lXG5cblx0XHRcdH07XG5cblx0XHRcdEVkaXR0b2RvQ29udHJvbGxlci5uZXdUYXNrLmRhdGVOdW0gPSBuZXcgRGF0ZSAoRWRpdHRvZG9Db250cm9sbGVyLnRhc2suZGF0ZU51bSk7XG5cdFx0XHRBbGx0YXNrcy51cGRhdGUoRWRpdHRvZG9Db250cm9sbGVyLm5ld1Rhc2spO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuYWxsJyk7XG5cblx0XHR9O1xuXG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLmNhbmNlbEVkaXQgPSBmdW5jdGlvbigpIHtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmFsbCcpO1x0XHRcdFxuXHRcdH07XG5cdFx0XG5cdH1cblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=