!function(){"use strict";function t(t,e,a){t.otherwise("/"),a.state("login",{url:"/login",views:{"content@":{templateUrl:"html/login/login.index.html",controller:"LoginController",controllerAs:"login"}}}).state("login.register",{url:"/register",views:{"content@":{templateUrl:"html/register/register.index.html",controller:"RegisterController",controllerAs:"register"}}}).state("app",{url:"/content",views:{menu:{templateUrl:"html/menu/menu.index.html",controller:"MenuController",controllerAs:"menuData"},"content@":{templateUrl:"html/content/content.index.html",controller:"Contentcontroller",controllerAs:"content"}}})}function e(t,e,a,r){t.globals=a.get("globals")||{},t.globals.currentUser&&(r.defaults.headers.common.Authorization="Basic"+t.globals.currentUser.authdata),t.$on("$locationChangeStart",function(a,r,o){var n=-1===$.inArray(e.path(),["/login"]),l=t.globals.currentUser;n&&!l&&e.path("/login")})}angular.module("app",[]);angular.module("app",["ui.router","ngAnimate","ngResource","ngCookies","app.api","app.global","app.menu","app.login","app.register","app.main","app.utility","app.alltodo","app.next","app.today","app.content","app.archive"]).constant("sitename","applocal").constant("apibase","http://localhost:3000").constant("apiversion","/v1.0").config(t).run(e),t.$inject=["$urlRouterProvider","$httpProvider","$stateProvider"],e.$inject=["$rootScope","$location","$cookieStore","$http"]}(),function(){"use strict";function t(t,e){return t(e+"/userlogin",{},{get:{method:"GET",isArray:!0},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function e(t,e){return t(e+"/mainmenu",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function a(t,e){return t(e+"/project",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function r(t,e){return t(e+"/labels",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function o(t,e){return t(e+"/filters",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function n(t,e){var a=function(t){return t=angular.fromJson(t),t.dateNum=new Date(t.dateNum),t};return t(e+"/task/:id",{id:"@id"},{get:{method:"GET",transformResponse:a},save:{method:"POST"},update:{method:"PUT"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}})}function l(){var t=[],e=function(e){t=[],t.push(e)},a=function(){return t};return{addIdData:e,getIdData:a}}function i(){return{isError:function(t){return 1==t?!0:!1}}}angular.module("app.api",[]),angular.module("app.api").factory("Login",t),t.$inject=["$resource","apibase"],angular.module("app.api").factory("Menulist",e),e.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlist",a),a.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlabel",r),r.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectfilter",o),o.$inject=["$resource","apibase"],angular.module("app.api").factory("Alltasks",n),n.$inject=["$resource","apibase"],angular.module("app.api").service("isId",l),angular.module("app.api").factory("statuscode",i)}(),function(){"use strict";angular.module("app.global",[]).filter("pagination",function(){return function(t,e){return e=+e,t.slice(e)}})}(),function(){"use strict";function t(t){}function e(){function t(t,e,a){e.on("click",function(){$(".wrapper").toggleClass("panelAnimates"),e.find("span").html("Open"==$(".closeBtn span").text()?"Close":"Open")})}var e={link:t,restrict:"A"};return e}angular.module("app.content",[]).controller("Contentcontroller",t).directive("toggleElm",e),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,a){var r=this;r.submitLogin=function(){r.userlogin={},r.userlogin={username:r.username,password:r.password};var e=[];e=a.get(r.userlogin,function(){1==e.length&&"undefined"!=r.password&&e[0].password==r.password?t.go("app"):r.errorData="Please check username / password."})}}angular.module("app.login",[]).controller("LoginController",t),t.$inject=["$state","statuscode","Login"]}(),function(){"use strict";function t(){}angular.module("app.main",[]).controller("MainController",t)}(),function(){"use strict";function t(t,e,a,r,o){var n=this;n.menuList=t.query(),n.projectList=e.query(),n.projectLabel=a.query(),n.projectFilter=r.query()}function e(){function t(t,e,a){e.on("click",function(){var t=$(".content .closeBtn").find("span");$(".wrapper").toggleClass("panelAnimates"),t.html("Close"==t.text()?"Open":"Close")})}var e={link:t,restrict:"A"};return e}angular.module("app.menu",[]).controller("MenuController",t).directive("elmPanel",e),t.$inject=["Menulist","Projectlist","Projectlabel","Projectfilter","$stateParams"]}(),function(){"user strict";function t(t,e){var a=this;a.submitRegister=function(){a.formRegister.$valid?(a.dataRegister={},a.dataRegister={firstName:a.firstName,lastName:a.lastName,username:a.username,mail:a.mail,password:a.password,role:"user"},e.save(a.dataRegister),$("form").find("input").val(""),t.go("app")):a.errorData="All fields are required"},a.resetVal=function(){$("form").find("input").val("")}}angular.module("app.register",[]).controller("RegisterController",t),t.$inject=["$state","Login"]}(),function(){"use strict";function t(){var t=this;t.time=new Date}angular.module("app.utility",[]).controller("UtilitiesController",t)}(),function(){"use strict";function t(t){t.state("app.all",{url:"/alltask/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{params:["id"],templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var r=this;r.numberCurrent=0,r.pageSize=3,r.allTasks=t.query(),r.numberOfPages=function(){return Math.ceil(r.allTasks.length/r.pageSize)},r.removeTask=function(e){t["delete"]({},{id:e.id},function(){r.allTasks=t.query()})},r.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.alltodo",["app.alltodo.create","app.alltodo.edit"]).config(t).controller("AlltaskController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.archive",{url:"/archive",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.archived/archived.index.html",controller:"controllerArchive",controllerAs:"archived"}}})}function e(){}angular.module("app.archive",[]).config(t).controller("controllerArchive",e),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.state("app.next",{url:"/next/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.taskSeven/seven.index.html",controller:"controllerNextDays",controllerAs:"nextSeven"}}})}function e(t,e,a){var r=this;r.todayDate=moment().format("L"),r.weekDate=moment().weekday(7).format("L"),r.nextSevenEvents=t.query({},function(){var t=[];angular.forEach(r.nextSevenEvents,function(e,a){moment(e.dateNum).format("L")>=r.todayDate&&moment(e.dateNum).format("L")<=r.weekDate&&t.push(e)}),r.nextSevenEvents=t}),r.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},r.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.next",[]).config(t).controller("controllerNextDays",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.today",{url:"/today",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.today/today.index.html",controller:"TodayController",controllerAs:"today"}}})}function e(t,e,a){var r=this;r.todayDate=moment().format("L"),r.todoTasks=t.query({},function(){var t=[];angular.forEach(r.todoTasks,function(e,a){r.todayDate==moment(e.dateNum).format("L")&&t.push(e)}),r.todoTasks=t}),r.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},r.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.today",[]).config(t).controller("TodayController",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t){t.state("app.create",{url:"/alltask/create",views:{"overlay@":{templateUrl:"/html/main/main.all/create.all/create.all.html",controller:"CreatetodoController",controllerAs:"createTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var r=this;r.submitted=!1,r.priority=e.query(),r.user=a.query({},function(){var t=[];angular.forEach(r.user,function(e,a){t.push(r.user[a].name)}),r.user=t}),r.createTask=function(){r.formAddTasks.$valid?(r.data={},r.data={project:r.project,label:r.label,name:r.name,dateNum:r.dateNum,headerComment:r.headerComment,comment:r.comment,done:r.done},t.save(r.data),$("form").find("input").val(""),$("p.msg-error").removeClass("msg-error")):($("form").find("p").addClass("msg-error"),r.submitted=!0)},r.resetVal=function(){$("form").find("input").val("")}}angular.module("app.alltodo.create",["app.alltodo"]).config(t).controller("CreatetodoController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","Projectlabel","User"]}(),function(){"use strict";function t(t){t.state("app.edit",{url:"/alltask/edit",views:{"overlay@":{templateUrl:"/html/main/main.all/edit.all/edit.all.html",controller:"EdittodoController",controllerAs:"editTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var r=this,o=t.getIdData();r.idEdit=o[0],r.task=e.get({},{id:o[0]}),r.editTask=function(){r.newTask={id:o[0],project:r.task.project,label:r.task.label,name:r.task.name,dateNum:r.task.dateNum,headerComment:r.task.headerComment,comment:r.task.comment,done:r.task.done},r.newTask.dateNum=new Date(r.task.dateNum),e.update(r.newTask),a.go("app.all")},r.cancelEdit=function(){a.go("app.all")}}angular.module("app.alltodo.edit",["app.alltodo"]).config(t).controller("EdittodoController",e),t.$inject=["$stateProvider"],e.$inject=["isId","Alltasks","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJnbG9iYWwuanMiLCJmaWx0ZXJzLmpzIiwiY29udGVudC9jb250ZW50Q29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luQ29udHJvbGxlci5qcyIsIm1haW4vbWFpbkNvbnRyb2xsZXIuanMiLCJtZW51L21lbnVDb250cm9sbGVyLmpzIiwicmVnaXN0ZXIvcmVnaXN0ZXJDb250cm9sbGVyLmpzIiwidXRpbGl0aWVzL3V0aWxpdGllc0NvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2FsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYXJjaGl2ZWQvYXJjaGl2ZWRDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbkNvbnRyb2xsZXIuanMiLCJtYWluL21haW4udG9kYXkvdG9kYXlDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLmFsbC9jcmVhdGUuYWxsL2NyZWF0ZWFsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2VkaXQuYWxsL2VkaXRhbGxDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJjb250ZW50QCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm1lbnUiLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJGNvb2tpZVN0b3JlIiwiJGh0dHAiLCJnbG9iYWxzIiwiZ2V0IiwiY3VycmVudFVzZXIiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJhdXRoZGF0YSIsIiRvbiIsImV2ZW50IiwibmV4dCIsImN1cnJlbnQiLCJyZXN0cmljdGVkUGFnZSIsIiQiLCJpbkFycmF5IiwicGF0aCIsImxvZ2dlZEluIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiJGluamVjdCIsIkxvZ2luIiwiJHJlc291cmNlIiwiYXBpYmFzZSIsIm1ldGhvZCIsImlzQXJyYXkiLCJzYXZlIiwicXVlcnkiLCJkZWxldGUiLCJNZW51bGlzdCIsIlByb2plY3RsaXN0IiwiUHJvamVjdGxhYmVsIiwiUHJvamVjdGZpbHRlciIsIkFsbHRhc2tzIiwiZGF0ZUpzb24iLCJmcm9tSnNvbiIsImRhdGVOdW0iLCJEYXRlIiwiaWQiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInVwZGF0ZSIsInJlbW92ZSIsImlzSWQiLCJpc0lkcyIsImFkZElkRGF0YSIsIm5ld0lEIiwicHVzaCIsImdldElkRGF0YSIsInN0YXR1c2NvZGUiLCJpc0Vycm9yIiwidmFsdWUiLCJmYWN0b3J5Iiwic2VydmljZSIsImZpbHRlciIsImlucHV0Iiwic3RhcnQiLCJzbGljZSIsIkNvbnRlbnRjb250cm9sbGVyIiwiJHNjb3BlIiwidG9nZ2xlRWxtIiwibGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwib24iLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJodG1sIiwidGV4dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwiTG9naW5Db250cm9sbGVyIiwiJHN0YXRlIiwibG9naW5Db250cm9sbGVyIiwidGhpcyIsInN1Ym1pdExvZ2luIiwidXNlcmxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvZ2luUmVzdWx0IiwibGVuZ3RoIiwiZ28iLCJlcnJvckRhdGEiLCJNYWluQ29udHJvbGxlciIsIk1lbnVDb250cm9sbGVyIiwiJHN0YXRlUGFyYW1zIiwibWVudUxpc3QiLCJwcm9qZWN0TGlzdCIsInByb2plY3RMYWJlbCIsInByb2plY3RGaWx0ZXIiLCJlbG1QYW5lbCIsIiR0ZXh0VGFyZ2V0IiwiUmVnaXN0ZXJDb250cm9sbGVyIiwicmVnaXN0ZXJDb250cm9sbGVyIiwic3VibWl0UmVnaXN0ZXIiLCJmb3JtUmVnaXN0ZXIiLCIkdmFsaWQiLCJkYXRhUmVnaXN0ZXIiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIm1haWwiLCJyb2xlIiwidmFsIiwicmVzZXRWYWwiLCJVdGlsaXRpZXNDb250cm9sbGVyIiwidGltZSIsInV0aWxpdGllc0BhcHAiLCJtYWluQGFwcCIsInBhcmFtcyIsIkFsbHRhc2tDb250cm9sbGVyIiwibnVtYmVyQ3VycmVudCIsInBhZ2VTaXplIiwiYWxsVGFza3MiLCJudW1iZXJPZlBhZ2VzIiwiTWF0aCIsImNlaWwiLCJyZW1vdmVUYXNrIiwidGFzayIsImVkaXRUYXNrIiwiY29udHJvbGxlckFyY2hpdmUiLCJjb250cm9sbGVyTmV4dERheXMiLCJ0b2RheURhdGUiLCJtb21lbnQiLCJmb3JtYXQiLCJ3ZWVrRGF0ZSIsIndlZWtkYXkiLCJuZXh0U2V2ZW5FdmVudHMiLCJhcnJheVBvcyIsImZvckVhY2giLCJrZXkiLCJUb2RheUNvbnRyb2xsZXIiLCJ0b2RvVGFza3MiLCJvdmVybGF5QCIsIkNyZWF0ZXRvZG9Db250cm9sbGVyIiwiVXNlciIsInN1Ym1pdHRlZCIsInByaW9yaXR5IiwidXNlciIsInVzZXJEYXRhIiwibmFtZSIsImNyZWF0ZVRhc2siLCJmb3JtQWRkVGFza3MiLCJkYXRhIiwicHJvamVjdCIsImxhYmVsIiwiaGVhZGVyQ29tbWVudCIsImNvbW1lbnQiLCJkb25lIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIkVkaXR0b2RvQ29udHJvbGxlciIsImVkaXRJZCIsImlkRWRpdCIsIm5ld1Rhc2siLCJjYW5jZWxFZGl0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVBLFlBNkJBLFNBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFVBQUEsS0FFQUQsRUFDQUUsTUFBQSxTQUNBQyxJQUFBLFNBQ0FDLE9BQ0FDLFlBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsa0JBQ0FDLGFBQUEsWUFJQU4sTUFBQSxrQkFDQUMsSUFBQSxZQUNBQyxPQUNBQyxZQUNBQyxZQUFBLG9DQUNBQyxXQUFBLHFCQUNBQyxhQUFBLGVBSUFOLE1BQUEsT0FDQUMsSUFBQSxXQUNBQyxPQUNBSyxNQUNBSCxZQUFBLDRCQUNBQyxXQUFBLGlC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ZUFBZ0IsV2N0dkI3RCxXQUVBLFlBUUEsU0FBQXJDLEdBQUFHLEdBRUFBLEVBQ0FFLE1BQUEsWUFFQUMsSUFBQSxnQkFDQUMsT0FFQThJLFlBQ0E1SSxZQUFBLDZDQUNBQyxXQUFBLHFCQUNBQyxhQUFBLFlBR0FpSCxZQUNBbkgsWUFBQSxvQ0FDQUMsV0FBQSxvQkFDQUMsYUFBQSxXQU9BLFFBQUE0SixHQUFBNUcsRUFBQVQsRUFBQXVDLEdBRUEsR0FBQThFLEdBQUE1RSxLQUNBNkUsRUFBQTdHLEVBQUFLLFdBRUF1RyxHQUFBRSxPQUFBRCxFQUFBLEdBQ0FELEVBQUFqQyxLQUFBcEYsRUFBQS9CLFFBQUFvQyxHQUFBaUgsRUFBQSxLQUVBRCxFQUFBaEMsU0FBQSxXQUVBZ0MsRUFBQUcsU0FFQW5ILEdBQUFpSCxFQUFBLEdBQ0FSLFFBQUFPLEVBQUFqQyxLQUFBMEIsUUFDQUMsTUFBQU0sRUFBQWpDLEtBQUEyQixNQUNBTCxLQUFBVyxFQUFBakMsS0FBQXNCLEtBQ0F2RyxRQUFBa0gsRUFBQWpDLEtBQUFqRixRQUNBNkcsY0FBQUssRUFBQWpDLEtBQUE0QixjQUNBQyxRQUFBSSxFQUFBakMsS0FBQTZCLFFBQ0FDLEtBQUFHLEVBQUFqQyxLQUFBOEIsTUFJQUcsRUFBQUcsUUFBQXJILFFBQUEsR0FBQUMsTUFBQWlILEVBQUFqQyxLQUFBakYsU0FDQUgsRUFBQU8sT0FBQThHLEVBQUFHLFNBQ0FqRixFQUFBUyxHQUFBLFlBSUFxRSxFQUFBSSxXQUFBLFdBQ0FsRixFQUFBUyxHQUFBLFlBNURBaEUsUUFBQUMsT0FBQSxvQkFDQSxnQkFFQW5DLE9BQUFBLEdBQ0FVLFdBQUEscUJBQUE2SixHZGl4QkN2SyxFQUFPcUMsU0FBVyxrQkFvQ2xCa0ksRUFBbUJsSSxTQUFXLE9BQVEsV0FBWSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcblx0XHQndWkucm91dGVyJyxcblx0XHQnbmdBbmltYXRlJyxcblx0XHQnbmdSZXNvdXJjZScsXG5cdFx0J25nQ29va2llcycsXG5cdFx0J2FwcC5hcGknLFxuXHRcdCdhcHAuZ2xvYmFsJyxcblx0XHQnYXBwLm1lbnUnLFxuXHRcdCdhcHAubG9naW4nLFxuXHRcdCdhcHAucmVnaXN0ZXInLFxuXHRcdCdhcHAubWFpbicsXG5cdFx0J2FwcC51dGlsaXR5Jyxcblx0XHQnYXBwLmFsbHRvZG8nLFxuXHRcdCdhcHAubmV4dCcsXG5cdFx0J2FwcC50b2RheScsXG5cdFx0J2FwcC5jb250ZW50Jyxcblx0XHQnYXBwLmFyY2hpdmUnXG5cdF0pXG5cblx0LmNvbnN0YW50KCdzaXRlbmFtZScsICdhcHBsb2NhbCcpXG5cdC5jb25zdGFudCgnYXBpYmFzZScsICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKVxuXHQuY29uc3RhbnQoJ2FwaXZlcnNpb24nLCAnL3YxLjAnKVxuXG5cdC5jb25maWcoY29uZmlnKVxuXHQucnVuKHJ1bik7XG5cblx0ZnVuY3Rpb24gY29uZmlnKCR1cmxSb3V0ZXJQcm92aWRlciwgJGh0dHBQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIpIHtcblxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2xvZ2luJywge1xuXHRcdFx0XHR1cmw6Jy9sb2dpbicsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL2xvZ2luL2xvZ2luLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdsb2dpbidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuc3RhdGUoJ2xvZ2luLnJlZ2lzdGVyJywge1xuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9yZWdpc3Rlci9yZWdpc3Rlci5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncmVnaXN0ZXInXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LnN0YXRlKCdhcHAnLCB7XG5cdFx0XHRcdHVybDogJy9jb250ZW50Jyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnbWVudSc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tZW51L21lbnUuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTWVudUNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbWVudURhdGEnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvY29udGVudC9jb250ZW50LmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NvbnRlbnRjb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NvbnRlbnQnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiBydW4oICRyb290U2NvcGUsICRsb2NhdGlvbiwgJGNvb2tpZVN0b3JlLCAkaHR0cCApIHtcblxuXHRcdC8vIGtlZXAgdXNlciBsb2dnZWQgaW4gYWZ0ZXIgcGFnZSByZWZyZXNoLlxuXHRcdFxuXHRcdCRyb290U2NvcGUuZ2xvYmFscyA9ICRjb29raWVTdG9yZS5nZXQoJ2dsb2JhbHMnKSB8fCB7fTtcblxuXHRcdGlmICggJHJvb3RTY29wZS5nbG9iYWxzLmN1cnJlbnRVc2VyICkge1xuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCYXNpYycgKyAkcm9vdFNjb3BlLmdsb2JhbHMuY3VycmVudFVzZXIuYXV0aGRhdGE7XG5cdFx0fVxuXG5cdFx0JHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCBuZXh0LCBjdXJyZW50KSB7XG5cblx0XHRcdC8vIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgaWYgbm90IGxvZ2dlZCBpbiBhbmQgdHJ5aW5nIHRvIGFjZXNzIGEgcmVzdHJpY3RlZCBwYWdlLlxuXHRcdFx0dmFyIHJlc3RyaWN0ZWRQYWdlID0gJC5pbkFycmF5KCRsb2NhdGlvbi5wYXRoKCksIFsnL2xvZ2luJ10pID09PSAtMTtcblx0XHRcdHZhciBsb2dnZWRJbiA9ICRyb290U2NvcGUuZ2xvYmFscy5jdXJyZW50VXNlcjtcblx0XHRcdGlmICggcmVzdHJpY3RlZFBhZ2UgJiYgIWxvZ2dlZEluICkge1xuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJywgW10pO1xuXG5cdC8vTG9naW5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdMb2dpbicsIExvZ2luKTtcblx0ZnVuY3Rpb24gTG9naW4gKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvdXNlcmxvZ2luJywge30sXG5cdFx0e1xuXHRcdFx0J2dldCc6IFx0XHR7bWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZX0sXG5cdFx0XHQnc2F2ZSc6IFx0e21ldGhvZDogJ1BPU1QnfSxcblx0XHRcdCdxdWVyeSc6IFx0e21ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWV9LFxuXHRcdFx0J2RlbGV0ZSc6ICBcdHttZXRob2Q6ICdERUxFVEUnfVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gUkVTVGZ1bCBkYXRhXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnTWVudWxpc3QnLCBNZW51bGlzdCk7XG5cdGZ1bmN0aW9uIE1lbnVsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbWFpbm1lbnUnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGxpc3QnLCBQcm9qZWN0bGlzdCk7XG5cdGZ1bmN0aW9uIFByb2plY3RsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvcHJvamVjdCcsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdQcm9qZWN0bGFiZWwnLCBQcm9qZWN0bGFiZWwpO1xuXHRmdW5jdGlvbiBQcm9qZWN0bGFiZWwoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy9sYWJlbHMnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGZpbHRlcicsIFByb2plY3RmaWx0ZXIpO1xuXHRmdW5jdGlvbiBQcm9qZWN0ZmlsdGVyKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvZmlsdGVycycsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdBbGx0YXNrcycsIEFsbHRhc2tzKTtcblx0ZnVuY3Rpb24gQWxsdGFza3MoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cblx0XHR2YXIgZGF0ZUpzb24gPSBmdW5jdGlvbiAoIEFsbHRhc2tzICkge1xuXHRcdFx0QWxsdGFza3MgPSBhbmd1bGFyLmZyb21Kc29uKEFsbHRhc2tzKTtcblx0XHRcdEFsbHRhc2tzLmRhdGVOdW0gPSBuZXcgRGF0ZSAoQWxsdGFza3MuZGF0ZU51bSk7XG5cdFx0XHRyZXR1cm4gQWxsdGFza3M7XHRcblx0XHR9O1xuXG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy90YXNrLzppZCcsIHtpZDonQGlkJ30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBkYXRlSnNvbiB9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQndXBkYXRlJzoge21ldGhvZDonUFVUJyB9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J3JlbW92ZSc6IHttZXRob2Q6J0RFTEVURSd9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gU2VydmljZSAmIEZhY3Rvcnlcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5zZXJ2aWNlKCdpc0lkJywgaXNJZCk7XG5cdGZ1bmN0aW9uIGlzSWQgKCkge1xuXG5cdFx0dmFyIGlzSWRzID0gW107XG5cblx0XHR2YXIgYWRkSWREYXRhID0gZnVuY3Rpb24gKG5ld0lEKSB7XG5cdFx0XHRpc0lkcyA9IFtdO1xuXHRcdFx0aXNJZHMucHVzaChuZXdJRCk7XG5cdFx0fTtcblxuXHRcdHZhciBnZXRJZERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gaXNJZHM7XG5cdFx0fTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRhZGRJZERhdGE6IGFkZElkRGF0YSxcblx0XHRcdGdldElkRGF0YTogZ2V0SWREYXRhXG5cblx0XHR9O1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnc3RhdHVzY29kZScsIHN0YXR1c2NvZGUpO1xuXHRmdW5jdGlvbiBzdGF0dXNjb2RlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0Vycm9yOiBmdW5jdGlvbih2YWx1ZSkgeyBcblx0XHRcdFx0cmV0dXJuICh2YWx1ZSA9PSAxKSA/IHRydWUgOiBmYWxzZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cbn0pKCk7XG5cbi8qXG5cdFNPTUUgQVVUSEVOVElDQVRJT04gJiBMT0dJTiBJREVBUy5cblxuXHRTaW1wbGVMb2dpbjogXG5cdFx0aHR0cHM6Ly9naXRodWIuY29tL2Nvcm5mbG91cmJsdWUvYW5ndWxhci1yZWdpc3RyYXRpb24tbG9naW4tZXhhbXBsZVxuXG5cdEF1dGhvcml6YXRpb246IFxuXHRcdGh0dHA6Ly9qYXNvbndhdG1vcmUuY29tL3Bvc3QvMjAxNS8wMy8xMC9Bbmd1bGFySlMtVXNlci1SZWdpc3RyYXRpb24tYW5kLUxvZ2luLUV4YW1wbGUuYXNweCNhcHBcblxuXHRSb2xlczogXG5cdFx0aHR0cDovL2FydGh1ci5nb25pZ2JlcmcuY29tLzIwMTMvMDYvMjkvYW5ndWxhcmpzLXJvbGUtYmFzZWQtYXV0aC9cblx0XHRcblx0UXVpY2sgUm9sZS1CYXNlZCBBdXRoZW50aWNhdGlvbjpcblx0XHRodHRwOi8vam9uc2Ftd2VsbC5jb20vdXJsLXJvdXRlLWF1dGhvcml6YXRpb24tYW5kLXNlY3VyaXR5LWluLWFuZ3VsYXIvXG5cbiovXG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZ2xvYmFsJyxbXSlcblxuXHRcdC5maWx0ZXIoJ3BhZ2luYXRpb24nLCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoIGlucHV0LCBzdGFydCApIHtcblxuXHRcdFx0XHRzdGFydCA9ICtzdGFydDtcblx0XHRcdFx0cmV0dXJuIGlucHV0LnNsaWNlKHN0YXJ0KTtcblxuXHRcdFx0fTtcblx0XHR9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRlbnQnLCBbXSlcblx0LmNvbnRyb2xsZXIoJ0NvbnRlbnRjb250cm9sbGVyJywgQ29udGVudGNvbnRyb2xsZXIpXG5cdC5kaXJlY3RpdmUoJ3RvZ2dsZUVsbScsIHRvZ2dsZUVsbSk7XG5cblx0ZnVuY3Rpb24gQ29udGVudGNvbnRyb2xsZXIgKCAkc2NvcGUgKSB7fVxuXG5cdGZ1bmN0aW9uIHRvZ2dsZUVsbSAoKSB7XG5cblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0bGluazogbGluayxcblx0XHRcdHJlc3RyaWN0OiAnQSdcblx0XHR9XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuXHRcdFx0ZWxlbS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXG5cdCAgICAgICAgICAgICQoJy53cmFwcGVyJykudG9nZ2xlQ2xhc3MoJ3BhbmVsQW5pbWF0ZXMnKTtcblx0ICAgICAgICAgICAgZWxlbS5maW5kKCdzcGFuJykuaHRtbCgkKCcuY2xvc2VCdG4gc3BhbicpLnRleHQoKSA9PSAnT3BlbicgPyAnQ2xvc2UnIDogJ09wZW4nKTtcblxuXHQgICAgICAgIH0pO1xuXG5cdFx0fVxuXG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmxvZ2luJyxbXSlcblx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyICggJHN0YXRlLCBzdGF0dXNjb2RlLCBMb2dpbiApIHsgXG5cblx0XHR2YXIgbG9naW5Db250cm9sbGVyID0gdGhpcztcblx0XHRcblx0XHRsb2dpbkNvbnRyb2xsZXIuc3VibWl0TG9naW4gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0bG9naW5Db250cm9sbGVyLnVzZXJsb2dpbiA9IHt9O1xuXHRcdFx0bG9naW5Db250cm9sbGVyLnVzZXJsb2dpbiA9IHtcblx0XHRcdFx0dXNlcm5hbWU6IGxvZ2luQ29udHJvbGxlci51c2VybmFtZSxcblx0XHRcdFx0cGFzc3dvcmQ6IGxvZ2luQ29udHJvbGxlci5wYXNzd29yZFxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbG9naW5SZXN1bHQgPSBbXTtcblx0XHRcdGxvZ2luUmVzdWx0ID0gTG9naW4uZ2V0KGxvZ2luQ29udHJvbGxlci51c2VybG9naW4sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdChsb2dpblJlc3VsdC5sZW5ndGggPT0gMSAmJiAoIGxvZ2luQ29udHJvbGxlci5wYXNzd29yZCAhPSAndW5kZWZpbmVkJyAmJiBsb2dpblJlc3VsdFswXS5wYXNzd29yZCA9PSBsb2dpbkNvbnRyb2xsZXIucGFzc3dvcmQpICkgPyAkc3RhdGUuZ28oJ2FwcCcpIDogbG9naW5Db250cm9sbGVyLmVycm9yRGF0YSA9ICdQbGVhc2UgY2hlY2sgdXNlcm5hbWUgLyBwYXNzd29yZC4nO1xuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0fVxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5tYWluJyxbXSlcblx0Ly8uY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgTWFpbkNvbnRyb2xsZXIpO1xuXG4vKlxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmFsbCcsIHtcblx0XHRcdFx0dXJsOicvYWxsVGFza3MnLFxuXHRcdFx0XHRhYnN0cmFjdDogZmFsc2UsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ1V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTWFpbkNvbnRyb2xsZXInXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG4qL1xuXHRmdW5jdGlvbiBNYWluQ29udHJvbGxlcigpIHt9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5tZW51JyxbXSlcblx0LmNvbnRyb2xsZXIoJ01lbnVDb250cm9sbGVyJywgTWVudUNvbnRyb2xsZXIpXG5cdC5kaXJlY3RpdmUoJ2VsbVBhbmVsJywgZWxtUGFuZWwpO1xuXG5cdGZ1bmN0aW9uIE1lbnVDb250cm9sbGVyKCBNZW51bGlzdCwgUHJvamVjdGxpc3QsIFByb2plY3RsYWJlbCwgUHJvamVjdGZpbHRlciwgJHN0YXRlUGFyYW1zICkge1xuXG5cdFx0dmFyIE1lbnVDb250cm9sbGVyID0gdGhpcztcblxuXHRcdE1lbnVDb250cm9sbGVyLm1lbnVMaXN0ID0gTWVudWxpc3QucXVlcnkoKTtcblx0XHRNZW51Q29udHJvbGxlci5wcm9qZWN0TGlzdCA9IFByb2plY3RsaXN0LnF1ZXJ5KCk7XG5cdFx0TWVudUNvbnRyb2xsZXIucHJvamVjdExhYmVsID0gUHJvamVjdGxhYmVsLnF1ZXJ5KCk7XG5cdFx0TWVudUNvbnRyb2xsZXIucHJvamVjdEZpbHRlciA9IFByb2plY3RmaWx0ZXIucXVlcnkoKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZWxtUGFuZWwoKSB7XG5cblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0bGluazogbGluayxcblx0XHRcdHJlc3RyaWN0OiAnQSdcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcblxuXHRcdGZ1bmN0aW9uIGxpbmsgIChzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuXHRcdFx0ZWxlbS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgJHRleHRUYXJnZXQgPSAkKCcuY29udGVudCAuY2xvc2VCdG4nKS5maW5kKCdzcGFuJyk7XG5cdFx0XHRcdCQoJy53cmFwcGVyJykudG9nZ2xlQ2xhc3MoJ3BhbmVsQW5pbWF0ZXMnKTtcblx0XHRcdFx0JHRleHRUYXJnZXQuaHRtbCggJHRleHRUYXJnZXQudGV4dCgpID09ICdDbG9zZScgPyAnT3BlbicgOiAnQ2xvc2UnKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZXIgc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLnJlZ2lzdGVyJywgW10pXG5cdC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlciggJHN0YXRlLCBMb2dpbiApIHtcblxuXHRcdHZhciByZWdpc3RlckNvbnRyb2xsZXIgPSB0aGlzO1xuXG5cdFx0cmVnaXN0ZXJDb250cm9sbGVyLnN1Ym1pdFJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdGlmIChyZWdpc3RlckNvbnRyb2xsZXIuZm9ybVJlZ2lzdGVyLiR2YWxpZCkge1xuXG5cdFx0XHRcdHJlZ2lzdGVyQ29udHJvbGxlci5kYXRhUmVnaXN0ZXIgPSB7fTtcblxuXHRcdFx0XHRyZWdpc3RlckNvbnRyb2xsZXIuZGF0YVJlZ2lzdGVyID0ge1xuXG5cdFx0XHRcdFx0Zmlyc3ROYW1lOiByZWdpc3RlckNvbnRyb2xsZXIuZmlyc3ROYW1lLFxuXHRcdFx0XHRcdGxhc3ROYW1lOiByZWdpc3RlckNvbnRyb2xsZXIubGFzdE5hbWUsXG5cdFx0XHRcdFx0dXNlcm5hbWU6IHJlZ2lzdGVyQ29udHJvbGxlci51c2VybmFtZSxcblx0XHRcdFx0XHRtYWlsOiByZWdpc3RlckNvbnRyb2xsZXIubWFpbCxcblx0XHRcdFx0XHRwYXNzd29yZDogcmVnaXN0ZXJDb250cm9sbGVyLnBhc3N3b3JkLFxuXHRcdFx0XHRcdHJvbGU6ICd1c2VyJ1xuXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0TG9naW4uc2F2ZShyZWdpc3RlckNvbnRyb2xsZXIuZGF0YVJlZ2lzdGVyKTtcblx0XHRcdFx0JCgnZm9ybScpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcblxuXHRcdFx0XHQkc3RhdGUuZ28oJ2FwcCcpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHJlZ2lzdGVyQ29udHJvbGxlci5lcnJvckRhdGEgPSAnQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnO1xuXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmVnaXN0ZXJDb250cm9sbGVyLnJlc2V0VmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXHRcdH1cblxuXHR9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLnV0aWxpdHknLFtdKVxuXHQuY29udHJvbGxlcignVXRpbGl0aWVzQ29udHJvbGxlcicsIFV0aWxpdGllc0NvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIFV0aWxpdGllc0NvbnRyb2xsZXIoKSB7XG5cdFx0XG5cdFx0dmFyIFV0aWxpdGllc0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdFV0aWxpdGllc0NvbnRyb2xsZXIudGltZSA9IG5ldyBEYXRlKCk7XG5cdFx0XG5cdH0gXG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvJywgW1xuXHRcdCdhcHAuYWxsdG9kby5jcmVhdGUnLFxuXHRcdCdhcHAuYWxsdG9kby5lZGl0J1xuXHRdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ0FsbHRhc2tDb250cm9sbGVyJywgQWxsdGFza0NvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmFsbCcsIHtcblx0XHRcdFx0dXJsOicvYWxsdGFzay86aWQnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHRwYXJhbXM6WydpZCddLFxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5hbGwvYWxsLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FsbHRhc2tDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3RvZG8nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIEFsbHRhc2tDb250cm9sbGVyICggQWxsdGFza3MsICRzdGF0ZSwgaXNJZCApIHtcblxuXHRcdHZhciBBbGx0YXNrQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0XHRBbGx0YXNrQ29udHJvbGxlci5udW1iZXJDdXJyZW50ID0gMDtcblx0XHRcblx0XHRBbGx0YXNrQ29udHJvbGxlci5wYWdlU2l6ZSA9IDM7XG5cdFx0QWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFxuXHRcdEFsbHRhc2tDb250cm9sbGVyLm51bWJlck9mUGFnZXMgPSAgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIE1hdGguY2VpbChBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcy5sZW5ndGggLyBBbGx0YXNrQ29udHJvbGxlci5wYWdlU2l6ZSk7XG5cdFx0fTtcblxuXHRcdEFsbHRhc2tDb250cm9sbGVyLnJlbW92ZVRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0QWxsdGFza3MuZGVsZXRlKHt9LCB7J2lkJzogdGFzay5pZH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdCAgICBBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdFxuXHRcdEFsbHRhc2tDb250cm9sbGVyLmVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdGlzSWQuYWRkSWREYXRhKHRhc2suaWQpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuZWRpdCcpO1xuXHRcdH07XG5cdFx0XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXJjaGl2ZScsW10pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignY29udHJvbGxlckFyY2hpdmUnLCBjb250cm9sbGVyQXJjaGl2ZSk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblx0XHRcblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAuYXJjaGl2ZScsIHtcblx0XHRcdFx0dXJsOiAnL2FyY2hpdmUnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFyY2hpdmVkL2FyY2hpdmVkLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdjb250cm9sbGVyQXJjaGl2ZScsXG5cdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnYXJjaGl2ZWQnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbnRyb2xsZXJBcmNoaXZlKCkge31cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLm5leHQnLFtdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJOZXh0RGF5cycsIGNvbnRyb2xsZXJOZXh0RGF5cyk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5uZXh0Jywge1xuXHRcdFx0XHR1cmw6Jy9uZXh0LzppZCcsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4udGFza1NldmVuL3NldmVuLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ2NvbnRyb2xsZXJOZXh0RGF5cycsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICduZXh0U2V2ZW4nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbnRyb2xsZXJOZXh0RGF5cyAoIEFsbHRhc2tzLCAkc3RhdGUsIGlzSWQgKSB7XG5cblx0XHR2YXIgY29udHJvbGxlck5leHREYXlzID0gdGhpcztcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy50b2RheURhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ0wnKTtcblx0XHRjb250cm9sbGVyTmV4dERheXMud2Vla0RhdGUgPSBtb21lbnQoKS53ZWVrZGF5KDcpLmZvcm1hdCgnTCcpO1xuXG5cdFx0Y29udHJvbGxlck5leHREYXlzLm5leHRTZXZlbkV2ZW50cyA9IEFsbHRhc2tzLnF1ZXJ5KHt9LCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIGFycmF5UG9zID0gW107XG5cblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChjb250cm9sbGVyTmV4dERheXMubmV4dFNldmVuRXZlbnRzLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuXG5cdFx0XHRcdGlmICggbW9tZW50KHZhbHVlLmRhdGVOdW0pLmZvcm1hdCgnTCcpID49IGNvbnRyb2xsZXJOZXh0RGF5cy50b2RheURhdGUgJiYgbW9tZW50KHZhbHVlLmRhdGVOdW0pLmZvcm1hdCgnTCcpIDw9IGNvbnRyb2xsZXJOZXh0RGF5cy53ZWVrRGF0ZSApIHtcblx0XHRcdFx0XHRhcnJheVBvcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0XHRjb250cm9sbGVyTmV4dERheXMubmV4dFNldmVuRXZlbnRzID0gYXJyYXlQb3M7XG5cblx0XHR9KTtcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5yZW1vdmVUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdEFsbHRhc2tzLmRlbGV0ZSh7fSwgeydpZCc6IHRhc2suaWR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQgICAgQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5lZGl0VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRpc0lkLmFkZElkRGF0YSh0YXNrLmlkKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmVkaXQnKTtcblx0XHR9O1xuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC50b2RheScsW10pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignVG9kYXlDb250cm9sbGVyJywgVG9kYXlDb250cm9sbGVyKTtcblx0Ly8uZmlsdGVyKCdmaWx0ZXJUb2RheUV2ZW50cycsIGZpbHRlclRvZGF5RXZlbnRzKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLnRvZGF5Jywge1xuXHRcdFx0XHR1cmw6Jy90b2RheScsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4udG9kYXkvdG9kYXkuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVG9kYXlDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3RvZGF5J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBUb2RheUNvbnRyb2xsZXIoIEFsbHRhc2tzLCAkc3RhdGUsIGlzSWQgKSB7XG5cblx0XHR2YXIgVG9kYXlDb250cm9sbGVyID0gdGhpcztcblxuXHRcdFRvZGF5Q29udHJvbGxlci50b2RheURhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ0wnKTtcblxuXHRcdFRvZGF5Q29udHJvbGxlci50b2RvVGFza3MgPSBBbGx0YXNrcy5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBhcnJheVBvcyA9IFtdO1xuXHRcdFx0XHRcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChUb2RheUNvbnRyb2xsZXIudG9kb1Rhc2tzLCBmdW5jdGlvbih2YWx1ZSwga2V5KXtcblxuXHRcdFx0XHRpZiAoIFRvZGF5Q29udHJvbGxlci50b2RheURhdGUgPT0gbW9tZW50KHZhbHVlLmRhdGVOdW0pLmZvcm1hdCgnTCcpICkge1xuXHRcdFx0XHRcdGFycmF5UG9zLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRUb2RheUNvbnRyb2xsZXIudG9kb1Rhc2tzID0gYXJyYXlQb3M7XG5cblx0XHR9KTtcblx0XHRUb2RheUNvbnRyb2xsZXIucmVtb3ZlVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRBbGx0YXNrcy5kZWxldGUoe30sIHsnaWQnOiB0YXNrLmlkfSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0ICAgIEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0VG9kYXlDb250cm9sbGVyLmVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdGlzSWQuYWRkSWREYXRhKHRhc2suaWQpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuZWRpdCcpO1xuXHRcdH07XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFsbHRvZG8uY3JlYXRlJyxbXG5cdFx0J2FwcC5hbGx0b2RvJ1xuXHRdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ0NyZWF0ZXRvZG9Db250cm9sbGVyJywgQ3JlYXRldG9kb0NvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmNyZWF0ZScsIHtcblxuXHRcdFx0XHR1cmw6ICcvYWxsdGFzay9jcmVhdGUnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdvdmVybGF5QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2h0bWwvbWFpbi9tYWluLmFsbC9jcmVhdGUuYWxsL2NyZWF0ZS5hbGwuaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQ3JlYXRldG9kb0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnY3JlYXRlVG9kbydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYWxsL2FsbC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGx0YXNrQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RvJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIENyZWF0ZXRvZG9Db250cm9sbGVyICggQWxsdGFza3MsIFByb2plY3RsYWJlbCwgVXNlcikge1xuXG5cdFx0dmFyIENyZWF0ZXRvZG9Db250cm9sbGVyID0gdGhpcztcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnN1Ym1pdHRlZCA9IGZhbHNlO1xuXG5cdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIucHJpb3JpdHkgPSBQcm9qZWN0bGFiZWwucXVlcnkoKTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnVzZXIgPSBVc2VyLnF1ZXJ5KHt9LCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHVzZXJEYXRhID0gW107XG5cblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cblx0XHRcdFx0dXNlckRhdGEucHVzaChDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyW2tleV0ubmFtZSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyID0gdXNlckRhdGE7XG5cdFx0XHRcblx0XHR9KTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmNyZWF0ZVRhc2sgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGlmIChDcmVhdGV0b2RvQ29udHJvbGxlci5mb3JtQWRkVGFza3MuJHZhbGlkKSB7XG5cblx0XHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIuZGF0YSA9IHt9O1xuXG5cdFx0XHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEgPSB7XG5cblx0XHRcdFx0XHRwcm9qZWN0OiBDcmVhdGV0b2RvQ29udHJvbGxlci5wcm9qZWN0LFxuXHRcdFx0XHRcdGxhYmVsOiBDcmVhdGV0b2RvQ29udHJvbGxlci5sYWJlbCxcblx0XHRcdFx0XHRuYW1lOiBDcmVhdGV0b2RvQ29udHJvbGxlci5uYW1lLFxuXHRcdFx0XHRcdGRhdGVOdW06IENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGVOdW0sXG5cdFx0XHRcdFx0aGVhZGVyQ29tbWVudDogQ3JlYXRldG9kb0NvbnRyb2xsZXIuaGVhZGVyQ29tbWVudCxcblx0XHRcdFx0XHRjb21tZW50OiBDcmVhdGV0b2RvQ29udHJvbGxlci5jb21tZW50LFxuXHRcdFx0XHRcdGRvbmU6IENyZWF0ZXRvZG9Db250cm9sbGVyLmRvbmVcblx0XHRcdFx0XHRcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRBbGx0YXNrcy5zYXZlKENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEpO1xuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXHRcdFx0XHQkKCdwLm1zZy1lcnJvcicpLnJlbW92ZUNsYXNzKCdtc2ctZXJyb3InKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgncCcpLmFkZENsYXNzKCdtc2ctZXJyb3InKTtcblx0XHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIuc3VibWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIucmVzZXRWYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQoJ2Zvcm0nKS5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XG5cdFx0fTtcblxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFsbHRvZG8uZWRpdCcsW1xuXHRcdCdhcHAuYWxsdG9kbydcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdFZGl0dG9kb0NvbnRyb2xsZXInLCBFZGl0dG9kb0NvbnRyb2xsZXIgKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5lZGl0Jywge1xuXG5cdFx0XHRcdHVybDogJy9hbGx0YXNrL2VkaXQnLFxuXHRcdFx0XHR2aWV3czoge1xuXG5cdFx0XHRcdFx0J292ZXJsYXlAJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvaHRtbC9tYWluL21haW4uYWxsL2VkaXQuYWxsL2VkaXQuYWxsLmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0VkaXR0b2RvQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdlZGl0VG9kbydcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5hbGwvYWxsLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FsbHRhc2tDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3RvZG8nXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gRWRpdHRvZG9Db250cm9sbGVyICggaXNJZCwgQWxsdGFza3MsICRzdGF0ZSApIHtcblxuXHRcdHZhciBFZGl0dG9kb0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdHZhciBlZGl0SWQgPSBpc0lkLmdldElkRGF0YSgpO1xuXG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLmlkRWRpdCA9IGVkaXRJZFswXTtcblx0XHRFZGl0dG9kb0NvbnRyb2xsZXIudGFzayA9IEFsbHRhc2tzLmdldCh7fSx7J2lkJzogZWRpdElkWzBdfSk7XG5cblx0XHRFZGl0dG9kb0NvbnRyb2xsZXIuZWRpdFRhc2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdFxuXHRcdFx0RWRpdHRvZG9Db250cm9sbGVyLm5ld1Rhc2sgPSB7XG5cblx0XHRcdFx0aWQ6IGVkaXRJZFswXSxcblx0XHRcdFx0cHJvamVjdDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2sucHJvamVjdCxcblx0XHRcdFx0bGFiZWw6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmxhYmVsLFxuXHRcdFx0XHRuYW1lOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5uYW1lLFxuXHRcdFx0XHRkYXRlTnVtOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5kYXRlTnVtLFxuXHRcdFx0XHRoZWFkZXJDb21tZW50OiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5oZWFkZXJDb21tZW50LFxuXHRcdFx0XHRjb21tZW50OiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5jb21tZW50LFxuXHRcdFx0XHRkb25lOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5kb25lXG5cblx0XHRcdH07XG5cblx0XHRcdEVkaXR0b2RvQ29udHJvbGxlci5uZXdUYXNrLmRhdGVOdW0gPSBuZXcgRGF0ZSAoRWRpdHRvZG9Db250cm9sbGVyLnRhc2suZGF0ZU51bSk7XG5cdFx0XHRBbGx0YXNrcy51cGRhdGUoRWRpdHRvZG9Db250cm9sbGVyLm5ld1Rhc2spO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuYWxsJyk7XG5cblx0XHR9O1xuXG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLmNhbmNlbEVkaXQgPSBmdW5jdGlvbigpIHtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmFsbCcpO1x0XHRcdFxuXHRcdH07XG5cdFx0XG5cdH1cblxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=