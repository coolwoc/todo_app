!function(){"use strict";function t(t,e,o){t.otherwise("/"),o.state("login",{url:"/login",views:{"content@":{templateUrl:"html/login/login.index.html",controller:"LoginController",controllerAs:"login"}}}).state("login.register",{url:"/register",views:{"content@":{templateUrl:"html/register/register.index.html",controller:"RegisterController",controllerAs:"register"}}}).state("app",{url:"/content",views:{menu:{templateUrl:"html/menu/menu.index.html",controller:"MenuController",controllerAs:"menuData"},"content@":{templateUrl:"html/content/content.index.html",controller:"Contentcontroller",controllerAs:"content"}}})}function e(t,e,o,n){t.globals=o.get("globals")||{},t.globals.currentUser&&(n.defaults.headers.common.Authorization="Basic"+t.globals.currentUser.authdata),t.$on("$locationChangeStart",function(o,n,a){var r=-1===$.inArray(e.path(),["/login"]),l=t.globals.currentUser;r&&!l&&e.path("/login")})}angular.module("app",[]);angular.module("app",["ui.router","ngAnimate","ngResource","ngCookies","app.api","app.global","app.menu","app.login","app.register","app.main","app.utility","app.alltodo","app.next","app.today","app.content","app.archive"]).constant("sitename","applocal").constant("apibase","http://localhost:3000").constant("apiversion","/v1.0").config(t).run(e),t.$inject=["$urlRouterProvider","$httpProvider","$stateProvider"],e.$inject=["$rootScope","$location","$cookieStore","$http"]}(),function(){"use strict";function t(t,e){return t(e+"/userlogin",{},{get:{method:"GET",isArray:!0},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function e(t,e){return t(e+"/mainmenu",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function o(t,e){return t(e+"/project",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function n(t,e){return t(e+"/labels",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function a(t,e){return t(e+"/filters",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function r(t,e){var o=function(t){return t=angular.fromJson(t),t.dateNum=new Date(t.dateNum),t};return t(e+"/task/:id",{id:"@id"},{get:{method:"GET",transformResponse:o},save:{method:"POST"},update:{method:"PUT"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}})}function l(){var t=[],e=function(e){t=[],t.push(e)},o=function(){return t};return{addIdData:e,getIdData:o}}function i(){return{isError:function(t){return 1==t?!0:!1}}}angular.module("app.api",[]),angular.module("app.api").factory("Login",t),t.$inject=["$resource","apibase"],angular.module("app.api").factory("Menulist",e),e.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlist",o),o.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlabel",n),n.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectfilter",a),a.$inject=["$resource","apibase"],angular.module("app.api").factory("Alltasks",r),r.$inject=["$resource","apibase"],angular.module("app.api").service("isId",l),angular.module("app.api").factory("statuscode",i)}(),function(){"use strict";angular.module("app.global",[]).filter("pagination",function(){return function(t,e){return e=+e,t.slice(e)}})}(),function(){"use strict";function t(t){}function e(){function t(t,e,o){e.on("click",function(){$(".wrapper").toggleClass("panelAnimates"),e.find("span").html("Open"==$(".closeBtn span").text()?"Close":"Open")})}var e={link:t,restrict:"A"};return e}angular.module("app.content",[]).controller("Contentcontroller",t).directive("toggleElm",e),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,o){var n=this;n.submitLogin=function(){n.userlogin={},n.userlogin={username:n.username,password:n.password};var e=[];e=o.get(n.userlogin,function(){1==e.length&&"undefined"!=n.password&&e[0].password==n.password?t.go("app"):n.errorData="Please check username / password."})}}angular.module("app.login",[]).controller("LoginController",t),t.$inject=["$state","statuscode","Login"]}(),function(){"use strict";function t(){}angular.module("app.main",[]).controller("MainController",t)}(),function(){"use strict";function t(t,e,o,n,a){var r=this;r.menuList=t.query(),r.projectList=e.query(),r.projectLabel=o.query(),r.projectFilter=n.query()}function e(){function t(t,e,o){e.on("click",function(){var t=$(".content .closeBtn").find("span");$(".wrapper").toggleClass("panelAnimates"),t.html("Close"==t.text()?"Open":"Close")})}var e={link:t,restrict:"A"};return e}angular.module("app.menu",[]).controller("MenuController",t).directive("elmPanel",e),t.$inject=["Menulist","Projectlist","Projectlabel","Projectfilter","$stateParams"]}(),function(){"user strict";function t(){}angular.module("app.register",[]).controller("RegisterController",t)}(),function(){"use strict";function t(){var t=this;t.time=new Date}angular.module("app.utility",[]).controller("UtilitiesController",t)}(),function(){"use strict";function t(t){t.state("app.all",{url:"/alltask/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{params:["id"],templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,o){var n=this;n.numberCurrent=0,n.pageSize=3,n.allTasks=t.query(),n.numberOfPages=function(){return Math.ceil(n.allTasks.length/n.pageSize)},n.removeTask=function(e){t["delete"]({},{id:e.id},function(){n.allTasks=t.query()})},n.editTask=function(t){o.addIdData(t.id),e.go("app.edit")}}angular.module("app.alltodo",["app.alltodo.create","app.alltodo.edit"]).config(t).controller("AlltaskController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.archive",{url:"/archive",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.archived/archived.index.html",controller:"controllerArchive",controllerAs:"archived"}}})}function e(){}angular.module("app.archive",[]).config(t).controller("controllerArchive",e),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.state("app.next",{url:"/next/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.taskSeven/seven.index.html",controller:"controllerNextDays",controllerAs:"nextSeven"}}})}function e(t,e,o){var n=this;n.todayDate=moment().format("L"),n.weekDate=moment().weekday(7).format("L"),n.nextSevenEvents=t.query({},function(){var t=[];angular.forEach(n.nextSevenEvents,function(e,o){moment(e.dateNum).format("L")>=n.todayDate&&moment(e.dateNum).format("L")<=n.weekDate&&t.push(e)}),n.nextSevenEvents=t}),n.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},n.editTask=function(t){o.addIdData(t.id),e.go("app.edit")}}angular.module("app.next",[]).config(t).controller("controllerNextDays",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.today",{url:"/today",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.today/today.index.html",controller:"TodayController",controllerAs:"today"}}})}function e(t,e,o){var n=this;n.todayDate=moment().format("L"),n.todoTasks=t.query({},function(){var t=[];angular.forEach(n.todoTasks,function(e,o){n.todayDate==moment(e.dateNum).format("L")&&t.push(e)}),n.todoTasks=t}),n.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},n.editTask=function(t){o.addIdData(t.id),e.go("app.edit")}}angular.module("app.today",[]).config(t).controller("TodayController",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t){t.state("app.edit",{url:"/alltask/edit",views:{"overlay@":{templateUrl:"/html/main/main.all/edit.all/edit.all.html",controller:"EdittodoController",controllerAs:"editTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,o){var n=this,a=t.getIdData();n.idEdit=a[0],n.task=e.get({},{id:a[0]}),n.editTask=function(){n.newTask={id:a[0],project:n.task.project,label:n.task.label,name:n.task.name,dateNum:n.task.dateNum,headerComment:n.task.headerComment,comment:n.task.comment,done:n.task.done},n.newTask.dateNum=new Date(n.task.dateNum),e.update(n.newTask),o.go("app.all")},n.cancelEdit=function(){o.go("app.all")}}angular.module("app.alltodo.edit",["app.alltodo"]).config(t).controller("EdittodoController",e),t.$inject=["$stateProvider"],e.$inject=["isId","Alltasks","$state"]}(),function(){"use strict";function t(t){t.state("app.create",{url:"/alltask/create",views:{"overlay@":{templateUrl:"/html/main/main.all/create.all/create.all.html",controller:"CreatetodoController",controllerAs:"createTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,o){var n=this;n.submitted=!1,n.priority=e.query(),n.user=o.query({},function(){var t=[];angular.forEach(n.user,function(e,o){t.push(n.user[o].name)}),n.user=t}),n.createTask=function(){n.formAddTasks.$valid?(n.data={},n.data={project:n.project,label:n.label,name:n.name,dateNum:n.dateNum,headerComment:n.headerComment,comment:n.comment,done:n.done},console.log(n.data.done),t.save(n.data),$("form").find("input").val(""),$("p.msg-error").removeClass("msg-error")):($("form").find("p").addClass("msg-error"),n.submitted=!0)},n.resetVal=function(){$("form").find("input").val("")}}angular.module("app.alltodo.create",["app.alltodo"]).config(t).controller("CreatetodoController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","Projectlabel","User"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJnbG9iYWwuanMiLCJmaWx0ZXJzLmpzIiwiY29udGVudC9jb250ZW50Q29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luQ29udHJvbGxlci5qcyIsIm1haW4vbWFpbkNvbnRyb2xsZXIuanMiLCJtZW51L21lbnVDb250cm9sbGVyLmpzIiwicmVnaXN0ZXIvcmVnaXN0ZXJDb250cm9sbGVyLmpzIiwidXRpbGl0aWVzL3V0aWxpdGllc0NvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2FsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYXJjaGl2ZWQvYXJjaGl2ZWRDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbkNvbnRyb2xsZXIuanMiLCJtYWluL21haW4udG9kYXkvdG9kYXlDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLmFsbC9lZGl0LmFsbC9lZGl0YWxsQ29udHJvbGxlci5qcyIsIm1haW4vbWFpbi5hbGwvY3JlYXRlLmFsbC9jcmVhdGVhbGxDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJjb250ZW50QCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm1lbnUiLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJGNvb2tpZVN0b3JlIiwiJGh0dHAiLCJnbG9iYWxzIiwiZ2V0IiwiY3VycmVudFVzZXIiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJhdXRoZGF0YSIsIiRvbiIsImV2ZW50IiwibmV4dCIsImN1cnJlbnQiLCJyZXN0cmljdGVkUGFnZSIsIiQiLCJpbkFycmF5IiwicGF0aCIsImxvZ2dlZEluIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiJGluamVjdCIsIkxvZ2luIiwiJHJlc291cmNlIiwiYXBpYmFzZSIsIm1ldGhvZCIsImlzQXJyYXkiLCJzYXZlIiwicXVlcnkiLCJkZWxldGUiLCJNZW51bGlzdCIsIlByb2plY3RsaXN0IiwiUHJvamVjdGxhYmVsIiwiUHJvamVjdGZpbHRlciIsIkFsbHRhc2tzIiwiZGF0ZUpzb24iLCJmcm9tSnNvbiIsImRhdGVOdW0iLCJEYXRlIiwiaWQiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInVwZGF0ZSIsInJlbW92ZSIsImlzSWQiLCJpc0lkcyIsImFkZElkRGF0YSIsIm5ld0lEIiwicHVzaCIsImdldElkRGF0YSIsInN0YXR1c2NvZGUiLCJpc0Vycm9yIiwidmFsdWUiLCJmYWN0b3J5Iiwic2VydmljZSIsImZpbHRlciIsImlucHV0Iiwic3RhcnQiLCJzbGljZSIsIkNvbnRlbnRjb250cm9sbGVyIiwiJHNjb3BlIiwidG9nZ2xlRWxtIiwibGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwib24iLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJodG1sIiwidGV4dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwiTG9naW5Db250cm9sbGVyIiwiJHN0YXRlIiwibG9naW5Db250cm9sbGVyIiwidGhpcyIsInN1Ym1pdExvZ2luIiwidXNlcmxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvZ2luUmVzdWx0IiwibGVuZ3RoIiwiZ28iLCJlcnJvckRhdGEiLCJNYWluQ29udHJvbGxlciIsIk1lbnVDb250cm9sbGVyIiwiJHN0YXRlUGFyYW1zIiwibWVudUxpc3QiLCJwcm9qZWN0TGlzdCIsInByb2plY3RMYWJlbCIsInByb2plY3RGaWx0ZXIiLCJlbG1QYW5lbCIsIiR0ZXh0VGFyZ2V0IiwiUmVnaXN0ZXJDb250cm9sbGVyIiwiVXRpbGl0aWVzQ29udHJvbGxlciIsInRpbWUiLCJ1dGlsaXRpZXNAYXBwIiwibWFpbkBhcHAiLCJwYXJhbXMiLCJBbGx0YXNrQ29udHJvbGxlciIsIm51bWJlckN1cnJlbnQiLCJwYWdlU2l6ZSIsImFsbFRhc2tzIiwibnVtYmVyT2ZQYWdlcyIsIk1hdGgiLCJjZWlsIiwicmVtb3ZlVGFzayIsInRhc2siLCJlZGl0VGFzayIsImNvbnRyb2xsZXJBcmNoaXZlIiwiY29udHJvbGxlck5leHREYXlzIiwidG9kYXlEYXRlIiwibW9tZW50IiwiZm9ybWF0Iiwid2Vla0RhdGUiLCJ3ZWVrZGF5IiwibmV4dFNldmVuRXZlbnRzIiwiYXJyYXlQb3MiLCJmb3JFYWNoIiwia2V5IiwiVG9kYXlDb250cm9sbGVyIiwidG9kb1Rhc2tzIiwib3ZlcmxheUAiLCJFZGl0dG9kb0NvbnRyb2xsZXIiLCJlZGl0SWQiLCJpZEVkaXQiLCJuZXdUYXNrIiwicHJvamVjdCIsImxhYmVsIiwibmFtZSIsImhlYWRlckNvbW1lbnQiLCJjb21tZW50IiwiZG9uZSIsImNhbmNlbEVkaXQiLCJDcmVhdGV0b2RvQ29udHJvbGxlciIsIlVzZXIiLCJzdWJtaXR0ZWQiLCJwcmlvcml0eSIsInVzZXIiLCJ1c2VyRGF0YSIsImNyZWF0ZVRhc2siLCJmb3JtQWRkVGFza3MiLCIkdmFsaWQiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInZhbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJyZXNldFZhbCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFQSxZQTZCQSxTQUFBQSxHQUFBQyxFQUFBQyxFQUFBQyxHQUVBRixFQUFBRyxVQUFBLEtBRUFELEVBQ0FFLE1BQUEsU0FDQUMsSUFBQSxTQUNBQyxPQUNBQyxZQUNBQyxZQUFBLDhCQUNBQyxXQUFBLGtCQUNBQyxhQUFBLFlBSUFOLE1BQUEsa0JBQ0FDLElBQUEsWUFDQUMsT0FDQUMsWUFDQUMsWUFBQSxvQ0FDQUMsV0FBQSxxQkFDQUMsYUFBQSxlQUlBTixNQUFBLE9BQ0FDLElBQUEsV0FDQUMsT0FDQUssTUFDQUgsWUFBQSw0QkFDQUMsV0FBQSxpQkFDQUMsYUFBQSxZQUVBSCxZQUNBQyxZQUFBLGtDQUNBQyxXQUFBLG9CQUNBQyxhQUFBLGNBS0EsUUFBQUUsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FJ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QVksUUFBQUMsSUFBQVgsRUFBQVMsS0FBQVgsTUFFQWxHLEVBQUFQLEtBQUEyRyxFQUFBUyxNQUNBakksRUFBQSxRQUFBcUQsS0FBQSxTQUFBK0UsSUFBQSxJQUNBcEksRUFBQSxlQUFBcUksWUFBQSxlQUlBckksRUFBQSxRQUFBcUQsS0FBQSxLQUFBaUYsU0FBQSxhQUNBZCxFQUFBRSxXQUFBLElBS0FGLEVBQUFlLFNBQUEsV0FDQXZJLEVBQUEsUUFBQXFELEtBQUEsU0FBQStFLElBQUEsS0FuRkFoSSxRQUFBQyxPQUFBLHNCQUNBLGdCQUVBbkMsT0FBQUEsR0FDQVUsV0FBQSx1QkFBQTRJLEdkd3RCQ3RKLEVBQU9xQyxTQUFXLGtCQTZEbEJpSCxFQUFxQmpILFNBQVcsV0FBWSxlQUFnQiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcblx0XHQndWkucm91dGVyJyxcblx0XHQnbmdBbmltYXRlJyxcblx0XHQnbmdSZXNvdXJjZScsXG5cdFx0J25nQ29va2llcycsXG5cdFx0J2FwcC5hcGknLFxuXHRcdCdhcHAuZ2xvYmFsJyxcblx0XHQnYXBwLm1lbnUnLFxuXHRcdCdhcHAubG9naW4nLFxuXHRcdCdhcHAucmVnaXN0ZXInLFxuXHRcdCdhcHAubWFpbicsXG5cdFx0J2FwcC51dGlsaXR5Jyxcblx0XHQnYXBwLmFsbHRvZG8nLFxuXHRcdCdhcHAubmV4dCcsXG5cdFx0J2FwcC50b2RheScsXG5cdFx0J2FwcC5jb250ZW50Jyxcblx0XHQnYXBwLmFyY2hpdmUnXG5cdF0pXG5cblx0LmNvbnN0YW50KCdzaXRlbmFtZScsICdhcHBsb2NhbCcpXG5cdC5jb25zdGFudCgnYXBpYmFzZScsICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKVxuXHQuY29uc3RhbnQoJ2FwaXZlcnNpb24nLCAnL3YxLjAnKVxuXG5cdC5jb25maWcoY29uZmlnKVxuXHQucnVuKHJ1bik7XG5cblx0ZnVuY3Rpb24gY29uZmlnKCR1cmxSb3V0ZXJQcm92aWRlciwgJGh0dHBQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIpIHtcblxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2xvZ2luJywge1xuXHRcdFx0XHR1cmw6Jy9sb2dpbicsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL2xvZ2luL2xvZ2luLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdsb2dpbidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuc3RhdGUoJ2xvZ2luLnJlZ2lzdGVyJywge1xuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9yZWdpc3Rlci9yZWdpc3Rlci5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdSZWdpc3RlckNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAncmVnaXN0ZXInXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LnN0YXRlKCdhcHAnLCB7XG5cdFx0XHRcdHVybDogJy9jb250ZW50Jyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnbWVudSc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tZW51L21lbnUuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTWVudUNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbWVudURhdGEnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvY29udGVudC9jb250ZW50LmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NvbnRlbnRjb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NvbnRlbnQnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiBydW4oICRyb290U2NvcGUsICRsb2NhdGlvbiwgJGNvb2tpZVN0b3JlLCAkaHR0cCApIHtcblxuXHRcdC8vIGtlZXAgdXNlciBsb2dnZWQgaW4gYWZ0ZXIgcGFnZSByZWZyZXNoLlxuXHRcdFxuXHRcdCRyb290U2NvcGUuZ2xvYmFscyA9ICRjb29raWVTdG9yZS5nZXQoJ2dsb2JhbHMnKSB8fCB7fTtcblxuXHRcdGlmICggJHJvb3RTY29wZS5nbG9iYWxzLmN1cnJlbnRVc2VyICkge1xuXHRcdFx0JGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCYXNpYycgKyAkcm9vdFNjb3BlLmdsb2JhbHMuY3VycmVudFVzZXIuYXV0aGRhdGE7XG5cdFx0fVxuXG5cdFx0JHJvb3RTY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCBuZXh0LCBjdXJyZW50KSB7XG5cblx0XHRcdC8vIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgaWYgbm90IGxvZ2dlZCBpbiBhbmQgdHJ5aW5nIHRvIGFjZXNzIGEgcmVzdHJpY3RlZCBwYWdlLlxuXHRcdFx0dmFyIHJlc3RyaWN0ZWRQYWdlID0gJC5pbkFycmF5KCRsb2NhdGlvbi5wYXRoKCksIFsnL2xvZ2luJ10pID09PSAtMTtcblx0XHRcdHZhciBsb2dnZWRJbiA9ICRyb290U2NvcGUuZ2xvYmFscy5jdXJyZW50VXNlcjtcblx0XHRcdGlmICggcmVzdHJpY3RlZFBhZ2UgJiYgIWxvZ2dlZEluICkge1xuXHRcdFx0XHQkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJywgW10pO1xuXG5cdC8vTG9naW5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdMb2dpbicsIExvZ2luKTtcblx0ZnVuY3Rpb24gTG9naW4gKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvdXNlcmxvZ2luJywge30sXG5cdFx0e1xuXHRcdFx0J2dldCc6IFx0XHR7bWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZX0sXG5cdFx0XHQnc2F2ZSc6IFx0e21ldGhvZDogJ1BPU1QnfSxcblx0XHRcdCdxdWVyeSc6IFx0e21ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWV9LFxuXHRcdFx0J2RlbGV0ZSc6ICBcdHttZXRob2Q6ICdERUxFVEUnfVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gUkVTVGZ1bCBkYXRhXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnTWVudWxpc3QnLCBNZW51bGlzdCk7XG5cdGZ1bmN0aW9uIE1lbnVsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbWFpbm1lbnUnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGxpc3QnLCBQcm9qZWN0bGlzdCk7XG5cdGZ1bmN0aW9uIFByb2plY3RsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvcHJvamVjdCcsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdQcm9qZWN0bGFiZWwnLCBQcm9qZWN0bGFiZWwpO1xuXHRmdW5jdGlvbiBQcm9qZWN0bGFiZWwoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy9sYWJlbHMnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGZpbHRlcicsIFByb2plY3RmaWx0ZXIpO1xuXHRmdW5jdGlvbiBQcm9qZWN0ZmlsdGVyKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvZmlsdGVycycsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdBbGx0YXNrcycsIEFsbHRhc2tzKTtcblx0ZnVuY3Rpb24gQWxsdGFza3MoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cblx0XHR2YXIgZGF0ZUpzb24gPSBmdW5jdGlvbiAoIEFsbHRhc2tzICkge1xuXHRcdFx0QWxsdGFza3MgPSBhbmd1bGFyLmZyb21Kc29uKEFsbHRhc2tzKTtcblx0XHRcdEFsbHRhc2tzLmRhdGVOdW0gPSBuZXcgRGF0ZSAoQWxsdGFza3MuZGF0ZU51bSk7XG5cdFx0XHRyZXR1cm4gQWxsdGFza3M7XHRcblx0XHR9O1xuXG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy90YXNrLzppZCcsIHtpZDonQGlkJ30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBkYXRlSnNvbiB9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQndXBkYXRlJzoge21ldGhvZDonUFVUJyB9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J3JlbW92ZSc6IHttZXRob2Q6J0RFTEVURSd9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gU2VydmljZSAmIEZhY3Rvcnlcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5zZXJ2aWNlKCdpc0lkJywgaXNJZCk7XG5cdGZ1bmN0aW9uIGlzSWQgKCkge1xuXG5cdFx0dmFyIGlzSWRzID0gW107XG5cblx0XHR2YXIgYWRkSWREYXRhID0gZnVuY3Rpb24gKG5ld0lEKSB7XG5cdFx0XHRpc0lkcyA9IFtdO1xuXHRcdFx0aXNJZHMucHVzaChuZXdJRCk7XG5cdFx0fTtcblxuXHRcdHZhciBnZXRJZERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gaXNJZHM7XG5cdFx0fTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRhZGRJZERhdGE6IGFkZElkRGF0YSxcblx0XHRcdGdldElkRGF0YTogZ2V0SWREYXRhXG5cblx0XHR9O1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnc3RhdHVzY29kZScsIHN0YXR1c2NvZGUpO1xuXHRmdW5jdGlvbiBzdGF0dXNjb2RlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0Vycm9yOiBmdW5jdGlvbih2YWx1ZSkgeyBcblx0XHRcdFx0cmV0dXJuICh2YWx1ZSA9PSAxKSA/IHRydWUgOiBmYWxzZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cbn0pKCk7XG5cbi8qXG5cdFNPTUUgQVVUSEVOVElDQVRJT04gJiBMT0dJTiBJREVBUy5cblxuXHRTaW1wbGVMb2dpbjogXG5cdFx0aHR0cHM6Ly9naXRodWIuY29tL2Nvcm5mbG91cmJsdWUvYW5ndWxhci1yZWdpc3RyYXRpb24tbG9naW4tZXhhbXBsZVxuXG5cdEF1dGhvcml6YXRpb246IFxuXHRcdGh0dHA6Ly9qYXNvbndhdG1vcmUuY29tL3Bvc3QvMjAxNS8wMy8xMC9Bbmd1bGFySlMtVXNlci1SZWdpc3RyYXRpb24tYW5kLUxvZ2luLUV4YW1wbGUuYXNweCNhcHBcblxuXHRSb2xlczogXG5cdFx0aHR0cDovL2FydGh1ci5nb25pZ2JlcmcuY29tLzIwMTMvMDYvMjkvYW5ndWxhcmpzLXJvbGUtYmFzZWQtYXV0aC9cblx0XHRcblx0UXVpY2sgUm9sZS1CYXNlZCBBdXRoZW50aWNhdGlvbjpcblx0XHRodHRwOi8vam9uc2Ftd2VsbC5jb20vdXJsLXJvdXRlLWF1dGhvcml6YXRpb24tYW5kLXNlY3VyaXR5LWluLWFuZ3VsYXIvXG5cbiovXG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZ2xvYmFsJyxbXSlcblxuXHRcdC5maWx0ZXIoJ3BhZ2luYXRpb24nLCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoIGlucHV0LCBzdGFydCApIHtcblxuXHRcdFx0XHRzdGFydCA9ICtzdGFydDtcblx0XHRcdFx0cmV0dXJuIGlucHV0LnNsaWNlKHN0YXJ0KTtcblxuXHRcdFx0fTtcblx0XHR9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRlbnQnLCBbXSlcblx0LmNvbnRyb2xsZXIoJ0NvbnRlbnRjb250cm9sbGVyJywgQ29udGVudGNvbnRyb2xsZXIpXG5cdC5kaXJlY3RpdmUoJ3RvZ2dsZUVsbScsIHRvZ2dsZUVsbSk7XG5cblx0ZnVuY3Rpb24gQ29udGVudGNvbnRyb2xsZXIgKCAkc2NvcGUgKSB7fVxuXG5cdGZ1bmN0aW9uIHRvZ2dsZUVsbSAoKSB7XG5cblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0bGluazogbGluayxcblx0XHRcdHJlc3RyaWN0OiAnQSdcblx0XHR9XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuXHRcdFx0ZWxlbS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXG5cdCAgICAgICAgICAgICQoJy53cmFwcGVyJykudG9nZ2xlQ2xhc3MoJ3BhbmVsQW5pbWF0ZXMnKTtcblx0ICAgICAgICAgICAgZWxlbS5maW5kKCdzcGFuJykuaHRtbCgkKCcuY2xvc2VCdG4gc3BhbicpLnRleHQoKSA9PSAnT3BlbicgPyAnQ2xvc2UnIDogJ09wZW4nKTtcblxuXHQgICAgICAgIH0pO1xuXG5cdFx0fVxuXG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmxvZ2luJyxbXSlcblx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyICggJHN0YXRlLCBzdGF0dXNjb2RlLCBMb2dpbiApIHsgXG5cblx0XHR2YXIgbG9naW5Db250cm9sbGVyID0gdGhpcztcblx0XHRcblx0XHRsb2dpbkNvbnRyb2xsZXIuc3VibWl0TG9naW4gPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0bG9naW5Db250cm9sbGVyLnVzZXJsb2dpbiA9IHt9O1xuXHRcdFx0bG9naW5Db250cm9sbGVyLnVzZXJsb2dpbiA9IHtcblx0XHRcdFx0dXNlcm5hbWU6IGxvZ2luQ29udHJvbGxlci51c2VybmFtZSxcblx0XHRcdFx0cGFzc3dvcmQ6IGxvZ2luQ29udHJvbGxlci5wYXNzd29yZFxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbG9naW5SZXN1bHQgPSBbXTtcblx0XHRcdGxvZ2luUmVzdWx0ID0gTG9naW4uZ2V0KGxvZ2luQ29udHJvbGxlci51c2VybG9naW4sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdChsb2dpblJlc3VsdC5sZW5ndGggPT0gMSAmJiAoIGxvZ2luQ29udHJvbGxlci5wYXNzd29yZCAhPSAndW5kZWZpbmVkJyAmJiBsb2dpblJlc3VsdFswXS5wYXNzd29yZCA9PSBsb2dpbkNvbnRyb2xsZXIucGFzc3dvcmQpICkgPyAkc3RhdGUuZ28oJ2FwcCcpIDogbG9naW5Db250cm9sbGVyLmVycm9yRGF0YSA9ICdQbGVhc2UgY2hlY2sgdXNlcm5hbWUgLyBwYXNzd29yZC4nO1xuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0fVxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5tYWluJyxbXSlcblx0Ly8uY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgTWFpbkNvbnRyb2xsZXIpO1xuXG4vKlxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmFsbCcsIHtcblx0XHRcdFx0dXJsOicvYWxsVGFza3MnLFxuXHRcdFx0XHRhYnN0cmFjdDogZmFsc2UsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ1V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTWFpbkNvbnRyb2xsZXInXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG4qL1xuXHRmdW5jdGlvbiBNYWluQ29udHJvbGxlcigpIHt9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5tZW51JyxbXSlcblx0LmNvbnRyb2xsZXIoJ01lbnVDb250cm9sbGVyJywgTWVudUNvbnRyb2xsZXIpXG5cdC5kaXJlY3RpdmUoJ2VsbVBhbmVsJywgZWxtUGFuZWwpO1xuXG5cdGZ1bmN0aW9uIE1lbnVDb250cm9sbGVyKCBNZW51bGlzdCwgUHJvamVjdGxpc3QsIFByb2plY3RsYWJlbCwgUHJvamVjdGZpbHRlciwgJHN0YXRlUGFyYW1zICkge1xuXG5cdFx0dmFyIE1lbnVDb250cm9sbGVyID0gdGhpcztcblxuXHRcdE1lbnVDb250cm9sbGVyLm1lbnVMaXN0ID0gTWVudWxpc3QucXVlcnkoKTtcblx0XHRNZW51Q29udHJvbGxlci5wcm9qZWN0TGlzdCA9IFByb2plY3RsaXN0LnF1ZXJ5KCk7XG5cdFx0TWVudUNvbnRyb2xsZXIucHJvamVjdExhYmVsID0gUHJvamVjdGxhYmVsLnF1ZXJ5KCk7XG5cdFx0TWVudUNvbnRyb2xsZXIucHJvamVjdEZpbHRlciA9IFByb2plY3RmaWx0ZXIucXVlcnkoKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gZWxtUGFuZWwoKSB7XG5cblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0bGluazogbGluayxcblx0XHRcdHJlc3RyaWN0OiAnQSdcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcblxuXHRcdGZ1bmN0aW9uIGxpbmsgIChzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuXHRcdFx0ZWxlbS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgJHRleHRUYXJnZXQgPSAkKCcuY29udGVudCAuY2xvc2VCdG4nKS5maW5kKCdzcGFuJyk7XG5cdFx0XHRcdCQoJy53cmFwcGVyJykudG9nZ2xlQ2xhc3MoJ3BhbmVsQW5pbWF0ZXMnKTtcblx0XHRcdFx0JHRleHRUYXJnZXQuaHRtbCggJHRleHRUYXJnZXQudGV4dCgpID09ICdDbG9zZScgPyAnT3BlbicgOiAnQ2xvc2UnKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZXIgc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLnJlZ2lzdGVyJywgW10pXG5cdC5jb250cm9sbGVyKCdSZWdpc3RlckNvbnRyb2xsZXInLCBSZWdpc3RlckNvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIFJlZ2lzdGVyQ29udHJvbGxlcigpIHtcblxuXHRcdHZhciByZWdpc3RlckNvbnRyb2xsZXIgPSB0aGlzO1xuXG5cdH07XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAudXRpbGl0eScsW10pXG5cdC5jb250cm9sbGVyKCdVdGlsaXRpZXNDb250cm9sbGVyJywgVXRpbGl0aWVzQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gVXRpbGl0aWVzQ29udHJvbGxlcigpIHtcblx0XHRcblx0XHR2YXIgVXRpbGl0aWVzQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0VXRpbGl0aWVzQ29udHJvbGxlci50aW1lID0gbmV3IERhdGUoKTtcblx0XHRcblx0fSBcblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFsbHRvZG8nLCBbXG5cdFx0J2FwcC5hbGx0b2RvLmNyZWF0ZScsXG5cdFx0J2FwcC5hbGx0b2RvLmVkaXQnXG5cdF0pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignQWxsdGFza0NvbnRyb2xsZXInLCBBbGx0YXNrQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAuYWxsJywge1xuXHRcdFx0XHR1cmw6Jy9hbGx0YXNrLzppZCcsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHBhcmFtczpbJ2lkJ10sXG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFsbC9hbGwuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsdGFza0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndG9kbydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gQWxsdGFza0NvbnRyb2xsZXIgKCBBbGx0YXNrcywgJHN0YXRlLCBpc0lkICkge1xuXG5cdFx0dmFyIEFsbHRhc2tDb250cm9sbGVyID0gdGhpcztcblx0XHRcdEFsbHRhc2tDb250cm9sbGVyLm51bWJlckN1cnJlbnQgPSAwO1xuXHRcdFxuXHRcdEFsbHRhc2tDb250cm9sbGVyLnBhZ2VTaXplID0gMztcblx0XHRBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KCk7XG5cdFx0XG5cdFx0QWxsdGFza0NvbnRyb2xsZXIubnVtYmVyT2ZQYWdlcyA9ICBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5jZWlsKEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzLmxlbmd0aCAvIEFsbHRhc2tDb250cm9sbGVyLnBhZ2VTaXplKTtcblx0XHR9O1xuXG5cdFx0QWxsdGFza0NvbnRyb2xsZXIucmVtb3ZlVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRBbGx0YXNrcy5kZWxldGUoe30sIHsnaWQnOiB0YXNrLmlkfSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0ICAgIEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0XG5cdFx0QWxsdGFza0NvbnRyb2xsZXIuZWRpdFRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0aXNJZC5hZGRJZERhdGEodGFzay5pZCk7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5lZGl0Jyk7XG5cdFx0fTtcblx0XHRcblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cdFxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcmNoaXZlJyxbXSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdjb250cm9sbGVyQXJjaGl2ZScsIGNvbnRyb2xsZXJBcmNoaXZlKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuXHRcdFxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5hcmNoaXZlJywge1xuXHRcdFx0XHR1cmw6ICcvYXJjaGl2ZScsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0Y29udHJvbGxlcjogJ1V0aWxpdGllc0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3V0aWxpdGllcydcblx0XHRcdFx0fSxcblx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYXJjaGl2ZWQvYXJjaGl2ZWQuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0Y29udHJvbGxlcjogJ2NvbnRyb2xsZXJBcmNoaXZlJyxcblx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdhcmNoaXZlZCdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29udHJvbGxlckFyY2hpdmUoKSB7fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAubmV4dCcsW10pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignY29udHJvbGxlck5leHREYXlzJywgY29udHJvbGxlck5leHREYXlzKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLm5leHQnLCB7XG5cdFx0XHRcdHVybDonL25leHQvOmlkJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1V0aWxpdGllc0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndXRpbGl0aWVzJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi50YXNrU2V2ZW4vc2V2ZW4uaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnY29udHJvbGxlck5leHREYXlzJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ25leHRTZXZlbidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29udHJvbGxlck5leHREYXlzICggQWxsdGFza3MsICRzdGF0ZSwgaXNJZCApIHtcblxuXHRcdHZhciBjb250cm9sbGVyTmV4dERheXMgPSB0aGlzO1xuXG5cdFx0Y29udHJvbGxlck5leHREYXlzLnRvZGF5RGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnTCcpO1xuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy53ZWVrRGF0ZSA9IG1vbWVudCgpLndlZWtkYXkoNykuZm9ybWF0KCdMJyk7XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMubmV4dFNldmVuRXZlbnRzID0gQWxsdGFza3MucXVlcnkoe30sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgYXJyYXlQb3MgPSBbXTtcblxuXHRcdFx0YW5ndWxhci5mb3JFYWNoKGNvbnRyb2xsZXJOZXh0RGF5cy5uZXh0U2V2ZW5FdmVudHMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG5cblx0XHRcdFx0aWYgKCBtb21lbnQodmFsdWUuZGF0ZU51bSkuZm9ybWF0KCdMJykgPj0gY29udHJvbGxlck5leHREYXlzLnRvZGF5RGF0ZSAmJiBtb21lbnQodmFsdWUuZGF0ZU51bSkuZm9ybWF0KCdMJykgPD0gY29udHJvbGxlck5leHREYXlzLndlZWtEYXRlICkge1xuXHRcdFx0XHRcdGFycmF5UG9zLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5uZXh0U2V2ZW5FdmVudHMgPSBhcnJheVBvcztcblxuXHRcdH0pO1xuXG5cdFx0Y29udHJvbGxlck5leHREYXlzLnJlbW92ZVRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0QWxsdGFza3MuZGVsZXRlKHt9LCB7J2lkJzogdGFzay5pZH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdCAgICBBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Y29udHJvbGxlck5leHREYXlzLmVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdGlzSWQuYWRkSWREYXRhKHRhc2suaWQpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuZWRpdCcpO1xuXHRcdH07XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLnRvZGF5JyxbXSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdUb2RheUNvbnRyb2xsZXInLCBUb2RheUNvbnRyb2xsZXIpO1xuXHQvLy5maWx0ZXIoJ2ZpbHRlclRvZGF5RXZlbnRzJywgZmlsdGVyVG9kYXlFdmVudHMpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAudG9kYXknLCB7XG5cdFx0XHRcdHVybDonL3RvZGF5Jyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1V0aWxpdGllc0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndXRpbGl0aWVzJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi50b2RheS90b2RheS5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdUb2RheUNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndG9kYXknXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIFRvZGF5Q29udHJvbGxlciggQWxsdGFza3MsICRzdGF0ZSwgaXNJZCApIHtcblxuXHRcdHZhciBUb2RheUNvbnRyb2xsZXIgPSB0aGlzO1xuXG5cdFx0VG9kYXlDb250cm9sbGVyLnRvZGF5RGF0ZSA9IG1vbWVudCgpLmZvcm1hdCgnTCcpO1xuXG5cdFx0VG9kYXlDb250cm9sbGVyLnRvZG9UYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KHt9LCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIGFycmF5UG9zID0gW107XG5cdFx0XHRcdFxuXHRcdFx0YW5ndWxhci5mb3JFYWNoKFRvZGF5Q29udHJvbGxlci50b2RvVGFza3MsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpe1xuXG5cdFx0XHRcdGlmICggVG9kYXlDb250cm9sbGVyLnRvZGF5RGF0ZSA9PSBtb21lbnQodmFsdWUuZGF0ZU51bSkuZm9ybWF0KCdMJykgKSB7XG5cdFx0XHRcdFx0YXJyYXlQb3MucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cblx0XHRcdFRvZGF5Q29udHJvbGxlci50b2RvVGFza3MgPSBhcnJheVBvcztcblxuXHRcdH0pO1xuXHRcdFRvZGF5Q29udHJvbGxlci5yZW1vdmVUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdEFsbHRhc2tzLmRlbGV0ZSh7fSwgeydpZCc6IHRhc2suaWR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQgICAgQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0XHRUb2RheUNvbnRyb2xsZXIuZWRpdFRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0aXNJZC5hZGRJZERhdGEodGFzay5pZCk7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5lZGl0Jyk7XG5cdFx0fTtcblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cdFxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvLmVkaXQnLFtcblx0XHQnYXBwLmFsbHRvZG8nXG5cdF0pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignRWRpdHRvZG9Db250cm9sbGVyJywgRWRpdHRvZG9Db250cm9sbGVyICk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAuZWRpdCcsIHtcblxuXHRcdFx0XHR1cmw6ICcvYWxsdGFzay9lZGl0Jyxcblx0XHRcdFx0dmlld3M6IHtcblxuXHRcdFx0XHRcdCdvdmVybGF5QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2h0bWwvbWFpbi9tYWluLmFsbC9lZGl0LmFsbC9lZGl0LmFsbC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdFZGl0dG9kb0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnZWRpdFRvZG8nXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYWxsL2FsbC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGx0YXNrQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RvJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIEVkaXR0b2RvQ29udHJvbGxlciAoIGlzSWQsIEFsbHRhc2tzLCAkc3RhdGUgKSB7XG5cblx0XHR2YXIgRWRpdHRvZG9Db250cm9sbGVyID0gdGhpcztcblx0XHR2YXIgZWRpdElkID0gaXNJZC5nZXRJZERhdGEoKTtcblxuXHRcdEVkaXR0b2RvQ29udHJvbGxlci5pZEVkaXQgPSBlZGl0SWRbMF07XG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLnRhc2sgPSBBbGx0YXNrcy5nZXQoe30seydpZCc6IGVkaXRJZFswXX0pO1xuXG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLmVkaXRUYXNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcblx0XHRcdEVkaXR0b2RvQ29udHJvbGxlci5uZXdUYXNrID0ge1xuXG5cdFx0XHRcdGlkOiBlZGl0SWRbMF0sXG5cdFx0XHRcdHByb2plY3Q6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLnByb2plY3QsXG5cdFx0XHRcdGxhYmVsOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5sYWJlbCxcblx0XHRcdFx0bmFtZTogRWRpdHRvZG9Db250cm9sbGVyLnRhc2submFtZSxcblx0XHRcdFx0ZGF0ZU51bTogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suZGF0ZU51bSxcblx0XHRcdFx0aGVhZGVyQ29tbWVudDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suaGVhZGVyQ29tbWVudCxcblx0XHRcdFx0Y29tbWVudDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suY29tbWVudCxcblx0XHRcdFx0ZG9uZTogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suZG9uZVxuXG5cdFx0XHR9O1xuXG5cdFx0XHRFZGl0dG9kb0NvbnRyb2xsZXIubmV3VGFzay5kYXRlTnVtID0gbmV3IERhdGUgKEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmRhdGVOdW0pO1xuXHRcdFx0QWxsdGFza3MudXBkYXRlKEVkaXR0b2RvQ29udHJvbGxlci5uZXdUYXNrKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmFsbCcpO1xuXG5cdFx0fTtcblxuXHRcdEVkaXR0b2RvQ29udHJvbGxlci5jYW5jZWxFZGl0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5hbGwnKTtcdFx0XHRcblx0XHR9O1xuXHRcdFxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvLmNyZWF0ZScsW1xuXHRcdCdhcHAuYWxsdG9kbydcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdDcmVhdGV0b2RvQ29udHJvbGxlcicsIENyZWF0ZXRvZG9Db250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5jcmVhdGUnLCB7XG5cblx0XHRcdFx0dXJsOiAnL2FsbHRhc2svY3JlYXRlJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnb3ZlcmxheUAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9odG1sL21haW4vbWFpbi5hbGwvY3JlYXRlLmFsbC9jcmVhdGUuYWxsLmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NyZWF0ZXRvZG9Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NyZWF0ZVRvZG8nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFsbC9hbGwuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsdGFza0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndG9kbydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBDcmVhdGV0b2RvQ29udHJvbGxlciAoIEFsbHRhc2tzLCBQcm9qZWN0bGFiZWwsIFVzZXIpIHtcblxuXHRcdHZhciBDcmVhdGV0b2RvQ29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5zdWJtaXR0ZWQgPSBmYWxzZTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnByaW9yaXR5ID0gUHJvamVjdGxhYmVsLnF1ZXJ5KCk7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyID0gVXNlci5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB1c2VyRGF0YSA9IFtdO1xuXG5cdFx0XHRhbmd1bGFyLmZvckVhY2goQ3JlYXRldG9kb0NvbnRyb2xsZXIudXNlciwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXG5cdFx0XHRcdHVzZXJEYXRhLnB1c2goQ3JlYXRldG9kb0NvbnRyb2xsZXIudXNlcltrZXldLm5hbWUpO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIudXNlciA9IHVzZXJEYXRhO1xuXHRcdFx0XG5cdFx0fSk7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5jcmVhdGVUYXNrID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRpZiAoQ3JlYXRldG9kb0NvbnRyb2xsZXIuZm9ybUFkZFRhc2tzLiR2YWxpZCkge1xuXG5cdFx0XHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEgPSB7fTtcblxuXHRcdFx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRhID0ge1xuXG5cdFx0XHRcdFx0cHJvamVjdDogQ3JlYXRldG9kb0NvbnRyb2xsZXIucHJvamVjdCxcblx0XHRcdFx0XHRsYWJlbDogQ3JlYXRldG9kb0NvbnRyb2xsZXIubGFiZWwsXG5cdFx0XHRcdFx0bmFtZTogQ3JlYXRldG9kb0NvbnRyb2xsZXIubmFtZSxcblx0XHRcdFx0XHRkYXRlTnVtOiBDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRlTnVtLFxuXHRcdFx0XHRcdGhlYWRlckNvbW1lbnQ6IENyZWF0ZXRvZG9Db250cm9sbGVyLmhlYWRlckNvbW1lbnQsXG5cdFx0XHRcdFx0Y29tbWVudDogQ3JlYXRldG9kb0NvbnRyb2xsZXIuY29tbWVudCxcblx0XHRcdFx0XHRkb25lOiBDcmVhdGV0b2RvQ29udHJvbGxlci5kb25lXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Y29uc29sZS5sb2coQ3JlYXRldG9kb0NvbnRyb2xsZXIuZGF0YS5kb25lKTtcblxuXHRcdFx0XHRBbGx0YXNrcy5zYXZlKENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEpO1xuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXHRcdFx0XHQkKCdwLm1zZy1lcnJvcicpLnJlbW92ZUNsYXNzKCdtc2ctZXJyb3InKTtcblxuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgncCcpLmFkZENsYXNzKCdtc2ctZXJyb3InKTtcblx0XHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIuc3VibWl0dGVkID0gdHJ1ZTtcblxuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIucmVzZXRWYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdCQoJ2Zvcm0nKS5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XG5cdFx0fTtcblxuXHR9XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9