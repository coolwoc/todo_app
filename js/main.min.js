!function(){"use strict";function t(t,e,a){t.otherwise("/"),a.state("login",{url:"/login",views:{"content@":{templateUrl:"html/login/login.index.html",controller:"LoginController",controllerAs:"login"}}}).state("login.register",{url:"/register",views:{"content@":{templateUrl:"html/register/register.index.html",controller:"RegisterController",controllerAs:"register"}}}).state("app",{url:"/content",views:{menu:{templateUrl:"html/menu/menu.index.html",controller:"MenuController",controllerAs:"menuData"},"content@":{templateUrl:"html/content/content.index.html",controller:"Contentcontroller",controllerAs:"content"}}})}angular.module("app",[]);angular.module("app",["ui.router","ngAnimate","ngResource","ngCookies","app.api","app.global","app.menu","app.login","app.register","app.main","app.utility","app.alltodo","app.next","app.today","app.content","app.archive"]).constant("sitename","applocal").constant("apibase","http://localhost:3000").constant("apiversion","/v1.0").config(t),t.$inject=["$urlRouterProvider","$httpProvider","$stateProvider"]}(),function(){"use strict";function t(t,e){return t(e+"/userlogin",{},{get:{method:"GET",isArray:!0},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function e(t,e){return t(e+"/mainmenu",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function a(t,e){return t(e+"/project",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function r(t,e){return t(e+"/labels",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function o(t,e){return t(e+"/filters",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function n(t,e){var a=function(t){return t=angular.fromJson(t),t.dateNum=new Date(t.dateNum),t};return t(e+"/task/:id",{id:"@id"},{get:{method:"GET",transformResponse:a},save:{method:"POST"},update:{method:"PUT"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}})}function l(){var t=[],e=function(e){t=[],t.push(e)},a=function(){return t};return{addIdData:e,getIdData:a}}function i(){return{isError:function(t){return 1==t?!0:!1}}}angular.module("app.api",[]),angular.module("app.api").factory("Login",t),t.$inject=["$resource","apibase"],angular.module("app.api").factory("Menulist",e),e.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlist",a),a.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlabel",r),r.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectfilter",o),o.$inject=["$resource","apibase"],angular.module("app.api").factory("Alltasks",n),n.$inject=["$resource","apibase"],angular.module("app.api").service("isId",l),angular.module("app.api").factory("statuscode",i)}(),function(){"use strict";angular.module("app.global",[]).filter("pagination",function(){return function(t,e){return e=+e,t.slice(e)}})}(),function(){"use strict";function t(t){}function e(){function t(t,e,a){e.on("click",function(){$(".wrapper").toggleClass("panelAnimates"),e.find("span").html("Open"==$(".closeBtn span").text()?"Close":"Open")})}var e={link:t,restrict:"A"};return e}angular.module("app.content",[]).controller("Contentcontroller",t).directive("toggleElm",e),t.$inject=["$scope"]}(),function(){"use strict";function t(t,e,a,r){var o=this;o.submitLogin=function(){o.userlogin={},o.userlogin={username:o.username,password:o.password};var a=[];a=r.get(o.userlogin,function(){1==a.length&&"undefined"!=o.password&&a[0].password==o.password?n():l()});var n=function(){var a=o.username;t.username=a,e.go("app")},l=function(){o.errorData="Please check username / password."}}}angular.module("app.login",[]).controller("LoginController",t),t.$inject=["$cookies","$state","statuscode","Login"]}(),function(){"use strict";function t(){}angular.module("app.main",[]).controller("MainController",t)}(),function(){"use strict";function t(t,e,a,r,o){var n=this;n.menuList=t.query(),n.projectList=e.query(),n.projectLabel=a.query(),n.projectFilter=r.query()}function e(){function t(t,e,a){e.on("click",function(){var t=$(".content .closeBtn").find("span");$(".wrapper").toggleClass("panelAnimates"),t.html("Close"==t.text()?"Open":"Close")})}var e={link:t,restrict:"A"};return e}angular.module("app.menu",[]).controller("MenuController",t).directive("elmPanel",e),t.$inject=["Menulist","Projectlist","Projectlabel","Projectfilter","$stateParams"]}(),function(){"user strict";function t(t,e){var a=this;a.submitRegister=function(){a.formRegister.$valid?(a.dataRegister={},a.dataRegister={firstName:a.firstName,lastName:a.lastName,username:a.username,mail:a.mail,password:a.password,role:"user"},e.save(a.dataRegister),$("form").find("input").val(""),t.go("app")):a.errorData="All fields are required"},a.resetVal=function(){$("form").find("input").val("")}}angular.module("app.register",[]).controller("RegisterController",t),t.$inject=["$state","Login"]}(),function(){"use strict";function t(t){var e=this;e.time=new Date,e.userIs=t.username}angular.module("app.utility",[]).controller("UtilitiesController",t),t.$inject=["$cookies"]}(),function(){"use strict";function t(t){t.state("app.all",{url:"/alltask/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{params:["id"],templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var r=this;r.numberCurrent=0,r.pageSize=3,r.allTasks=t.query(),r.numberOfPages=function(){return Math.ceil(r.allTasks.length/r.pageSize)},r.removeTask=function(e){t["delete"]({},{id:e.id},function(){r.allTasks=t.query()})},r.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.alltodo",["app.alltodo.create","app.alltodo.edit"]).config(t).controller("AlltaskController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.archive",{url:"/archive",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.archived/archived.index.html",controller:"controllerArchive",controllerAs:"archived"}}})}function e(){}angular.module("app.archive",[]).config(t).controller("controllerArchive",e),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.state("app.next",{url:"/next/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.taskSeven/seven.index.html",controller:"controllerNextDays",controllerAs:"nextSeven"}}})}function e(t,e,a){var r=this;r.todayDate=moment().format("L"),r.weekDate=moment().weekday(7).format("L"),r.nextSevenEvents=t.query({},function(){var t=[];angular.forEach(r.nextSevenEvents,function(e,a){moment(e.dateNum).format("L")>=r.todayDate&&moment(e.dateNum).format("L")<=r.weekDate&&t.push(e)}),r.nextSevenEvents=t}),r.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},r.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.next",[]).config(t).controller("controllerNextDays",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.today",{url:"/today",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.today/today.index.html",controller:"TodayController",controllerAs:"today"}}})}function e(t,e,a){var r=this;r.todayDate=moment().format("L"),r.todoTasks=t.query({},function(){var t=[];angular.forEach(r.todoTasks,function(e,a){r.todayDate==moment(e.dateNum).format("L")&&t.push(e)}),r.todoTasks=t}),r.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},r.editTask=function(t){a.addIdData(t.id),e.go("app.edit")}}angular.module("app.today",[]).config(t).controller("TodayController",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t){t.state("app.create",{url:"/alltask/create",views:{"overlay@":{templateUrl:"/html/main/main.all/create.all/create.all.html",controller:"CreatetodoController",controllerAs:"createTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var r=this;r.submitted=!1,r.priority=e.query(),r.user=a.query({},function(){var t=[];angular.forEach(r.user,function(e,a){t.push(r.user[a].name)}),r.user=t}),r.createTask=function(){r.formAddTasks.$valid?(r.data={},r.data={project:r.project,label:r.label,name:r.name,dateNum:r.dateNum,headerComment:r.headerComment,comment:r.comment,done:r.done},t.save(r.data),$("form").find("input").val(""),$("p.msg-error").removeClass("msg-error")):($("form").find("p").addClass("msg-error"),r.submitted=!0)},r.resetVal=function(){$("form").find("input").val("")}}angular.module("app.alltodo.create",["app.alltodo"]).config(t).controller("CreatetodoController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","Projectlabel","User"]}(),function(){"use strict";function t(t){t.state("app.edit",{url:"/alltask/edit",views:{"overlay@":{templateUrl:"/html/main/main.all/edit.all/edit.all.html",controller:"EdittodoController",controllerAs:"editTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,a){var r=this,o=t.getIdData();r.idEdit=o[0],r.task=e.get({},{id:o[0]}),r.editTask=function(){r.newTask={id:o[0],project:r.task.project,label:r.task.label,name:r.task.name,dateNum:r.task.dateNum,headerComment:r.task.headerComment,comment:r.task.comment,done:r.task.done},r.newTask.dateNum=new Date(r.task.dateNum),e.update(r.newTask),a.go("app.all")},r.cancelEdit=function(){a.go("app.all")}}angular.module("app.alltodo.edit",["app.alltodo"]).config(t).controller("EdittodoController",e),t.$inject=["$stateProvider"],e.$inject=["isId","Alltasks","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJnbG9iYWwuanMiLCJmaWx0ZXJzLmpzIiwiY29udGVudC9jb250ZW50Q29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luQ29udHJvbGxlci5qcyIsIm1haW4vbWFpbkNvbnRyb2xsZXIuanMiLCJtZW51L21lbnVDb250cm9sbGVyLmpzIiwicmVnaXN0ZXIvcmVnaXN0ZXJDb250cm9sbGVyLmpzIiwidXRpbGl0aWVzL3V0aWxpdGllc0NvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2FsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYXJjaGl2ZWQvYXJjaGl2ZWRDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbkNvbnRyb2xsZXIuanMiLCJtYWluL21haW4udG9kYXkvdG9kYXlDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLmFsbC9jcmVhdGUuYWxsL2NyZWF0ZWFsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2VkaXQuYWxsL2VkaXRhbGxDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJjb250ZW50QCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm1lbnUiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCIkaW5qZWN0IiwiTG9naW4iLCIkcmVzb3VyY2UiLCJhcGliYXNlIiwiZ2V0IiwibWV0aG9kIiwiaXNBcnJheSIsInNhdmUiLCJxdWVyeSIsImRlbGV0ZSIsIk1lbnVsaXN0IiwiUHJvamVjdGxpc3QiLCJQcm9qZWN0bGFiZWwiLCJQcm9qZWN0ZmlsdGVyIiwiQWxsdGFza3MiLCJkYXRlSnNvbiIsImZyb21Kc29uIiwiZGF0ZU51bSIsIkRhdGUiLCJpZCIsInRyYW5zZm9ybVJlc3BvbnNlIiwidXBkYXRlIiwicmVtb3ZlIiwiaXNJZCIsImlzSWRzIiwiYWRkSWREYXRhIiwibmV3SUQiLCJwdXNoIiwiZ2V0SWREYXRhIiwic3RhdHVzY29kZSIsImlzRXJyb3IiLCJ2YWx1ZSIsImZhY3RvcnkiLCJzZXJ2aWNlIiwiZmlsdGVyIiwiaW5wdXQiLCJzdGFydCIsInNsaWNlIiwiQ29udGVudGNvbnRyb2xsZXIiLCIkc2NvcGUiLCJ0b2dnbGVFbG0iLCJsaW5rIiwic2NvcGUiLCJlbGVtIiwiYXR0cnMiLCJvbiIsIiQiLCJ0b2dnbGVDbGFzcyIsImZpbmQiLCJodG1sIiwidGV4dCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwiTG9naW5Db250cm9sbGVyIiwiJGNvb2tpZXMiLCIkc3RhdGUiLCJsb2dpbkNvbnRyb2xsZXIiLCJ0aGlzIiwic3VibWl0TG9naW4iLCJ1c2VybG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwibG9naW5SZXN1bHQiLCJsZW5ndGgiLCJpc0xvZ2luIiwibm90TG9naW4iLCJ1c2VyVmFsdWUiLCJnbyIsImVycm9yRGF0YSIsIk1haW5Db250cm9sbGVyIiwiTWVudUNvbnRyb2xsZXIiLCIkc3RhdGVQYXJhbXMiLCJtZW51TGlzdCIsInByb2plY3RMaXN0IiwicHJvamVjdExhYmVsIiwicHJvamVjdEZpbHRlciIsImVsbVBhbmVsIiwiJHRleHRUYXJnZXQiLCJSZWdpc3RlckNvbnRyb2xsZXIiLCJyZWdpc3RlckNvbnRyb2xsZXIiLCJzdWJtaXRSZWdpc3RlciIsImZvcm1SZWdpc3RlciIsIiR2YWxpZCIsImRhdGFSZWdpc3RlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwibWFpbCIsInJvbGUiLCJ2YWwiLCJyZXNldFZhbCIsIlV0aWxpdGllc0NvbnRyb2xsZXIiLCJ1dGlsaXRpZXNDb250cm9sbGVyIiwidGltZSIsInVzZXJJcyIsInV0aWxpdGllc0BhcHAiLCJtYWluQGFwcCIsInBhcmFtcyIsIkFsbHRhc2tDb250cm9sbGVyIiwibnVtYmVyQ3VycmVudCIsInBhZ2VTaXplIiwiYWxsVGFza3MiLCJudW1iZXJPZlBhZ2VzIiwiTWF0aCIsImNlaWwiLCJyZW1vdmVUYXNrIiwidGFzayIsImVkaXRUYXNrIiwiY29udHJvbGxlckFyY2hpdmUiLCJjb250cm9sbGVyTmV4dERheXMiLCJ0b2RheURhdGUiLCJtb21lbnQiLCJmb3JtYXQiLCJ3ZWVrRGF0ZSIsIndlZWtkYXkiLCJuZXh0U2V2ZW5FdmVudHMiLCJhcnJheVBvcyIsImZvckVhY2giLCJrZXkiLCJUb2RheUNvbnRyb2xsZXIiLCJ0b2RvVGFza3MiLCJvdmVybGF5QCIsIkNyZWF0ZXRvZG9Db250cm9sbGVyIiwiVXNlciIsInN1Ym1pdHRlZCIsInByaW9yaXR5IiwidXNlciIsInVzZXJEYXRhIiwibmFtZSIsImNyZWF0ZVRhc2siLCJmb3JtQWRkVGFza3MiLCJkYXRhIiwicHJvamVjdCIsImxhYmVsIiwiaGVhZGVyQ29tbWVudCIsImNvbW1lbnQiLCJkb25lIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIkVkaXR0b2RvQ29udHJvbGxlciIsImVkaXRJZCIsImlkRWRpdCIsIm5ld1Rhc2siLCJjYW5jZWxFZGl0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVBLFlBNkJBLFNBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFVBQUEsS0FFQUQsRUFDQUUsTUFBQSxTQUNBQyxJQUFBLFNBQ0FDLE9BQ0FDLFlBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsa0JBQ0FDLGFBQUEsWUFJQU4sTUFBQSxrQkFDQUMsSUFBQSxZQUNBQyxPQUNBQyxZQUNBQyxZQUFBLG9DQUNBQyxXQUFBLHFCQUNBQyxhQUFBLGVBSUFOLE1BQUEsT0FDQUMsSUFBQSxXQUNBQyxPQUNBSyxNQUNBSCxZQUFBLDRCQUNBQyxXQUFBLGlCQUNBQyxhQUFBLFlBRUFILFlBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsb0JBQ0FDLGFBQUEsY0EvREFFLFFBQUFDLE9BQUEsU0FDQUQsU0FBQUMsT0FBQSxPQUNBLFlBQ0EsWUFDQSxhQUNBLFlBQ0EsVUFDQSxhQUNB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QXdILEVBQUEsR0FDQVIsUUFBQU8sRUFBQWpDLEtBQUEwQixRQUNBQyxNQUFBTSxFQUFBakMsS0FBQTJCLE1BQ0FMLEtBQUFXLEVBQUFqQyxLQUFBc0IsS0FDQTlHLFFBQUF5SCxFQUFBakMsS0FBQXhGLFFBQ0FvSCxjQUFBSyxFQUFBakMsS0FBQTRCLGNBQ0FDLFFBQUFJLEVBQUFqQyxLQUFBNkIsUUFDQUMsS0FBQUcsRUFBQWpDLEtBQUE4QixNQUlBRyxFQUFBRyxRQUFBNUgsUUFBQSxHQUFBQyxNQUFBd0gsRUFBQWpDLEtBQUF4RixTQUNBSCxFQUFBTyxPQUFBcUgsRUFBQUcsU0FDQXRGLEVBQUFZLEdBQUEsWUFJQXVFLEVBQUFJLFdBQUEsV0FDQXZGLEVBQUFZLEdBQUEsWUE1REF0RSxRQUFBQyxPQUFBLG9CQUNBLGdCQUVBZCxPQUFBQSxHQUNBVSxXQUFBLHFCQUFBZ0osR2RneUJDMUosRUFBT2dCLFNBQVcsa0JBb0NsQjBJLEVBQW1CMUksU0FBVyxPQUFRLFdBQVkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW10pO1xuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJyxbXG5cdFx0J3VpLnJvdXRlcicsXG5cdFx0J25nQW5pbWF0ZScsXG5cdFx0J25nUmVzb3VyY2UnLFxuXHRcdCduZ0Nvb2tpZXMnLFxuXHRcdCdhcHAuYXBpJyxcblx0XHQnYXBwLmdsb2JhbCcsXG5cdFx0J2FwcC5tZW51Jyxcblx0XHQnYXBwLmxvZ2luJyxcblx0XHQnYXBwLnJlZ2lzdGVyJyxcblx0XHQnYXBwLm1haW4nLFxuXHRcdCdhcHAudXRpbGl0eScsXG5cdFx0J2FwcC5hbGx0b2RvJyxcblx0XHQnYXBwLm5leHQnLFxuXHRcdCdhcHAudG9kYXknLFxuXHRcdCdhcHAuY29udGVudCcsXG5cdFx0J2FwcC5hcmNoaXZlJ1xuXHRdKVxuXG5cdC5jb25zdGFudCgnc2l0ZW5hbWUnLCAnYXBwbG9jYWwnKVxuXHQuY29uc3RhbnQoJ2FwaWJhc2UnLCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJylcblx0LmNvbnN0YW50KCdhcGl2ZXJzaW9uJywgJy92MS4wJylcblxuXHQuY29uZmlnKGNvbmZpZyk7XG5cdC8vLnJ1bihydW4pO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZygkdXJsUm91dGVyUHJvdmlkZXIsICRodHRwUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyKSB7XG5cblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdsb2dpbicsIHtcblx0XHRcdFx0dXJsOicvbG9naW4nLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9sb2dpbi9sb2dpbi5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbG9naW4nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LnN0YXRlKCdsb2dpbi5yZWdpc3RlcicsIHtcblx0XHRcdFx0dXJsOiAnL3JlZ2lzdGVyJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvcmVnaXN0ZXIvcmVnaXN0ZXIuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnUmVnaXN0ZXJDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zdGF0ZSgnYXBwJywge1xuXHRcdFx0XHR1cmw6ICcvY29udGVudCcsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J21lbnUnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWVudS9tZW51LmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ01lbnVDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ21lbnVEYXRhJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL2NvbnRlbnQvY29udGVudC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdDb250ZW50Y29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdjb250ZW50J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblx0Lypcblx0ZnVuY3Rpb24gcnVuKCAkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRjb29raWVTdG9yZSwgJGh0dHAgKSB7XG5cblx0XHQvLyBrZWVwIHVzZXIgbG9nZ2VkIGluIGFmdGVyIHBhZ2UgcmVmcmVzaC5cblx0XHRcblx0XHQkcm9vdFNjb3BlLmdsb2JhbHMgPSAkY29va2llU3RvcmUuZ2V0KCdnbG9iYWxzJykgfHwge307XG5cblx0XHRpZiAoICRyb290U2NvcGUuZ2xvYmFscy5jdXJyZW50VXNlciApIHtcblx0XHRcdCRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmFzaWMnICsgJHJvb3RTY29wZS5nbG9iYWxzLmN1cnJlbnRVc2VyLmF1dGhkYXRhO1xuXHRcdH1cblxuXHRcdCRyb290U2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgbmV4dCwgY3VycmVudCkge1xuXG5cdFx0XHQvLyByZWRpcmVjdCB0byBsb2dpbiBwYWdlIGlmIG5vdCBsb2dnZWQgaW4gYW5kIHRyeWluZyB0byBhY2VzcyBhIHJlc3RyaWN0ZWQgcGFnZS5cblx0XHRcdHZhciByZXN0cmljdGVkUGFnZSA9ICQuaW5BcnJheSgkbG9jYXRpb24ucGF0aCgpLCBbJy9sb2dpbiddKSA9PT0gLTE7XG5cdFx0XHR2YXIgbG9nZ2VkSW4gPSAkcm9vdFNjb3BlLmdsb2JhbHMuY3VycmVudFVzZXI7XG5cdFx0XHRpZiAoIHJlc3RyaWN0ZWRQYWdlICYmICFsb2dnZWRJbiApIHtcblx0XHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdH0qL1xuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJywgW10pO1xuXG5cdC8vTG9naW5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdMb2dpbicsIExvZ2luKTtcblx0ZnVuY3Rpb24gTG9naW4gKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvdXNlcmxvZ2luJywge30sXG5cdFx0e1xuXHRcdFx0J2dldCc6IFx0XHR7bWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZX0sXG5cdFx0XHQnc2F2ZSc6IFx0e21ldGhvZDogJ1BPU1QnfSxcblx0XHRcdCdxdWVyeSc6IFx0e21ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWV9LFxuXHRcdFx0J2RlbGV0ZSc6ICBcdHttZXRob2Q6ICdERUxFVEUnfVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gUkVTVGZ1bCBkYXRhXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnTWVudWxpc3QnLCBNZW51bGlzdCk7XG5cdGZ1bmN0aW9uIE1lbnVsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbWFpbm1lbnUnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGxpc3QnLCBQcm9qZWN0bGlzdCk7XG5cdGZ1bmN0aW9uIFByb2plY3RsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvcHJvamVjdCcsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdQcm9qZWN0bGFiZWwnLCBQcm9qZWN0bGFiZWwpO1xuXHRmdW5jdGlvbiBQcm9qZWN0bGFiZWwoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy9sYWJlbHMnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGZpbHRlcicsIFByb2plY3RmaWx0ZXIpO1xuXHRmdW5jdGlvbiBQcm9qZWN0ZmlsdGVyKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvZmlsdGVycycsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdBbGx0YXNrcycsIEFsbHRhc2tzKTtcblx0ZnVuY3Rpb24gQWxsdGFza3MoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cblx0XHR2YXIgZGF0ZUpzb24gPSBmdW5jdGlvbiAoIEFsbHRhc2tzICkge1xuXHRcdFx0QWxsdGFza3MgPSBhbmd1bGFyLmZyb21Kc29uKEFsbHRhc2tzKTtcblx0XHRcdEFsbHRhc2tzLmRhdGVOdW0gPSBuZXcgRGF0ZSAoQWxsdGFza3MuZGF0ZU51bSk7XG5cdFx0XHRyZXR1cm4gQWxsdGFza3M7XHRcblx0XHR9O1xuXG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy90YXNrLzppZCcsIHtpZDonQGlkJ30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCcsIHRyYW5zZm9ybVJlc3BvbnNlOiBkYXRlSnNvbiB9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQndXBkYXRlJzoge21ldGhvZDonUFVUJyB9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J3JlbW92ZSc6IHttZXRob2Q6J0RFTEVURSd9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gU2VydmljZSAmIEZhY3Rvcnlcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5zZXJ2aWNlKCdpc0lkJywgaXNJZCk7XG5cdGZ1bmN0aW9uIGlzSWQgKCkge1xuXG5cdFx0dmFyIGlzSWRzID0gW107XG5cblx0XHR2YXIgYWRkSWREYXRhID0gZnVuY3Rpb24gKG5ld0lEKSB7XG5cdFx0XHRpc0lkcyA9IFtdO1xuXHRcdFx0aXNJZHMucHVzaChuZXdJRCk7XG5cdFx0fTtcblxuXHRcdHZhciBnZXRJZERhdGEgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gaXNJZHM7XG5cdFx0fTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRhZGRJZERhdGE6IGFkZElkRGF0YSxcblx0XHRcdGdldElkRGF0YTogZ2V0SWREYXRhXG5cblx0XHR9O1xuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnc3RhdHVzY29kZScsIHN0YXR1c2NvZGUpO1xuXHRmdW5jdGlvbiBzdGF0dXNjb2RlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0Vycm9yOiBmdW5jdGlvbih2YWx1ZSkgeyBcblx0XHRcdFx0cmV0dXJuICh2YWx1ZSA9PSAxKSA/IHRydWUgOiBmYWxzZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cbn0pKCk7XG5cbi8qXG5cdFNPTUUgQVVUSEVOVElDQVRJT04gJiBMT0dJTiBJREVBUy5cblxuXHRTaW1wbGVMb2dpbjogXG5cdFx0aHR0cHM6Ly9naXRodWIuY29tL2Nvcm5mbG91cmJsdWUvYW5ndWxhci1yZWdpc3RyYXRpb24tbG9naW4tZXhhbXBsZVxuXG5cdEF1dGhvcml6YXRpb246IFxuXHRcdGh0dHA6Ly9qYXNvbndhdG1vcmUuY29tL3Bvc3QvMjAxNS8wMy8xMC9Bbmd1bGFySlMtVXNlci1SZWdpc3RyYXRpb24tYW5kLUxvZ2luLUV4YW1wbGUuYXNweCNhcHBcblxuXHRSb2xlczogXG5cdFx0aHR0cDovL2FydGh1ci5nb25pZ2JlcmcuY29tLzIwMTMvMDYvMjkvYW5ndWxhcmpzLXJvbGUtYmFzZWQtYXV0aC9cblx0XHRcblx0UXVpY2sgUm9sZS1CYXNlZCBBdXRoZW50aWNhdGlvbjpcblx0XHRodHRwOi8vam9uc2Ftd2VsbC5jb20vdXJsLXJvdXRlLWF1dGhvcml6YXRpb24tYW5kLXNlY3VyaXR5LWluLWFuZ3VsYXIvXG5cbiovXG4iLCIoZnVuY3Rpb24oKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZ2xvYmFsJyxbXSlcblxuXHRcdC5maWx0ZXIoJ3BhZ2luYXRpb24nLCBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdHJldHVybiBmdW5jdGlvbiAoIGlucHV0LCBzdGFydCApIHtcblxuXHRcdFx0XHRzdGFydCA9ICtzdGFydDtcblx0XHRcdFx0cmV0dXJuIGlucHV0LnNsaWNlKHN0YXJ0KTtcblxuXHRcdFx0fTtcblx0XHR9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRlbnQnLCBbXSlcblx0LmNvbnRyb2xsZXIoJ0NvbnRlbnRjb250cm9sbGVyJywgQ29udGVudGNvbnRyb2xsZXIpXG5cdC5kaXJlY3RpdmUoJ3RvZ2dsZUVsbScsIHRvZ2dsZUVsbSk7XG5cblx0ZnVuY3Rpb24gQ29udGVudGNvbnRyb2xsZXIgKCAkc2NvcGUgKSB7fVxuXG5cdGZ1bmN0aW9uIHRvZ2dsZUVsbSAoKSB7XG5cblx0XHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdFx0bGluazogbGluayxcblx0XHRcdHJlc3RyaWN0OiAnQSdcblx0XHR9XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXG5cdFx0ZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbSwgYXR0cnMpIHtcblxuXHRcdFx0ZWxlbS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXG5cdCAgICAgICAgICAgICQoJy53cmFwcGVyJykudG9nZ2xlQ2xhc3MoJ3BhbmVsQW5pbWF0ZXMnKTtcblx0ICAgICAgICAgICAgZWxlbS5maW5kKCdzcGFuJykuaHRtbCgkKCcuY2xvc2VCdG4gc3BhbicpLnRleHQoKSA9PSAnT3BlbicgPyAnQ2xvc2UnIDogJ09wZW4nKTtcblxuXHQgICAgICAgIH0pO1xuXG5cdFx0fVxuXG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmxvZ2luJyxbXSlcblx0LmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gTG9naW5Db250cm9sbGVyICggJGNvb2tpZXMsICRzdGF0ZSwgc3RhdHVzY29kZSwgTG9naW4gKSB7IFxuXG5cdFx0dmFyIGxvZ2luQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0XG5cdFx0bG9naW5Db250cm9sbGVyLnN1Ym1pdExvZ2luID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdGxvZ2luQ29udHJvbGxlci51c2VybG9naW4gPSB7fTtcblx0XHRcdGxvZ2luQ29udHJvbGxlci51c2VybG9naW4gPSB7XG5cdFx0XHRcdHVzZXJuYW1lOiBsb2dpbkNvbnRyb2xsZXIudXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBsb2dpbkNvbnRyb2xsZXIucGFzc3dvcmRcblx0XHRcdH07XG5cblx0XHRcdHZhciBsb2dpblJlc3VsdCA9IFtdO1xuXHRcdFx0bG9naW5SZXN1bHQgPSBMb2dpbi5nZXQobG9naW5Db250cm9sbGVyLnVzZXJsb2dpbiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdChsb2dpblJlc3VsdC5sZW5ndGggPT0gMSAmJiAoIGxvZ2luQ29udHJvbGxlci5wYXNzd29yZCAhPSAndW5kZWZpbmVkJyAmJiBsb2dpblJlc3VsdFswXS5wYXNzd29yZCA9PSBsb2dpbkNvbnRyb2xsZXIucGFzc3dvcmQpICkgPyBpc0xvZ2luKCkgOiBub3RMb2dpbigpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBpc0xvZ2luID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gd2UgYWRkIHVzZXJuYW1lIHRvICRjb29raWUgc2VydmljZTtcblx0XHRcdFx0dmFyIHVzZXJWYWx1ZSA9IGxvZ2luQ29udHJvbGxlci51c2VybmFtZTtcblx0XHRcdFx0JGNvb2tpZXMudXNlcm5hbWUgPSB1c2VyVmFsdWU7XG5cblx0XHRcdFx0Ly8gcmUtZGlyZWN0IHRvIG1haW4gYXBwLlxuXHRcdFx0XHQkc3RhdGUuZ28oJ2FwcCcpO1xuXHRcdFx0XHRcblx0XHRcdH07XG5cdFx0XHR2YXIgbm90TG9naW4gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9naW5Db250cm9sbGVyLmVycm9yRGF0YSA9ICdQbGVhc2UgY2hlY2sgdXNlcm5hbWUgLyBwYXNzd29yZC4nO1xuXHRcdFx0fTtcblxuXHRcdH07XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLm1haW4nLFtdKVxuXHQvLy5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLCBNYWluQ29udHJvbGxlcik7XG5cbi8qXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAuYWxsJywge1xuXHRcdFx0XHR1cmw6Jy9hbGxUYXNrcycsXG5cdFx0XHRcdGFic3RyYWN0OiBmYWxzZSxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1V0aWxpdGllc0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnVXRpbGl0aWVzJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdNYWluQ29udHJvbGxlcidcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cbiovXG5cdGZ1bmN0aW9uIE1haW5Db250cm9sbGVyKCkge31cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLm1lbnUnLFtdKVxuXHQuY29udHJvbGxlcignTWVudUNvbnRyb2xsZXInLCBNZW51Q29udHJvbGxlcilcblx0LmRpcmVjdGl2ZSgnZWxtUGFuZWwnLCBlbG1QYW5lbCk7XG5cblx0ZnVuY3Rpb24gTWVudUNvbnRyb2xsZXIoIE1lbnVsaXN0LCBQcm9qZWN0bGlzdCwgUHJvamVjdGxhYmVsLCBQcm9qZWN0ZmlsdGVyLCAkc3RhdGVQYXJhbXMgKSB7XG5cblx0XHR2YXIgTWVudUNvbnRyb2xsZXIgPSB0aGlzO1xuXG5cdFx0TWVudUNvbnRyb2xsZXIubWVudUxpc3QgPSBNZW51bGlzdC5xdWVyeSgpO1xuXHRcdE1lbnVDb250cm9sbGVyLnByb2plY3RMaXN0ID0gUHJvamVjdGxpc3QucXVlcnkoKTtcblx0XHRNZW51Q29udHJvbGxlci5wcm9qZWN0TGFiZWwgPSBQcm9qZWN0bGFiZWwucXVlcnkoKTtcblx0XHRNZW51Q29udHJvbGxlci5wcm9qZWN0RmlsdGVyID0gUHJvamVjdGZpbHRlci5xdWVyeSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBlbG1QYW5lbCgpIHtcblxuXHRcdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0XHRsaW5rOiBsaW5rLFxuXHRcdFx0cmVzdHJpY3Q6ICdBJ1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZGlyZWN0aXZlO1xuXG5cdFx0ZnVuY3Rpb24gbGluayAgKHNjb3BlLCBlbGVtLCBhdHRycykge1xuXG5cdFx0XHRlbGVtLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciAkdGV4dFRhcmdldCA9ICQoJy5jb250ZW50IC5jbG9zZUJ0bicpLmZpbmQoJ3NwYW4nKTtcblx0XHRcdFx0JCgnLndyYXBwZXInKS50b2dnbGVDbGFzcygncGFuZWxBbmltYXRlcycpO1xuXHRcdFx0XHQkdGV4dFRhcmdldC5odG1sKCAkdGV4dFRhcmdldC50ZXh0KCkgPT0gJ0Nsb3NlJyA/ICdPcGVuJyA6ICdDbG9zZScpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlciBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAucmVnaXN0ZXInLCBbXSlcblx0LmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKCAkc3RhdGUsIExvZ2luICkge1xuXG5cdFx0dmFyIHJlZ2lzdGVyQ29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRyZWdpc3RlckNvbnRyb2xsZXIuc3VibWl0UmVnaXN0ZXIgPSBmdW5jdGlvbigpIHtcblxuXHRcdFx0aWYgKHJlZ2lzdGVyQ29udHJvbGxlci5mb3JtUmVnaXN0ZXIuJHZhbGlkKSB7XG5cblx0XHRcdFx0cmVnaXN0ZXJDb250cm9sbGVyLmRhdGFSZWdpc3RlciA9IHt9O1xuXG5cdFx0XHRcdHJlZ2lzdGVyQ29udHJvbGxlci5kYXRhUmVnaXN0ZXIgPSB7XG5cblx0XHRcdFx0XHRmaXJzdE5hbWU6IHJlZ2lzdGVyQ29udHJvbGxlci5maXJzdE5hbWUsXG5cdFx0XHRcdFx0bGFzdE5hbWU6IHJlZ2lzdGVyQ29udHJvbGxlci5sYXN0TmFtZSxcblx0XHRcdFx0XHR1c2VybmFtZTogcmVnaXN0ZXJDb250cm9sbGVyLnVzZXJuYW1lLFxuXHRcdFx0XHRcdG1haWw6IHJlZ2lzdGVyQ29udHJvbGxlci5tYWlsLFxuXHRcdFx0XHRcdHBhc3N3b3JkOiByZWdpc3RlckNvbnRyb2xsZXIucGFzc3dvcmQsXG5cdFx0XHRcdFx0cm9sZTogJ3VzZXInXG5cblx0XHRcdFx0fTtcblxuXHRcdFx0XHRMb2dpbi5zYXZlKHJlZ2lzdGVyQ29udHJvbGxlci5kYXRhUmVnaXN0ZXIpO1xuXHRcdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXG5cdFx0XHRcdCRzdGF0ZS5nbygnYXBwJyk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0cmVnaXN0ZXJDb250cm9sbGVyLmVycm9yRGF0YSA9ICdBbGwgZmllbGRzIGFyZSByZXF1aXJlZCc7XG5cblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0cmVnaXN0ZXJDb250cm9sbGVyLnJlc2V0VmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXHRcdH1cblxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAudXRpbGl0eScsW10pXG5cdC5jb250cm9sbGVyKCdVdGlsaXRpZXNDb250cm9sbGVyJywgVXRpbGl0aWVzQ29udHJvbGxlcik7XG5cblx0ZnVuY3Rpb24gVXRpbGl0aWVzQ29udHJvbGxlciggJGNvb2tpZXMgKSB7XG5cdFx0XG5cdFx0dmFyIHV0aWxpdGllc0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdHV0aWxpdGllc0NvbnRyb2xsZXIudGltZSA9IG5ldyBEYXRlKCk7XG5cblx0XHR1dGlsaXRpZXNDb250cm9sbGVyLnVzZXJJcyA9ICRjb29raWVzLnVzZXJuYW1lO1xuXHRcdFxuXHR9IFxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYWxsdG9kbycsIFtcblx0XHQnYXBwLmFsbHRvZG8uY3JlYXRlJyxcblx0XHQnYXBwLmFsbHRvZG8uZWRpdCdcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdBbGx0YXNrQ29udHJvbGxlcicsIEFsbHRhc2tDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5hbGwnLCB7XG5cdFx0XHRcdHVybDonL2FsbHRhc2svOmlkJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1V0aWxpdGllc0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndXRpbGl0aWVzJ1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21haW5AYXBwJzoge1xuXHRcdFx0XHRcdFx0cGFyYW1zOlsnaWQnXSxcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYWxsL2FsbC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGx0YXNrQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RvJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBBbGx0YXNrQ29udHJvbGxlciAoIEFsbHRhc2tzLCAkc3RhdGUsIGlzSWQgKSB7XG5cblx0XHR2YXIgQWxsdGFza0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdFx0QWxsdGFza0NvbnRyb2xsZXIubnVtYmVyQ3VycmVudCA9IDA7XG5cdFx0XG5cdFx0QWxsdGFza0NvbnRyb2xsZXIucGFnZVNpemUgPSAzO1xuXHRcdEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcblx0XHRBbGx0YXNrQ29udHJvbGxlci5udW1iZXJPZlBhZ2VzID0gIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBNYXRoLmNlaWwoQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MubGVuZ3RoIC8gQWxsdGFza0NvbnRyb2xsZXIucGFnZVNpemUpO1xuXHRcdH07XG5cblx0XHRBbGx0YXNrQ29udHJvbGxlci5yZW1vdmVUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdEFsbHRhc2tzLmRlbGV0ZSh7fSwgeydpZCc6IHRhc2suaWR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQgICAgQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0XHRcblx0XHRBbGx0YXNrQ29udHJvbGxlci5lZGl0VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRpc0lkLmFkZElkRGF0YSh0YXNrLmlkKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmVkaXQnKTtcblx0XHR9O1xuXHRcdFxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblx0XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFyY2hpdmUnLFtdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJBcmNoaXZlJywgY29udHJvbGxlckFyY2hpdmUpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG5cdFx0XG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmFyY2hpdmUnLCB7XG5cdFx0XHRcdHVybDogJy9hcmNoaXZlJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQndXRpbGl0aWVzQGFwcCc6IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndXRpbGl0aWVzJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5hcmNoaXZlZC9hcmNoaXZlZC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRjb250cm9sbGVyOiAnY29udHJvbGxlckFyY2hpdmUnLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2FyY2hpdmVkJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjb250cm9sbGVyQXJjaGl2ZSgpIHt9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5uZXh0JyxbXSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdjb250cm9sbGVyTmV4dERheXMnLCBjb250cm9sbGVyTmV4dERheXMpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAubmV4dCcsIHtcblx0XHRcdFx0dXJsOicvbmV4dC86aWQnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbi5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdjb250cm9sbGVyTmV4dERheXMnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnbmV4dFNldmVuJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjb250cm9sbGVyTmV4dERheXMgKCBBbGx0YXNrcywgJHN0YXRlLCBpc0lkICkge1xuXG5cdFx0dmFyIGNvbnRyb2xsZXJOZXh0RGF5cyA9IHRoaXM7XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMudG9kYXlEYXRlID0gbW9tZW50KCkuZm9ybWF0KCdMJyk7XG5cdFx0Y29udHJvbGxlck5leHREYXlzLndlZWtEYXRlID0gbW9tZW50KCkud2Vla2RheSg3KS5mb3JtYXQoJ0wnKTtcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5uZXh0U2V2ZW5FdmVudHMgPSBBbGx0YXNrcy5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBhcnJheVBvcyA9IFtdO1xuXG5cdFx0XHRhbmd1bGFyLmZvckVhY2goY29udHJvbGxlck5leHREYXlzLm5leHRTZXZlbkV2ZW50cywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcblxuXHRcdFx0XHRpZiAoIG1vbWVudCh2YWx1ZS5kYXRlTnVtKS5mb3JtYXQoJ0wnKSA+PSBjb250cm9sbGVyTmV4dERheXMudG9kYXlEYXRlICYmIG1vbWVudCh2YWx1ZS5kYXRlTnVtKS5mb3JtYXQoJ0wnKSA8PSBjb250cm9sbGVyTmV4dERheXMud2Vla0RhdGUgKSB7XG5cdFx0XHRcdFx0YXJyYXlQb3MucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdFx0Y29udHJvbGxlck5leHREYXlzLm5leHRTZXZlbkV2ZW50cyA9IGFycmF5UG9zO1xuXG5cdFx0fSk7XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMucmVtb3ZlVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRBbGx0YXNrcy5kZWxldGUoe30sIHsnaWQnOiB0YXNrLmlkfSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0ICAgIEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRjb250cm9sbGVyTmV4dERheXMuZWRpdFRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0aXNJZC5hZGRJZERhdGEodGFzay5pZCk7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5lZGl0Jyk7XG5cdFx0fTtcblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAudG9kYXknLFtdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ1RvZGF5Q29udHJvbGxlcicsIFRvZGF5Q29udHJvbGxlcik7XG5cdC8vLmZpbHRlcignZmlsdGVyVG9kYXlFdmVudHMnLCBmaWx0ZXJUb2RheUV2ZW50cyk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC50b2RheScsIHtcblx0XHRcdFx0dXJsOicvdG9kYXknLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLnRvZGF5L3RvZGF5LmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1RvZGF5Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RheSdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gVG9kYXlDb250cm9sbGVyKCBBbGx0YXNrcywgJHN0YXRlLCBpc0lkICkge1xuXG5cdFx0dmFyIFRvZGF5Q29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRUb2RheUNvbnRyb2xsZXIudG9kYXlEYXRlID0gbW9tZW50KCkuZm9ybWF0KCdMJyk7XG5cblx0XHRUb2RheUNvbnRyb2xsZXIudG9kb1Rhc2tzID0gQWxsdGFza3MucXVlcnkoe30sIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgYXJyYXlQb3MgPSBbXTtcblx0XHRcdFx0XG5cdFx0XHRhbmd1bGFyLmZvckVhY2goVG9kYXlDb250cm9sbGVyLnRvZG9UYXNrcywgZnVuY3Rpb24odmFsdWUsIGtleSl7XG5cblx0XHRcdFx0aWYgKCBUb2RheUNvbnRyb2xsZXIudG9kYXlEYXRlID09IG1vbWVudCh2YWx1ZS5kYXRlTnVtKS5mb3JtYXQoJ0wnKSApIHtcblx0XHRcdFx0XHRhcnJheVBvcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9KTtcblxuXHRcdFx0VG9kYXlDb250cm9sbGVyLnRvZG9UYXNrcyA9IGFycmF5UG9zO1xuXG5cdFx0fSk7XG5cdFx0VG9kYXlDb250cm9sbGVyLnJlbW92ZVRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0QWxsdGFza3MuZGVsZXRlKHt9LCB7J2lkJzogdGFzay5pZH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdCAgICBBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdFRvZGF5Q29udHJvbGxlci5lZGl0VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRpc0lkLmFkZElkRGF0YSh0YXNrLmlkKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmVkaXQnKTtcblx0XHR9O1xuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvLmNyZWF0ZScsW1xuXHRcdCdhcHAuYWxsdG9kbydcblx0XSlcblx0LmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdDcmVhdGV0b2RvQ29udHJvbGxlcicsIENyZWF0ZXRvZG9Db250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5jcmVhdGUnLCB7XG5cblx0XHRcdFx0dXJsOiAnL2FsbHRhc2svY3JlYXRlJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnb3ZlcmxheUAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9odG1sL21haW4vbWFpbi5hbGwvY3JlYXRlLmFsbC9jcmVhdGUuYWxsLmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0NyZWF0ZXRvZG9Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2NyZWF0ZVRvZG8nXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFsbC9hbGwuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsdGFza0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndG9kbydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBDcmVhdGV0b2RvQ29udHJvbGxlciAoIEFsbHRhc2tzLCBQcm9qZWN0bGFiZWwsIFVzZXIpIHtcblxuXHRcdHZhciBDcmVhdGV0b2RvQ29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5zdWJtaXR0ZWQgPSBmYWxzZTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnByaW9yaXR5ID0gUHJvamVjdGxhYmVsLnF1ZXJ5KCk7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyID0gVXNlci5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB1c2VyRGF0YSA9IFtdO1xuXG5cdFx0XHRhbmd1bGFyLmZvckVhY2goQ3JlYXRldG9kb0NvbnRyb2xsZXIudXNlciwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuXG5cdFx0XHRcdHVzZXJEYXRhLnB1c2goQ3JlYXRldG9kb0NvbnRyb2xsZXIudXNlcltrZXldLm5hbWUpO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIudXNlciA9IHVzZXJEYXRhO1xuXHRcdFx0XG5cdFx0fSk7XG5cblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5jcmVhdGVUYXNrID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRpZiAoQ3JlYXRldG9kb0NvbnRyb2xsZXIuZm9ybUFkZFRhc2tzLiR2YWxpZCkge1xuXG5cdFx0XHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEgPSB7fTtcblxuXHRcdFx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRhID0ge1xuXG5cdFx0XHRcdFx0cHJvamVjdDogQ3JlYXRldG9kb0NvbnRyb2xsZXIucHJvamVjdCxcblx0XHRcdFx0XHRsYWJlbDogQ3JlYXRldG9kb0NvbnRyb2xsZXIubGFiZWwsXG5cdFx0XHRcdFx0bmFtZTogQ3JlYXRldG9kb0NvbnRyb2xsZXIubmFtZSxcblx0XHRcdFx0XHRkYXRlTnVtOiBDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRlTnVtLFxuXHRcdFx0XHRcdGhlYWRlckNvbW1lbnQ6IENyZWF0ZXRvZG9Db250cm9sbGVyLmhlYWRlckNvbW1lbnQsXG5cdFx0XHRcdFx0Y29tbWVudDogQ3JlYXRldG9kb0NvbnRyb2xsZXIuY29tbWVudCxcblx0XHRcdFx0XHRkb25lOiBDcmVhdGV0b2RvQ29udHJvbGxlci5kb25lXG5cdFx0XHRcdFx0XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0QWxsdGFza3Muc2F2ZShDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRhKTtcblx0XHRcdFx0JCgnZm9ybScpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcblx0XHRcdFx0JCgncC5tc2ctZXJyb3InKS5yZW1vdmVDbGFzcygnbXNnLWVycm9yJyk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0JCgnZm9ybScpLmZpbmQoJ3AnKS5hZGRDbGFzcygnbXNnLWVycm9yJyk7XG5cdFx0XHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnN1Ym1pdHRlZCA9IHRydWU7XG5cblx0XHRcdH1cblx0XHR9O1xuXHRcdFxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnJlc2V0VmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCdmb3JtJykuZmluZCgnaW5wdXQnKS52YWwoJycpO1xuXHRcdH07XG5cblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cdFxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvLmVkaXQnLFtcblx0XHQnYXBwLmFsbHRvZG8nXG5cdF0pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignRWRpdHRvZG9Db250cm9sbGVyJywgRWRpdHRvZG9Db250cm9sbGVyICk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIgKSB7XG5cblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAuZWRpdCcsIHtcblxuXHRcdFx0XHR1cmw6ICcvYWxsdGFzay9lZGl0Jyxcblx0XHRcdFx0dmlld3M6IHtcblxuXHRcdFx0XHRcdCdvdmVybGF5QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2h0bWwvbWFpbi9tYWluLmFsbC9lZGl0LmFsbC9lZGl0LmFsbC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdFZGl0dG9kb0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnZWRpdFRvZG8nXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYWxsL2FsbC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGx0YXNrQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RvJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIEVkaXR0b2RvQ29udHJvbGxlciAoIGlzSWQsIEFsbHRhc2tzLCAkc3RhdGUgKSB7XG5cblx0XHR2YXIgRWRpdHRvZG9Db250cm9sbGVyID0gdGhpcztcblx0XHR2YXIgZWRpdElkID0gaXNJZC5nZXRJZERhdGEoKTtcblxuXHRcdEVkaXR0b2RvQ29udHJvbGxlci5pZEVkaXQgPSBlZGl0SWRbMF07XG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLnRhc2sgPSBBbGx0YXNrcy5nZXQoe30seydpZCc6IGVkaXRJZFswXX0pO1xuXG5cdFx0RWRpdHRvZG9Db250cm9sbGVyLmVkaXRUYXNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcblx0XHRcdEVkaXR0b2RvQ29udHJvbGxlci5uZXdUYXNrID0ge1xuXG5cdFx0XHRcdGlkOiBlZGl0SWRbMF0sXG5cdFx0XHRcdHByb2plY3Q6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLnByb2plY3QsXG5cdFx0XHRcdGxhYmVsOiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5sYWJlbCxcblx0XHRcdFx0bmFtZTogRWRpdHRvZG9Db250cm9sbGVyLnRhc2submFtZSxcblx0XHRcdFx0ZGF0ZU51bTogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suZGF0ZU51bSxcblx0XHRcdFx0aGVhZGVyQ29tbWVudDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suaGVhZGVyQ29tbWVudCxcblx0XHRcdFx0Y29tbWVudDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suY29tbWVudCxcblx0XHRcdFx0ZG9uZTogRWRpdHRvZG9Db250cm9sbGVyLnRhc2suZG9uZVxuXG5cdFx0XHR9O1xuXG5cdFx0XHRFZGl0dG9kb0NvbnRyb2xsZXIubmV3VGFzay5kYXRlTnVtID0gbmV3IERhdGUgKEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmRhdGVOdW0pO1xuXHRcdFx0QWxsdGFza3MudXBkYXRlKEVkaXR0b2RvQ29udHJvbGxlci5uZXdUYXNrKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmFsbCcpO1xuXG5cdFx0fTtcblxuXHRcdEVkaXR0b2RvQ29udHJvbGxlci5jYW5jZWxFZGl0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5hbGwnKTtcdFx0XHRcblx0XHR9O1xuXHRcdFxuXHR9XG5cbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9