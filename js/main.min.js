!function(){"use strict";function t(t,e,o){t.otherwise("/"),o.state("login",{url:"/login",views:{"content@":{templateUrl:"html/login/login.index.html",controller:"LoginController",controllerAs:"login"}}}).state("login.register",{url:"/register",views:{"content@":{templateUrl:"html/register/register.index.html",controller:"RegisterController",controllerAs:"register"}}}).state("app",{url:"/content",views:{menu:{templateUrl:"html/menu/menu.index.html",controller:"MenuController",controllerAs:"menuData"},"content@":{templateUrl:"html/content/content.index.html",controller:"Contentcontroller",controllerAs:"content"}}})}function e(t,e,o,n){t.globals=o.get("globals")||{},t.globals.currentUser&&(n.defaults.headers.common.Authorization="Basic"+t.globals.currentUser.authdata),t.$on("$locationChangeStart",function(o,n,l){var a=-1===$.inArray(e.path(),["/login"]),r=t.globals.currentUser;a&&!r&&e.path("/login")})}angular.module("app",[]);angular.module("app",["ui.router","ngAnimate","ngResource","ngCookies","app.api","app.global","app.menu","app.login","app.register","app.main","app.utility","app.alltodo","app.next","app.today","app.content","app.archive"]).constant("sitename","applocal").constant("apibase","http://localhost:3000").constant("apiversion","/v1.0").config(t).run(e),t.$inject=["$urlRouterProvider","$httpProvider","$stateProvider"],e.$inject=["$rootScope","$location","$cookieStore","$http"]}(),function(){"use strict";function t(){return{isError:function(t){return 1==t?!0:!1}}}function e(t,e){return t(e+"/mainmenu",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function o(t,e){return t(e+"/project",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function n(t,e){return t(e+"/labels",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function l(t,e){return t(e+"/filters",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},"delete":{method:"DELETE"}})}function a(t,e){var o=function(t){return t=angular.fromJson(t),t.dateNum=new Date(t.dateNum),t};return t(e+"/task/:id",{id:"@id"},{get:{method:"GET",transformResponse:o},save:{method:"POST"},update:{method:"PUT"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}})}function r(){var t=[],e=function(e){t=[],t.push(e)},o=function(){return t};return{addIdData:e,getIdData:o}}angular.module("app.api",[]),angular.module("app.api").factory("statuscode",t),angular.module("app.api").factory("Menulist",e),e.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlist",o),o.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectlabel",n),n.$inject=["$resource","apibase"],angular.module("app.api").factory("Projectfilter",l),l.$inject=["$resource","apibase"],angular.module("app.api").factory("Alltasks",a),a.$inject=["$resource","apibase"],angular.module("app.api").service("isId",r)}(),function(){"use strict";angular.module("app.global",[]).filter("pagination",function(){return function(t,e){return e=+e,t.slice(e)}})}(),function(){"use strict";function t(t){}function e(){function t(t,e,o){e.on("click",function(){$(".wrapper").toggleClass("panelAnimates"),e.find("span").html("Open"==$(".closeBtn span").text()?"Close":"Open")})}var e={link:t,restrict:"A"};return e}angular.module("app.content",[]).controller("Contentcontroller",t).directive("toggleElm",e),t.$inject=["$scope"]}(),function(){"use strict";function t(){}angular.module("app.login",[]).controller("LoginController",t)}(),function(){"use strict";function t(){}angular.module("app.main",[]).controller("MainController",t)}(),function(){"use strict";function t(t,e,o,n,l){var a=this;a.menuList=t.query(),a.projectList=e.query(),a.projectLabel=o.query(),a.projectFilter=n.query()}function e(){function t(t,e,o){e.on("click",function(){var t=$(".content .closeBtn").find("span");$(".wrapper").toggleClass("panelAnimates"),t.html("Close"==t.text()?"Open":"Close")})}var e={link:t,restrict:"A"};return e}angular.module("app.menu",[]).controller("MenuController",t).directive("elmPanel",e),t.$inject=["Menulist","Projectlist","Projectlabel","Projectfilter","$stateParams"]}(),function(){"user strict";function t(){}angular.module("app.register",[]).controller("RegisterController",t)}(),function(){"use strict";function t(){var t=this;t.time=new Date}angular.module("app.utility",[]).controller("UtilitiesController",t)}(),function(){"use strict";function t(t){t.state("app.all",{url:"/alltask/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{params:["id"],templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,o){var n=this;n.numberCurrent=0,n.pageSize=3,n.allTasks=t.query(),n.numberOfPages=function(){return Math.ceil(n.allTasks.length/n.pageSize)},n.removeTask=function(e){t["delete"]({},{id:e.id},function(){n.allTasks=t.query()})},n.editTask=function(t){o.addIdData(t.id),e.go("app.edit")}}angular.module("app.alltodo",["app.alltodo.create","app.alltodo.edit"]).config(t).controller("AlltaskController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.archive",{url:"/archive",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.archived/archived.index.html",controller:"controllerArchive",controllerAs:"archived"}}})}function e(){}angular.module("app.archive",[]).config(t).controller("controllerArchive",e),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t,e){t.state("app.next",{url:"/next/:id",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.taskSeven/seven.index.html",controller:"controllerNextDays",controllerAs:"nextSeven"}}})}function e(t,e,o){var n=this;n.todayDate=moment().format("L"),n.weekDate=moment().weekday(7).format("L"),n.nextSevenEvents=t.query({},function(){var t=[];angular.forEach(n.nextSevenEvents,function(e,o){moment(e.dateNum).format("L")>=n.todayDate&&moment(e.dateNum).format("L")<=n.weekDate&&t.push(e)}),n.nextSevenEvents=t}),n.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},n.editTask=function(t){o.addIdData(t.id),e.go("app.edit")}}angular.module("app.next",[]).config(t).controller("controllerNextDays",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t,e){t.state("app.today",{url:"/today",views:{"utilities@app":{templateUrl:"html/utilities/utilities.index.html",controller:"UtilitiesController",controllerAs:"utilities"},"main@app":{templateUrl:"html/main/main.today/today.index.html",controller:"TodayController",controllerAs:"today"}}})}function e(t,e,o){var n=this;n.todayDate=moment().format("L"),n.todoTasks=t.query({},function(){var t=[];angular.forEach(n.todoTasks,function(e,o){n.todayDate==moment(e.dateNum).format("L")&&t.push(e)}),n.todoTasks=t}),n.removeTask=function(e){t["delete"]({},{id:e.id},function(){AlltaskController.allTasks=t.query()})},n.editTask=function(t){o.addIdData(t.id),e.go("app.edit")}}angular.module("app.today",[]).config(t).controller("TodayController",e),t.$inject=["$stateProvider","$urlRouterProvider"],e.$inject=["Alltasks","$state","isId"]}(),function(){"use strict";function t(t){t.state("app.create",{url:"/alltask/create",views:{"overlay@":{templateUrl:"/html/main/main.all/create.all/create.all.html",controller:"CreatetodoController",controllerAs:"createTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,o){var n=this;n.submitted=!1,n.priority=e.query(),n.user=o.query({},function(){var t=[];angular.forEach(n.user,function(e,o){t.push(n.user[o].name)}),n.user=t}),n.createTask=function(){n.formAddTasks.$valid?(n.data={},n.data={project:n.project,label:n.label,name:n.name,dateNum:n.dateNum,headerComment:n.headerComment,comment:n.comment,done:n.done},console.log(n.data.done),t.save(n.data),$("form").find("input").val(""),$("p.msg-error").removeClass("msg-error")):($("form").find("p").addClass("msg-error"),n.submitted=!0)},n.resetVal=function(){$("form").find("input").val("")}}angular.module("app.alltodo.create",["app.alltodo"]).config(t).controller("CreatetodoController",e),t.$inject=["$stateProvider"],e.$inject=["Alltasks","Projectlabel","User"]}(),function(){"use strict";function t(t){t.state("app.edit",{url:"/alltask/edit",views:{"overlay@":{templateUrl:"/html/main/main.all/edit.all/edit.all.html",controller:"EdittodoController",controllerAs:"editTodo"},"main@app":{templateUrl:"html/main/main.all/all.index.html",controller:"AlltaskController",controllerAs:"todo"}}})}function e(t,e,o){var n=this,l=t.getIdData();n.idEdit=l[0],n.task=e.get({},{id:l[0]}),n.editTask=function(){n.newTask={id:l[0],project:n.task.project,label:n.task.label,name:n.task.name,dateNum:n.task.dateNum,headerComment:n.task.headerComment,comment:n.task.comment,done:n.task.done},n.newTask.dateNum=new Date(n.task.dateNum),e.update(n.newTask),o.go("app.all")},n.cancelEdit=function(){o.go("app.all")}}angular.module("app.alltodo.edit",["app.alltodo"]).config(t).controller("EdittodoController",e),t.$inject=["$stateProvider"],e.$inject=["isId","Alltasks","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJnbG9iYWwuanMiLCJmaWx0ZXJzLmpzIiwiY29udGVudC9jb250ZW50Q29udHJvbGxlci5qcyIsImxvZ2luL2xvZ2luQ29udHJvbGxlci5qcyIsIm1haW4vbWFpbkNvbnRyb2xsZXIuanMiLCJtZW51L21lbnVDb250cm9sbGVyLmpzIiwicmVnaXN0ZXIvcmVnaXN0ZXJDb250cm9sbGVyLmpzIiwidXRpbGl0aWVzL3V0aWxpdGllc0NvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2FsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYXJjaGl2ZWQvYXJjaGl2ZWRDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLnRhc2tTZXZlbi9zZXZlbkNvbnRyb2xsZXIuanMiLCJtYWluL21haW4udG9kYXkvdG9kYXlDb250cm9sbGVyLmpzIiwibWFpbi9tYWluLmFsbC9jcmVhdGUuYWxsL2NyZWF0ZWFsbENvbnRyb2xsZXIuanMiLCJtYWluL21haW4uYWxsL2VkaXQuYWxsL2VkaXRhbGxDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRodHRwUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJjb250ZW50QCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsIm1lbnUiLCJydW4iLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwiJGNvb2tpZVN0b3JlIiwiJGh0dHAiLCJnbG9iYWxzIiwiZ2V0IiwiY3VycmVudFVzZXIiLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJhdXRoZGF0YSIsIiRvbiIsImV2ZW50IiwibmV4dCIsImN1cnJlbnQiLCJyZXN0cmljdGVkUGFnZSIsIiQiLCJpbkFycmF5IiwicGF0aCIsImxvZ2dlZEluIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiJGluamVjdCIsInN0YXR1c2NvZGUiLCJpc0Vycm9yIiwidmFsdWUiLCJNZW51bGlzdCIsIiRyZXNvdXJjZSIsImFwaWJhc2UiLCJtZXRob2QiLCJzYXZlIiwicXVlcnkiLCJpc0FycmF5IiwiZGVsZXRlIiwiUHJvamVjdGxpc3QiLCJQcm9qZWN0bGFiZWwiLCJQcm9qZWN0ZmlsdGVyIiwiQWxsdGFza3MiLCJkYXRlSnNvbiIsImZyb21Kc29uIiwiZGF0ZU51bSIsIkRhdGUiLCJpZCIsInRyYW5zZm9ybVJlc3BvbnNlIiwidXBkYXRlIiwicmVtb3ZlIiwiaXNJZCIsImlzSWRzIiwiYWRkSWREYXRhIiwibmV3SUQiLCJwdXNoIiwiZ2V0SWREYXRhIiwiZmFjdG9yeSIsInNlcnZpY2UiLCJmaWx0ZXIiLCJpbnB1dCIsInN0YXJ0Iiwic2xpY2UiLCJDb250ZW50Y29udHJvbGxlciIsIiRzY29wZSIsInRvZ2dsZUVsbSIsImxpbmsiLCJzY29wZSIsImVsZW0iLCJhdHRycyIsIm9uIiwidG9nZ2xlQ2xhc3MiLCJmaW5kIiwiaHRtbCIsInRleHQiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsIkxvZ2luQ29udHJvbGxlciIsIk1haW5Db250cm9sbGVyIiwiTWVudUNvbnRyb2xsZXIiLCIkc3RhdGVQYXJhbXMiLCJ0aGlzIiwibWVudUxpc3QiLCJwcm9qZWN0TGlzdCIsInByb2plY3RMYWJlbCIsInByb2plY3RGaWx0ZXIiLCJlbG1QYW5lbCIsIiR0ZXh0VGFyZ2V0IiwiUmVnaXN0ZXJDb250cm9sbGVyIiwiVXRpbGl0aWVzQ29udHJvbGxlciIsInRpbWUiLCJ1dGlsaXRpZXNAYXBwIiwibWFpbkBhcHAiLCJwYXJhbXMiLCJBbGx0YXNrQ29udHJvbGxlciIsIiRzdGF0ZSIsIm51bWJlckN1cnJlbnQiLCJwYWdlU2l6ZSIsImFsbFRhc2tzIiwibnVtYmVyT2ZQYWdlcyIsIk1hdGgiLCJjZWlsIiwibGVuZ3RoIiwicmVtb3ZlVGFzayIsInRhc2siLCJlZGl0VGFzayIsImdvIiwiY29udHJvbGxlckFyY2hpdmUiLCJjb250cm9sbGVyTmV4dERheXMiLCJ0b2RheURhdGUiLCJtb21lbnQiLCJmb3JtYXQiLCJ3ZWVrRGF0ZSIsIndlZWtkYXkiLCJuZXh0U2V2ZW5FdmVudHMiLCJhcnJheVBvcyIsImZvckVhY2giLCJrZXkiLCJUb2RheUNvbnRyb2xsZXIiLCJ0b2RvVGFza3MiLCJvdmVybGF5QCIsIkNyZWF0ZXRvZG9Db250cm9sbGVyIiwiVXNlciIsInN1Ym1pdHRlZCIsInByaW9yaXR5IiwidXNlciIsInVzZXJEYXRhIiwibmFtZSIsImNyZWF0ZVRhc2siLCJmb3JtQWRkVGFza3MiLCIkdmFsaWQiLCJkYXRhIiwicHJvamVjdCIsImxhYmVsIiwiaGVhZGVyQ29tbWVudCIsImNvbW1lbnQiLCJkb25lIiwiY29uc29sZSIsImxvZyIsInZhbCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJyZXNldFZhbCIsIkVkaXR0b2RvQ29udHJvbGxlciIsImVkaXRJZCIsImlkRWRpdCIsIm5ld1Rhc2siLCJjYW5jZWxFZGl0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUVBLFlBNkJBLFNBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBQUFHLFVBQUEsS0FFQUQsRUFDQUUsTUFBQSxTQUNBQyxJQUFBLFNBQ0FDLE9BQ0FDLFlBQ0FDLFlBQUEsOEJBQ0FDLFdBQUEsa0JBQ0FDLGFBQUEsWUFJQU4sTUFBQSxrQkFDQUMsSUFBQSxZQUNBQyxPQUNBQyxZQUNBQyxZQUFBLG9DQUNBQyxXQUFBLHFCQUNBQyxhQUFBLGVBSUFOLE1BQUEsT0FDQUMsSUFBQSxXQUNBQyxPQUNBSyxNQUNBSCxZQUFBLDRCQUNBQyxXQUFBLGlCQUNBQyxhQUFBLFlBRUFILFlBQ0FDLFlBQUEsa0NBQ0FDLFdBQUEsb0JBQ0FDLGFBQUEsY0FLQSxRQUFBRSxHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUlBSCxFQUFBSSxRQUFBRixFQUFBRyxJQUFBLGVBRUFMLEVBQUFJLFFBQUFFLGNBQ0FILEVBQUFJLFNBQUFDLFFBQUFDLE9BQUEsY0FBQSxRQUFBVCxFQUFBSSxRQUFBRSxZQUFB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LGFBQUEsV0FPQSxRQUFBOEksR0FBQTVGLEVBQUFULEVBQUFxRCxHQUVBLEdBQUFnRCxHQUFBOUQsS0FDQStELEVBQUE3RixFQUFBSyxXQUVBdUYsR0FBQUUsT0FBQUQsRUFBQSxHQUNBRCxFQUFBdkMsS0FBQTlELEVBQUFqQyxRQUFBc0MsR0FBQWlHLEVBQUEsS0FFQUQsRUFBQXRDLFNBQUEsV0FFQXNDLEVBQUFHLFNBRUFuRyxHQUFBaUcsRUFBQSxHQUNBWixRQUFBVyxFQUFBdkMsS0FBQTRCLFFBQ0FDLE1BQUFVLEVBQUF2QyxLQUFBNkIsTUFDQU4sS0FBQWdCLEVBQUF2QyxLQUFBdUIsS0FDQWxGLFFBQUFrRyxFQUFBdkMsS0FBQTNELFFBQ0F5RixjQUFBUyxFQUFBdkMsS0FBQThCLGNBQ0FDLFFBQUFRLEVBQUF2QyxLQUFBK0IsUUFDQUMsS0FBQU8sRUFBQXZDLEtBQUFnQyxNQUlBTyxFQUFBRyxRQUFBckcsUUFBQSxHQUFBQyxNQUFBaUcsRUFBQXZDLEtBQUEzRCxTQUNBSCxFQUFBTyxPQUFBOEYsRUFBQUcsU0FDQW5ELEVBQUFXLEdBQUEsWUFJQXFDLEVBQUFJLFdBQUEsV0FDQXBELEVBQUFXLEdBQUEsWUE1REFsRixRQUFBQyxPQUFBLG9CQUNBLGdCQUVBbkMsT0FBQUEsR0FDQVUsV0FBQSxxQkFBQStJLEdkeXRCQ3pKLEVBQU9xQyxTQUFXLGtCQW9DbEJvSCxFQUFtQnBILFNBQVcsT0FBUSxXQUFZIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtdKTtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xuXHRcdCd1aS5yb3V0ZXInLFxuXHRcdCduZ0FuaW1hdGUnLFxuXHRcdCduZ1Jlc291cmNlJyxcblx0XHQnbmdDb29raWVzJyxcblx0XHQnYXBwLmFwaScsXG5cdFx0J2FwcC5nbG9iYWwnLFxuXHRcdCdhcHAubWVudScsXG5cdFx0J2FwcC5sb2dpbicsXG5cdFx0J2FwcC5yZWdpc3RlcicsXG5cdFx0J2FwcC5tYWluJyxcblx0XHQnYXBwLnV0aWxpdHknLFxuXHRcdCdhcHAuYWxsdG9kbycsXG5cdFx0J2FwcC5uZXh0Jyxcblx0XHQnYXBwLnRvZGF5Jyxcblx0XHQnYXBwLmNvbnRlbnQnLFxuXHRcdCdhcHAuYXJjaGl2ZSdcblx0XSlcblxuXHQuY29uc3RhbnQoJ3NpdGVuYW1lJywgJ2FwcGxvY2FsJylcblx0LmNvbnN0YW50KCdhcGliYXNlJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcpXG5cdC5jb25zdGFudCgnYXBpdmVyc2lvbicsICcvdjEuMCcpXG5cblx0LmNvbmZpZyhjb25maWcpXG5cdC5ydW4ocnVuKTtcblxuXHRmdW5jdGlvbiBjb25maWcoJHVybFJvdXRlclByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyLCAkc3RhdGVQcm92aWRlcikge1xuXG5cdFx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XG5cdFx0XHRcdHVybDonL2xvZ2luJyxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnY29udGVudEAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbG9naW4vbG9naW4uaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2xvZ2luJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zdGF0ZSgnbG9naW4ucmVnaXN0ZXInLCB7XG5cdFx0XHRcdHVybDogJy9yZWdpc3RlcicsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J2NvbnRlbnRAJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3JlZ2lzdGVyL3JlZ2lzdGVyLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdyZWdpc3Rlcidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuc3RhdGUoJ2FwcCcsIHtcblx0XHRcdFx0dXJsOiAnL2NvbnRlbnQnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdtZW51Jzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21lbnUvbWVudS5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdNZW51Q29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdtZW51RGF0YSdcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdjb250ZW50QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9jb250ZW50L2NvbnRlbnQuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQ29udGVudGNvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnY29udGVudCdcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9XG5cdGZ1bmN0aW9uIHJ1biggJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkY29va2llU3RvcmUsICRodHRwICkge1xuXG5cdFx0Ly8ga2VlcCB1c2VyIGxvZ2dlZCBpbiBhZnRlciBwYWdlIHJlZnJlc2guXG5cdFx0XG5cdFx0JHJvb3RTY29wZS5nbG9iYWxzID0gJGNvb2tpZVN0b3JlLmdldCgnZ2xvYmFscycpIHx8IHt9O1xuXG5cdFx0aWYgKCAkcm9vdFNjb3BlLmdsb2JhbHMuY3VycmVudFVzZXIgKSB7XG5cdFx0XHQkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0Jhc2ljJyArICRyb290U2NvcGUuZ2xvYmFscy5jdXJyZW50VXNlci5hdXRoZGF0YTtcblx0XHR9XG5cblx0XHQkcm9vdFNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIG5leHQsIGN1cnJlbnQpIHtcblxuXHRcdFx0Ly8gcmVkaXJlY3QgdG8gbG9naW4gcGFnZSBpZiBub3QgbG9nZ2VkIGluIGFuZCB0cnlpbmcgdG8gYWNlc3MgYSByZXN0cmljdGVkIHBhZ2UuXG5cdFx0XHR2YXIgcmVzdHJpY3RlZFBhZ2UgPSAkLmluQXJyYXkoJGxvY2F0aW9uLnBhdGgoKSwgWycvbG9naW4nXSkgPT09IC0xO1xuXHRcdFx0dmFyIGxvZ2dlZEluID0gJHJvb3RTY29wZS5nbG9iYWxzLmN1cnJlbnRVc2VyO1xuXHRcdFx0aWYgKCByZXN0cmljdGVkUGFnZSAmJiAhbG9nZ2VkSW4gKSB7XG5cdFx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknLCBbXSk7XG5cblx0Ly8gZGF0YSAtIHN0YXR1c0NvZGUuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnc3RhdHVzY29kZScsIHN0YXR1c2NvZGUpO1xuXHRmdW5jdGlvbiBzdGF0dXNjb2RlKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRpc0Vycm9yOiBmdW5jdGlvbih2YWx1ZSkgeyBcblx0XHRcdFx0cmV0dXJuICh2YWx1ZSA9PSAxKSA/IHRydWUgOiBmYWxzZTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0Ly8gUkVTVGZ1bCBkYXRhXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnTWVudWxpc3QnLCBNZW51bGlzdCk7XG5cdGZ1bmN0aW9uIE1lbnVsaXN0KCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbWFpbm1lbnUnLCB7fSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJ30sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQnZGVsZXRlJzoge21ldGhvZDonREVMRVRFJ31cblxuXHRcdH0pO1xuXHR9XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hcGknKS5mYWN0b3J5KCdQcm9qZWN0bGlzdCcsIFByb2plY3RsaXN0KTtcblx0ZnVuY3Rpb24gUHJvamVjdGxpc3QoJHJlc291cmNlLCBhcGliYXNlKSB7XG5cdFx0cmV0dXJuICRyZXNvdXJjZShhcGliYXNlICsgJy9wcm9qZWN0Jywge30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCd9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J2RlbGV0ZSc6IHttZXRob2Q6J0RFTEVURSd9XG5cblx0XHR9KTtcblx0fVxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGxhYmVsJywgUHJvamVjdGxhYmVsKTtcblx0ZnVuY3Rpb24gUHJvamVjdGxhYmVsKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvbGFiZWxzJywge30sIFxuXHRcdHtcblx0XHRcdFxuXHRcdFx0J2dldCc6ICAgIHttZXRob2Q6J0dFVCd9LFxuICBcdFx0XHQnc2F2ZSc6ICAge21ldGhvZDonUE9TVCd9LFxuICBcdFx0XHQncXVlcnknOiAge21ldGhvZDonR0VUJywgaXNBcnJheTp0cnVlfSxcbiAgXHRcdFx0J2RlbGV0ZSc6IHttZXRob2Q6J0RFTEVURSd9XG5cblx0XHR9KTtcblx0fVxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuZmFjdG9yeSgnUHJvamVjdGZpbHRlcicsIFByb2plY3RmaWx0ZXIpO1xuXHRmdW5jdGlvbiBQcm9qZWN0ZmlsdGVyKCRyZXNvdXJjZSwgYXBpYmFzZSkge1xuXHRcdHJldHVybiAkcmVzb3VyY2UoYXBpYmFzZSArICcvZmlsdGVycycsIHt9LCBcblx0XHR7XG5cdFx0XHRcblx0XHRcdCdnZXQnOiAgICB7bWV0aG9kOidHRVQnfSxcbiAgXHRcdFx0J3NhdmUnOiAgIHttZXRob2Q6J1BPU1QnfSxcbiAgXHRcdFx0J3F1ZXJ5JzogIHttZXRob2Q6J0dFVCcsIGlzQXJyYXk6dHJ1ZX0sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFwaScpLmZhY3RvcnkoJ0FsbHRhc2tzJywgQWxsdGFza3MpO1xuXHRmdW5jdGlvbiBBbGx0YXNrcygkcmVzb3VyY2UsIGFwaWJhc2UpIHtcblxuXHRcdHZhciBkYXRlSnNvbiA9IGZ1bmN0aW9uICggQWxsdGFza3MgKSB7XG5cdFx0XHRBbGx0YXNrcyA9IGFuZ3VsYXIuZnJvbUpzb24oQWxsdGFza3MpO1xuXHRcdFx0QWxsdGFza3MuZGF0ZU51bSA9IG5ldyBEYXRlIChBbGx0YXNrcy5kYXRlTnVtKTtcblx0XHRcdHJldHVybiBBbGx0YXNrcztcdFxuXHRcdH07XG5cblx0XHRyZXR1cm4gJHJlc291cmNlKGFwaWJhc2UgKyAnL3Rhc2svOmlkJywge2lkOidAaWQnfSwgXG5cdFx0e1xuXHRcdFx0XG5cdFx0XHQnZ2V0JzogICAge21ldGhvZDonR0VUJywgdHJhbnNmb3JtUmVzcG9uc2U6IGRhdGVKc29uIH0sXG4gIFx0XHRcdCdzYXZlJzogICB7bWV0aG9kOidQT1NUJ30sXG4gIFx0XHRcdCd1cGRhdGUnOiB7bWV0aG9kOidQVVQnIH0sXG4gIFx0XHRcdCdxdWVyeSc6ICB7bWV0aG9kOidHRVQnLCBpc0FycmF5OnRydWV9LFxuICBcdFx0XHQncmVtb3ZlJzoge21ldGhvZDonREVMRVRFJ30sXG4gIFx0XHRcdCdkZWxldGUnOiB7bWV0aG9kOidERUxFVEUnfVxuXG5cdFx0fSk7XG5cdH1cblxuXHQvLyBTZXJ2aWNlXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXBpJykuc2VydmljZSgnaXNJZCcsIGlzSWQpO1xuXHRmdW5jdGlvbiBpc0lkICgpIHtcblxuXHRcdHZhciBpc0lkcyA9IFtdO1xuXG5cdFx0dmFyIGFkZElkRGF0YSA9IGZ1bmN0aW9uIChuZXdJRCkge1xuXHRcdFx0aXNJZHMgPSBbXTtcblx0XHRcdGlzSWRzLnB1c2gobmV3SUQpO1xuXHRcdH07XG5cblx0XHR2YXIgZ2V0SWREYXRhID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGlzSWRzO1xuXHRcdH07XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWRkSWREYXRhOiBhZGRJZERhdGEsXG5cdFx0XHRnZXRJZERhdGE6IGdldElkRGF0YVxuXG5cdFx0fTtcblx0fVxuXG59KSgpO1xuXG4vKlxuXHRTT01FIEFVVEhFTlRJQ0FUSU9OICYgTE9HSU4gSURFQVMuXG5cblx0U2ltcGxlTG9naW46IFxuXHRcdGh0dHBzOi8vZ2l0aHViLmNvbS9jb3JuZmxvdXJibHVlL2FuZ3VsYXItcmVnaXN0cmF0aW9uLWxvZ2luLWV4YW1wbGVcblxuXHRBdXRob3JpemF0aW9uOiBcblx0XHRodHRwOi8vamFzb253YXRtb3JlLmNvbS9wb3N0LzIwMTUvMDMvMTAvQW5ndWxhckpTLVVzZXItUmVnaXN0cmF0aW9uLWFuZC1Mb2dpbi1FeGFtcGxlLmFzcHgjYXBwXG5cblx0Um9sZXM6IFxuXHRcdGh0dHA6Ly9hcnRodXIuZ29uaWdiZXJnLmNvbS8yMDEzLzA2LzI5L2FuZ3VsYXJqcy1yb2xlLWJhc2VkLWF1dGgvXG5cdFx0XG5cdFF1aWNrIFJvbGUtQmFzZWQgQXV0aGVudGljYXRpb246XG5cdFx0aHR0cDovL2pvbnNhbXdlbGwuY29tL3VybC1yb3V0ZS1hdXRob3JpemF0aW9uLWFuZC1zZWN1cml0eS1pbi1hbmd1bGFyL1xuXG4qL1xuIiwiKGZ1bmN0aW9uKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmdsb2JhbCcsW10pXG5cblx0XHQuZmlsdGVyKCdwYWdpbmF0aW9uJywgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gKCBpbnB1dCwgc3RhcnQgKSB7XG5cblx0XHRcdFx0c3RhcnQgPSArc3RhcnQ7XG5cdFx0XHRcdHJldHVybiBpbnB1dC5zbGljZShzdGFydCk7XG5cblx0XHRcdH07XG5cdFx0fSk7XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250ZW50JywgW10pXG5cdC5jb250cm9sbGVyKCdDb250ZW50Y29udHJvbGxlcicsIENvbnRlbnRjb250cm9sbGVyKVxuXHQuZGlyZWN0aXZlKCd0b2dnbGVFbG0nLCB0b2dnbGVFbG0pO1xuXG5cdGZ1bmN0aW9uIENvbnRlbnRjb250cm9sbGVyICggJHNjb3BlICkge31cblxuXHRmdW5jdGlvbiB0b2dnbGVFbG0gKCkge1xuXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdGxpbms6IGxpbmssXG5cdFx0XHRyZXN0cmljdDogJ0EnXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRpcmVjdGl2ZTtcblxuXHRcdGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cblx0XHRcdGVsZW0ub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblxuXHQgICAgICAgICAgICAkKCcud3JhcHBlcicpLnRvZ2dsZUNsYXNzKCdwYW5lbEFuaW1hdGVzJyk7XG5cdCAgICAgICAgICAgIGVsZW0uZmluZCgnc3BhbicpLmh0bWwoJCgnLmNsb3NlQnRuIHNwYW4nKS50ZXh0KCkgPT0gJ09wZW4nID8gJ0Nsb3NlJyA6ICdPcGVuJyk7XG5cblx0ICAgICAgICB9KTtcblxuXHRcdH1cblxuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5sb2dpbicsW10pXG5cdC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlciAoKSB7IFxuXG5cdFx0dmFyIGxvZ2luQ29udHJvbGxlciA9IHRoaXM7XG5cblx0fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAubWFpbicsW10pXG5cdC8vLmNvbmZpZyhjb25maWcpXG5cdC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyKTtcblxuLypcblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5hbGwnLCB7XG5cdFx0XHRcdHVybDonL2FsbFRhc2tzJyxcblx0XHRcdFx0YWJzdHJhY3Q6IGZhbHNlLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICdVdGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ01haW5Db250cm9sbGVyJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuKi9cblx0ZnVuY3Rpb24gTWFpbkNvbnRyb2xsZXIoKSB7fVxuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAubWVudScsW10pXG5cdC5jb250cm9sbGVyKCdNZW51Q29udHJvbGxlcicsIE1lbnVDb250cm9sbGVyKVxuXHQuZGlyZWN0aXZlKCdlbG1QYW5lbCcsIGVsbVBhbmVsKTtcblxuXHRmdW5jdGlvbiBNZW51Q29udHJvbGxlciggTWVudWxpc3QsIFByb2plY3RsaXN0LCBQcm9qZWN0bGFiZWwsIFByb2plY3RmaWx0ZXIsICRzdGF0ZVBhcmFtcyApIHtcblxuXHRcdHZhciBNZW51Q29udHJvbGxlciA9IHRoaXM7XG5cblx0XHRNZW51Q29udHJvbGxlci5tZW51TGlzdCA9IE1lbnVsaXN0LnF1ZXJ5KCk7XG5cdFx0TWVudUNvbnRyb2xsZXIucHJvamVjdExpc3QgPSBQcm9qZWN0bGlzdC5xdWVyeSgpO1xuXHRcdE1lbnVDb250cm9sbGVyLnByb2plY3RMYWJlbCA9IFByb2plY3RsYWJlbC5xdWVyeSgpO1xuXHRcdE1lbnVDb250cm9sbGVyLnByb2plY3RGaWx0ZXIgPSBQcm9qZWN0ZmlsdGVyLnF1ZXJ5KCk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGVsbVBhbmVsKCkge1xuXG5cdFx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRcdGxpbms6IGxpbmssXG5cdFx0XHRyZXN0cmljdDogJ0EnXG5cdFx0fTtcblxuXHRcdHJldHVybiBkaXJlY3RpdmU7XG5cblx0XHRmdW5jdGlvbiBsaW5rICAoc2NvcGUsIGVsZW0sIGF0dHJzKSB7XG5cblx0XHRcdGVsZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyICR0ZXh0VGFyZ2V0ID0gJCgnLmNvbnRlbnQgLmNsb3NlQnRuJykuZmluZCgnc3BhbicpO1xuXHRcdFx0XHQkKCcud3JhcHBlcicpLnRvZ2dsZUNsYXNzKCdwYW5lbEFuaW1hdGVzJyk7XG5cdFx0XHRcdCR0ZXh0VGFyZ2V0Lmh0bWwoICR0ZXh0VGFyZ2V0LnRleHQoKSA9PSAnQ2xvc2UnID8gJ09wZW4nIDogJ0Nsb3NlJyk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2VyIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5yZWdpc3RlcicsIFtdKVxuXHQuY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgUmVnaXN0ZXJDb250cm9sbGVyKTtcblxuXHRmdW5jdGlvbiBSZWdpc3RlckNvbnRyb2xsZXIoKSB7XG5cblx0XHR2YXIgcmVnaXN0ZXJDb250cm9sbGVyID0gdGhpcztcblxuXHR9O1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLnV0aWxpdHknLFtdKVxuXHQuY29udHJvbGxlcignVXRpbGl0aWVzQ29udHJvbGxlcicsIFV0aWxpdGllc0NvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIFV0aWxpdGllc0NvbnRyb2xsZXIoKSB7XG5cdFx0XG5cdFx0dmFyIFV0aWxpdGllc0NvbnRyb2xsZXIgPSB0aGlzO1xuXHRcdFV0aWxpdGllc0NvbnRyb2xsZXIudGltZSA9IG5ldyBEYXRlKCk7XG5cdFx0XG5cdH0gXG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5hbGx0b2RvJywgW1xuXHRcdCdhcHAuYWxsdG9kby5jcmVhdGUnLFxuXHRcdCdhcHAuYWxsdG9kby5lZGl0J1xuXHRdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ0FsbHRhc2tDb250cm9sbGVyJywgQWxsdGFza0NvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmFsbCcsIHtcblx0XHRcdFx0dXJsOicvYWxsdGFzay86aWQnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL3V0aWxpdGllcy91dGlsaXRpZXMuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVXRpbGl0aWVzQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHRwYXJhbXM6WydpZCddLFxuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICdodG1sL21haW4vbWFpbi5hbGwvYWxsLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ0FsbHRhc2tDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3RvZG8nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIEFsbHRhc2tDb250cm9sbGVyICggQWxsdGFza3MsICRzdGF0ZSwgaXNJZCApIHtcblxuXHRcdHZhciBBbGx0YXNrQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0XHRBbGx0YXNrQ29udHJvbGxlci5udW1iZXJDdXJyZW50ID0gMDtcblx0XHRcblx0XHRBbGx0YXNrQ29udHJvbGxlci5wYWdlU2l6ZSA9IDM7XG5cdFx0QWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFxuXHRcdEFsbHRhc2tDb250cm9sbGVyLm51bWJlck9mUGFnZXMgPSAgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIE1hdGguY2VpbChBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcy5sZW5ndGggLyBBbGx0YXNrQ29udHJvbGxlci5wYWdlU2l6ZSk7XG5cdFx0fTtcblxuXHRcdEFsbHRhc2tDb250cm9sbGVyLnJlbW92ZVRhc2sgPSBmdW5jdGlvbiAodGFzaykge1xuXHRcdFx0QWxsdGFza3MuZGVsZXRlKHt9LCB7J2lkJzogdGFzay5pZH0sIGZ1bmN0aW9uICgpIHtcblx0XHRcdCAgICBBbGx0YXNrQ29udHJvbGxlci5hbGxUYXNrcyA9IEFsbHRhc2tzLnF1ZXJ5KCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdFxuXHRcdEFsbHRhc2tDb250cm9sbGVyLmVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdGlzSWQuYWRkSWREYXRhKHRhc2suaWQpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuZWRpdCcpO1xuXHRcdH07XG5cdFx0XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYXJjaGl2ZScsW10pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignY29udHJvbGxlckFyY2hpdmUnLCBjb250cm9sbGVyQXJjaGl2ZSk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblx0XHRcblx0XHQkc3RhdGVQcm92aWRlclxuXHRcdFx0LnN0YXRlKCdhcHAuYXJjaGl2ZScsIHtcblx0XHRcdFx0dXJsOiAnL2FyY2hpdmUnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCd1dGlsaXRpZXNAYXBwJzoge1xuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC91dGlsaXRpZXMvdXRpbGl0aWVzLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd1dGlsaXRpZXMnXG5cdFx0XHRcdH0sXG5cdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFyY2hpdmVkL2FyY2hpdmVkLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdjb250cm9sbGVyQXJjaGl2ZScsXG5cdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnYXJjaGl2ZWQnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbnRyb2xsZXJBcmNoaXZlKCkge31cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLm5leHQnLFtdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ2NvbnRyb2xsZXJOZXh0RGF5cycsIGNvbnRyb2xsZXJOZXh0RGF5cyk7XG5cblx0ZnVuY3Rpb24gY29uZmlnICggJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciApIHtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcC5uZXh0Jywge1xuXHRcdFx0XHR1cmw6Jy9uZXh0LzppZCcsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4udGFza1NldmVuL3NldmVuLmluZGV4Lmh0bWwnLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlcjogJ2NvbnRyb2xsZXJOZXh0RGF5cycsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICduZXh0U2V2ZW4nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbnRyb2xsZXJOZXh0RGF5cyAoIEFsbHRhc2tzLCAkc3RhdGUsIGlzSWQgKSB7XG5cblx0XHR2YXIgY29udHJvbGxlck5leHREYXlzID0gdGhpcztcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy50b2RheURhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ0wnKTtcblx0XHRjb250cm9sbGVyTmV4dERheXMud2Vla0RhdGUgPSBtb21lbnQoKS53ZWVrZGF5KDcpLmZvcm1hdCgnTCcpO1xuXG5cdFx0Y29udHJvbGxlck5leHREYXlzLm5leHRTZXZlbkV2ZW50cyA9IEFsbHRhc2tzLnF1ZXJ5KHt9LCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIGFycmF5UG9zID0gW107XG5cblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChjb250cm9sbGVyTmV4dERheXMubmV4dFNldmVuRXZlbnRzLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuXG5cdFx0XHRcdGlmICggbW9tZW50KHZhbHVlLmRhdGVOdW0pLmZvcm1hdCgnTCcpID49IGNvbnRyb2xsZXJOZXh0RGF5cy50b2RheURhdGUgJiYgbW9tZW50KHZhbHVlLmRhdGVOdW0pLmZvcm1hdCgnTCcpIDw9IGNvbnRyb2xsZXJOZXh0RGF5cy53ZWVrRGF0ZSApIHtcblx0XHRcdFx0XHRhcnJheVBvcy5wdXNoKHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0XHRjb250cm9sbGVyTmV4dERheXMubmV4dFNldmVuRXZlbnRzID0gYXJyYXlQb3M7XG5cblx0XHR9KTtcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5yZW1vdmVUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdEFsbHRhc2tzLmRlbGV0ZSh7fSwgeydpZCc6IHRhc2suaWR9LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHQgICAgQWxsdGFza0NvbnRyb2xsZXIuYWxsVGFza3MgPSBBbGx0YXNrcy5xdWVyeSgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGNvbnRyb2xsZXJOZXh0RGF5cy5lZGl0VGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRpc0lkLmFkZElkRGF0YSh0YXNrLmlkKTtcblx0XHRcdCRzdGF0ZS5nbygnYXBwLmVkaXQnKTtcblx0XHR9O1xuXHR9XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC50b2RheScsW10pXG5cdC5jb25maWcoY29uZmlnKVxuXHQuY29udHJvbGxlcignVG9kYXlDb250cm9sbGVyJywgVG9kYXlDb250cm9sbGVyKTtcblx0Ly8uZmlsdGVyKCdmaWx0ZXJUb2RheUV2ZW50cycsIGZpbHRlclRvZGF5RXZlbnRzKTtcblxuXHRmdW5jdGlvbiBjb25maWcgKCAkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLnRvZGF5Jywge1xuXHRcdFx0XHR1cmw6Jy90b2RheScsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J3V0aWxpdGllc0BhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvdXRpbGl0aWVzL3V0aWxpdGllcy5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdVdGlsaXRpZXNDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3V0aWxpdGllcydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4udG9kYXkvdG9kYXkuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnVG9kYXlDb250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ3RvZGF5J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBUb2RheUNvbnRyb2xsZXIoIEFsbHRhc2tzLCAkc3RhdGUsIGlzSWQgKSB7XG5cblx0XHR2YXIgVG9kYXlDb250cm9sbGVyID0gdGhpcztcblxuXHRcdFRvZGF5Q29udHJvbGxlci50b2RheURhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ0wnKTtcblxuXHRcdFRvZGF5Q29udHJvbGxlci50b2RvVGFza3MgPSBBbGx0YXNrcy5xdWVyeSh7fSwgZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciBhcnJheVBvcyA9IFtdO1xuXHRcdFx0XHRcblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChUb2RheUNvbnRyb2xsZXIudG9kb1Rhc2tzLCBmdW5jdGlvbih2YWx1ZSwga2V5KXtcblxuXHRcdFx0XHRpZiAoIFRvZGF5Q29udHJvbGxlci50b2RheURhdGUgPT0gbW9tZW50KHZhbHVlLmRhdGVOdW0pLmZvcm1hdCgnTCcpICkge1xuXHRcdFx0XHRcdGFycmF5UG9zLnB1c2godmFsdWUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRUb2RheUNvbnRyb2xsZXIudG9kb1Rhc2tzID0gYXJyYXlQb3M7XG5cblx0XHR9KTtcblx0XHRUb2RheUNvbnRyb2xsZXIucmVtb3ZlVGFzayA9IGZ1bmN0aW9uICh0YXNrKSB7XG5cdFx0XHRBbGx0YXNrcy5kZWxldGUoe30sIHsnaWQnOiB0YXNrLmlkfSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0ICAgIEFsbHRhc2tDb250cm9sbGVyLmFsbFRhc2tzID0gQWxsdGFza3MucXVlcnkoKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdFx0VG9kYXlDb250cm9sbGVyLmVkaXRUYXNrID0gZnVuY3Rpb24gKHRhc2spIHtcblx0XHRcdGlzSWQuYWRkSWREYXRhKHRhc2suaWQpO1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuZWRpdCcpO1xuXHRcdH07XG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmFsbHRvZG8uY3JlYXRlJyxbXG5cdFx0J2FwcC5hbGx0b2RvJ1xuXHRdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ0NyZWF0ZXRvZG9Db250cm9sbGVyJywgQ3JlYXRldG9kb0NvbnRyb2xsZXIpO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmNyZWF0ZScsIHtcblxuXHRcdFx0XHR1cmw6ICcvYWxsdGFzay9jcmVhdGUnLFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdvdmVybGF5QCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL2h0bWwvbWFpbi9tYWluLmFsbC9jcmVhdGUuYWxsL2NyZWF0ZS5hbGwuaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQ3JlYXRldG9kb0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAnY3JlYXRlVG9kbydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYWluQGFwcCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnaHRtbC9tYWluL21haW4uYWxsL2FsbC5pbmRleC5odG1sJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXI6ICdBbGx0YXNrQ29udHJvbGxlcicsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyQXM6ICd0b2RvJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIENyZWF0ZXRvZG9Db250cm9sbGVyICggQWxsdGFza3MsIFByb2plY3RsYWJlbCwgVXNlcikge1xuXG5cdFx0dmFyIENyZWF0ZXRvZG9Db250cm9sbGVyID0gdGhpcztcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnN1Ym1pdHRlZCA9IGZhbHNlO1xuXG5cdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIucHJpb3JpdHkgPSBQcm9qZWN0bGFiZWwucXVlcnkoKTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLnVzZXIgPSBVc2VyLnF1ZXJ5KHt9LCBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHVzZXJEYXRhID0gW107XG5cblx0XHRcdGFuZ3VsYXIuZm9yRWFjaChDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG5cblx0XHRcdFx0dXNlckRhdGEucHVzaChDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyW2tleV0ubmFtZSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci51c2VyID0gdXNlckRhdGE7XG5cdFx0XHRcblx0XHR9KTtcblxuXHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmNyZWF0ZVRhc2sgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdGlmIChDcmVhdGV0b2RvQ29udHJvbGxlci5mb3JtQWRkVGFza3MuJHZhbGlkKSB7XG5cblx0XHRcdFx0Q3JlYXRldG9kb0NvbnRyb2xsZXIuZGF0YSA9IHt9O1xuXG5cdFx0XHRcdENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGEgPSB7XG5cblx0XHRcdFx0XHRwcm9qZWN0OiBDcmVhdGV0b2RvQ29udHJvbGxlci5wcm9qZWN0LFxuXHRcdFx0XHRcdGxhYmVsOiBDcmVhdGV0b2RvQ29udHJvbGxlci5sYWJlbCxcblx0XHRcdFx0XHRuYW1lOiBDcmVhdGV0b2RvQ29udHJvbGxlci5uYW1lLFxuXHRcdFx0XHRcdGRhdGVOdW06IENyZWF0ZXRvZG9Db250cm9sbGVyLmRhdGVOdW0sXG5cdFx0XHRcdFx0aGVhZGVyQ29tbWVudDogQ3JlYXRldG9kb0NvbnRyb2xsZXIuaGVhZGVyQ29tbWVudCxcblx0XHRcdFx0XHRjb21tZW50OiBDcmVhdGV0b2RvQ29udHJvbGxlci5jb21tZW50LFxuXHRcdFx0XHRcdGRvbmU6IENyZWF0ZXRvZG9Db250cm9sbGVyLmRvbmVcblx0XHRcdFx0XHRcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyhDcmVhdGV0b2RvQ29udHJvbGxlci5kYXRhLmRvbmUpO1xuXG5cdFx0XHRcdEFsbHRhc2tzLnNhdmUoQ3JlYXRldG9kb0NvbnRyb2xsZXIuZGF0YSk7XG5cdFx0XHRcdCQoJ2Zvcm0nKS5maW5kKCdpbnB1dCcpLnZhbCgnJyk7XG5cdFx0XHRcdCQoJ3AubXNnLWVycm9yJykucmVtb3ZlQ2xhc3MoJ21zZy1lcnJvcicpO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdCQoJ2Zvcm0nKS5maW5kKCdwJykuYWRkQ2xhc3MoJ21zZy1lcnJvcicpO1xuXHRcdFx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5zdWJtaXR0ZWQgPSB0cnVlO1xuXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHRDcmVhdGV0b2RvQ29udHJvbGxlci5yZXNldFZhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JCgnZm9ybScpLmZpbmQoJ2lucHV0JykudmFsKCcnKTtcblx0XHR9O1xuXG5cdH1cblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXHRcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuYWxsdG9kby5lZGl0JyxbXG5cdFx0J2FwcC5hbGx0b2RvJ1xuXHRdKVxuXHQuY29uZmlnKGNvbmZpZylcblx0LmNvbnRyb2xsZXIoJ0VkaXR0b2RvQ29udHJvbGxlcicsIEVkaXR0b2RvQ29udHJvbGxlciApO1xuXG5cdGZ1bmN0aW9uIGNvbmZpZyAoICRzdGF0ZVByb3ZpZGVyICkge1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwLmVkaXQnLCB7XG5cblx0XHRcdFx0dXJsOiAnL2FsbHRhc2svZWRpdCcsXG5cdFx0XHRcdHZpZXdzOiB7XG5cblx0XHRcdFx0XHQnb3ZlcmxheUAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy9odG1sL21haW4vbWFpbi5hbGwvZWRpdC5hbGwvZWRpdC5hbGwuaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnRWRpdHRvZG9Db250cm9sbGVyJyxcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJBczogJ2VkaXRUb2RvJ1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFpbkBhcHAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJ2h0bWwvbWFpbi9tYWluLmFsbC9hbGwuaW5kZXguaHRtbCcsXG5cdFx0XHRcdFx0XHRjb250cm9sbGVyOiAnQWxsdGFza0NvbnRyb2xsZXInLFxuXHRcdFx0XHRcdFx0Y29udHJvbGxlckFzOiAndG9kbydcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBFZGl0dG9kb0NvbnRyb2xsZXIgKCBpc0lkLCBBbGx0YXNrcywgJHN0YXRlICkge1xuXG5cdFx0dmFyIEVkaXR0b2RvQ29udHJvbGxlciA9IHRoaXM7XG5cdFx0dmFyIGVkaXRJZCA9IGlzSWQuZ2V0SWREYXRhKCk7XG5cblx0XHRFZGl0dG9kb0NvbnRyb2xsZXIuaWRFZGl0ID0gZWRpdElkWzBdO1xuXHRcdEVkaXR0b2RvQ29udHJvbGxlci50YXNrID0gQWxsdGFza3MuZ2V0KHt9LHsnaWQnOiBlZGl0SWRbMF19KTtcblxuXHRcdEVkaXR0b2RvQ29udHJvbGxlci5lZGl0VGFzayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XG5cdFx0XHRFZGl0dG9kb0NvbnRyb2xsZXIubmV3VGFzayA9IHtcblxuXHRcdFx0XHRpZDogZWRpdElkWzBdLFxuXHRcdFx0XHRwcm9qZWN0OiBFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5wcm9qZWN0LFxuXHRcdFx0XHRsYWJlbDogRWRpdHRvZG9Db250cm9sbGVyLnRhc2subGFiZWwsXG5cdFx0XHRcdG5hbWU6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLm5hbWUsXG5cdFx0XHRcdGRhdGVOdW06IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmRhdGVOdW0sXG5cdFx0XHRcdGhlYWRlckNvbW1lbnQ6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmhlYWRlckNvbW1lbnQsXG5cdFx0XHRcdGNvbW1lbnQ6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmNvbW1lbnQsXG5cdFx0XHRcdGRvbmU6IEVkaXR0b2RvQ29udHJvbGxlci50YXNrLmRvbmVcblxuXHRcdFx0fTtcblxuXHRcdFx0RWRpdHRvZG9Db250cm9sbGVyLm5ld1Rhc2suZGF0ZU51bSA9IG5ldyBEYXRlIChFZGl0dG9kb0NvbnRyb2xsZXIudGFzay5kYXRlTnVtKTtcblx0XHRcdEFsbHRhc2tzLnVwZGF0ZShFZGl0dG9kb0NvbnRyb2xsZXIubmV3VGFzayk7XG5cdFx0XHQkc3RhdGUuZ28oJ2FwcC5hbGwnKTtcblxuXHRcdH07XG5cblx0XHRFZGl0dG9kb0NvbnRyb2xsZXIuY2FuY2VsRWRpdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JHN0YXRlLmdvKCdhcHAuYWxsJyk7XHRcdFx0XG5cdFx0fTtcblx0XHRcblx0fVxuXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==